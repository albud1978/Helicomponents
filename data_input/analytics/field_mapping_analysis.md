# –ê–Ω–∞–ª–∏–∑ –ø–æ–ª–µ–π Status_Components.xlsx –¥–ª—è ClickHouse Fact Sheet

## üìä –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- **–û–±—ä–µ–º –¥–∞–Ω–Ω—ã—Ö**: 108,623 —Å—Ç—Ä–æ–∫–∏ √ó 20 —Å—Ç–æ–ª–±—Ü–æ–≤
- **–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞**: ~8.6 –ú–ë
- **–ü–µ—Ä–∏–æ–¥ –¥–∞–Ω–Ω—ã—Ö**: 1899-2026 –≥–≥ (–≤–∫–ª—é—á–∞—è –ø—Ä–æ–≥–Ω–æ–∑–Ω—ã–µ –¥–∞—Ç—ã)

## üîç –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø–æ–ª–µ–π

| ‚Ññ  | –ü–æ–ª–µ                | –¢–∏–ø –∏—Å—Ö–æ–¥–Ω—ã–π | NULL  | –£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö | –¢–∏–ø ClickHouse       | –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è         |
|----|---------------------|--------------|-------|------------|---------------------|-------------------|
| 1  | partno              | object       | 0     | 4,722      | UInt16 (dim_partno) | LowCardinality ‚Üí ID |
| 2  | serialno            | object       | 4     | 91,097     | LowCardinality(String) | –í—ã—Å–æ–∫–∞—è –∫–∞—Ä–¥–∏–Ω–∞–ª—å–Ω–æ—Å—Ç—å |
| 3  | ac_typ              | object       | 19,341| 14         | UInt8 (dim_ac_typ)  | LowCardinality ‚Üí ID |
| 4  | location            | object       | 4     | 726        | LowCardinality(String) | –ù–æ–º–µ—Ä–∞ –í–° |
| 5  | ll                  | float64      | 42,506| 3,117      | UInt32              | –ú–∏–Ω—É—Ç—ã ‚Üí –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è |
| 6  | oh                  | float64      | 64,398| 1,927      | UInt32              | –ú–∏–Ω—É—Ç—ã ‚Üí –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è |
| 7  | oh_threshold        | float64      | 65,921| 29         | UInt32              | –ú–∏–Ω—É—Ç—ã ‚Üí –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è |
| 8  | sne                 | float64      | 44,503| 28,692     | UInt32              | –ú–∏–Ω—É—Ç—ã ‚Üí –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è |
| 9  | ppr                 | float64      | 54,013| 12,413     | UInt32              | –ú–∏–Ω—É—Ç—ã ‚Üí –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è |
| 10 | mfg_date            | object       | 4     | 11,163     | Date                | –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ –¥–∞—Ç—É |
| 11 | removal_date        | datetime64   | 89,327| 1,639      | Nullable(Date)      | –£–∂–µ –¥–∞—Ç–∞ |
| 12 | target_date         | object       | 108,314| 108       | Nullable(Date)      | –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ –¥–∞—Ç—É |
| 13 | lease_restricted    | object       | 96,874| 1          | UInt8               | –ë—É–ª–µ–≤–æ –ø–æ–ª–µ |
| 14 | owner               | object       | 0     | 9          | UInt8 (dim_owner)   | LowCardinality ‚Üí ID |
| 15 | condition           | object       | 0     | 17         | UInt8 (dim_condition)| LowCardinality ‚Üí ID |
| 16 | version_date        | –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ   | 0     | 1          | Date                | –ò–∑ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞ |
| ‚ùå | oh_interval         | float64      | 64,411| 28         | ‚ùå –ù–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è   | –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ ETL |
| ‚ùå | oh_at_date          | datetime64   | 66,535| 4,499      | ‚ùå –ù–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è   | –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ ETL |
| ‚ùå | shop_visit_counter  | float64      | 4     | 23         | ‚ùå –ù–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è   | –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ ETL |
| ‚ùå | repair_date         | object       | 106,899| 311       | ‚ùå –ù–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è   | –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ ETL |
| ‚ùå | –°—á–µ—Ç                | float64      | 108,350| 1         | ‚ùå –ù–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è   | –°–ª—É–∂–µ–±–Ω–æ–µ –ø–æ–ª–µ |

## üéØ –ö–ª—é—á–µ–≤—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∞–ª—å–Ω—ã–µ –ø–æ–ª—è –¥–ª—è LowCardinality

### ac_typ (14 –∑–Ω–∞—á–µ–Ω–∏–π)
```
–ú–∏-17    49,217 (45.3%)
–ú–∏-8–¢    34,399 (31.7%)
350B3     2,255 (2.1%)
355NP     1,472 (1.4%)
–ú–ò26–¢     1,422 (1.3%)
...
```

### owner (9 –∑–Ω–∞—á–µ–Ω–∏–π)  
```
–Æ–¢-–í–£        78,553 (72.3%)
UTE          18,173 (16.7%)
–ì–¢–õ–ö         11,737 (10.8%)
...
```

### condition (17 –∑–Ω–∞—á–µ–Ω–∏–π)
```
–ò–°–ü–†–ê–í–ù–´–ô                90,796 (83.6%)
–ù–ï–ò–°–ü–†–ê–í–ù–´–ô              17,581 (16.2%)
–î–û–ù–û–†                       129 (0.1%)
...
```

## ‚ö° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### 1. –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏
- **partno** (4,722 ‚Üí UInt16): —ç–∫–æ–Ω–æ–º–∏—è ~75% –º–µ—Å—Ç–∞
- **ac_typ** (14 ‚Üí UInt8): —ç–∫–æ–Ω–æ–º–∏—è ~90% –º–µ—Å—Ç–∞  
- **owner** (9 ‚Üí UInt8): —ç–∫–æ–Ω–æ–º–∏—è ~90% –º–µ—Å—Ç–∞
- **condition** (17 ‚Üí UInt8): —ç–∫–æ–Ω–æ–º–∏—è ~90% –º–µ—Å—Ç–∞

### 2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —á–∏—Å–ª–æ–≤—ã—Ö –ø–æ–ª–µ–π
- **–†–µ—Å—É—Ä—Å—ã –≤ –º–∏–Ω—É—Ç–∞—Ö** ‚Üí UInt32 (–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è 4.2 –º–ª—Ä–¥ –º–∏–Ω—É—Ç = 8,000 –ª–µ—Ç)
- **shop_visit_counter** ‚Üí UInt8 (–º–∞–∫—Å–∏–º—É–º 35 –ø–æ—Å–µ—â–µ–Ω–∏–π)
- **lease_restricted** ‚Üí UInt8 (0/1 –≤–º–µ—Å—Ç–æ 'Y'/NULL)

### 3. –û–±—Ä–∞–±–æ—Ç–∫–∞ NULL –∑–Ω–∞—á–µ–Ω–∏–π
- **–í—ã—Å–æ–∫–∏–π % NULL**: oh_threshold (60.7%), oh (59.3%)
- **–°—Ä–µ–¥–Ω–∏–π % NULL**: ll (39.1%), sne (41.0%), ppr (49.7%)
- **–ö—Ä–∏—Ç–∏—á–Ω—ã–µ –ø–æ–ª—è**: mfg_date, serialno, location - –º–∏–Ω–∏–º—É–º NULL

### 4. –ü–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
```sql
PARTITION BY (year, month)           -- –ü–æ –¥–∞—Ç–µ –∑–∞–≥—Ä—É–∑–∫–∏
PRIMARY KEY (version_date, partno_id, location)
ORDER BY (version_date, partno_id, location, serialno, ac_typ_id)
```

### 5. –ò–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ
- **Bloom filter** –¥–ª—è serialno (–≤—ã—Å–æ–∫–∞—è —Å–µ–ª–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å)
- **MinMax** –¥–ª—è —Ä–µ—Å—É—Ä—Å–Ω—ã—Ö –ø–æ–ª–µ–π (–¥–∏–∞–ø–∞–∑–æ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã)
- **MinMax** –¥–ª—è –¥–∞—Ç (–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–∏–∞–ø–∞–∑–æ–Ω—ã)

## üî¢ –†–∞—Å—á–µ—Ç —ç–∫–æ–Ω–æ–º–∏–∏ –º–µ—Å—Ç–∞

| –ü–æ–ª–µ         | –ë—ã–ª–æ       | –°—Ç–∞–Ω–µ—Ç    | –≠–∫–æ–Ω–æ–º–∏—è  |
|--------------|------------|-----------|-----------|
| partno       | String(20) | UInt16    | 90%       |
| ac_typ       | String(10) | UInt8     | 92%       |
| owner        | String(15) | UInt8     | 94%       |
| condition    | String(30) | UInt8     | 97%       |
| serialno     | String(20) | LowCard   | 60%       |
| location     | String(10) | LowCard   | 70%       |
| **–ò–¢–û–ì–û**    | **~2.1GB** | **~0.8GB**| **62%**   |

## üöÄ –í—ã–≥–æ–¥—ã –¥–ª—è Flame GPU

1. **–ö–æ–º–ø–∞–∫—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö** ‚Üí –±–æ–ª—å—à–µ –¥–∞–Ω–Ω—ã—Ö –≤ GPU –ø–∞–º—è—Ç–∏
2. **–í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏** ‚Üí UInt8/UInt16/UInt32 –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ –¥–ª—è GPU
3. **–í–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** ‚Üí —á–∏—Å–ª–æ–≤—ã–µ —Ç–∏–ø—ã –±—ã—Å—Ç—Ä–µ–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è
4. **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Üí –º–µ–Ω—å—à–µ —Ä–∞–∑–º–µ—Ä = –ª—É—á—à–µ –ª–æ–∫–∞–ª—å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö

## ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º—ã –¥–ª—è —Ä–µ—à–µ–Ω–∏—è

1. **–û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è** –≤ sne (-38,452) –∏ ppr (-1,346,724)
2. **–ê–Ω–æ–º–∞–ª—å–Ω—ã–µ –¥–∞—Ç—ã** –≤ mfg_date (1899 –≥–æ–¥) –∏ target_date (2026 –≥–æ–¥)
3. **–í—ã—Å–æ–∫–∏–π % NULL** –≤ —Ä–µ—Å—É—Ä—Å–Ω—ã—Ö –ø–æ–ª—è—Ö - –Ω—É–∂–Ω–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è
4. **version_date** - –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –∏–∑ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞ Status_Components.xlsx

## üìÅ **–ü–æ–ª—è —Å–æ–≥–ª–∞—Å–Ω–æ OLAP MultiBOM.xlsx ETL —Å—Ö–µ–º–µ**

### ‚úÖ **–ó–ê–ì–†–£–ñ–ê–ï–ú–´–ï (16 –ø–æ–ª–µ–π)**:
- 15 –ø–æ–ª–µ–π –∏–∑ Status_Components.xlsx
- 1 –ø–æ–ª–µ –∏–∑ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞ (version_date)

### ‚ùå **–ù–ï –ó–ê–ì–†–£–ñ–ê–ï–ú–´–ï (5 –ø–æ–ª–µ–π)**:
- oh_interval, oh_at_date, shop_visit_counter, repair_date - –Ω–µ —Ç—Ä–µ–±—É—é—Ç—Å—è –ø–æ ETL
- –°—á–µ—Ç - —Å–ª—É–∂–µ–±–Ω–æ–µ –ø–æ–ª–µ Excel

## üìã –ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π

1. ‚úÖ –°–æ–∑–¥–∞—Ç—å —Å—Ö–µ–º—É ClickHouse —Å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏
2. ‚è≥ –°–æ–∑–¥–∞—Ç—å ETL –ø—Ä–æ—Ü–µ—Å—Å —Å –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–µ–π —á–µ—Ä–µ–∑ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏
3. ‚è≥ –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –∞–Ω–æ–º–∞–ª—å–Ω—ã–µ –∏ NULL –∑–Ω–∞—á–µ–Ω–∏—è
4. ‚è≥ –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
5. ‚è≥ –°–æ–∑–¥–∞—Ç—å cudf DataFrame –¥–ª—è Flame GPU –ø—Ä–æ—Ü–µ—Å—Å–∏–Ω–≥–∞ 