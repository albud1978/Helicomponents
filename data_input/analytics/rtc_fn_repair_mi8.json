{
  "rtc_function": "fn_repair_mi8",
  "aircraft_type": "МИ-8Т",
  "ac_type_mask": 32,
  "status_id": 4,
  "execution_condition": "status_id == 4",
  
  "triggers": [
    {
      "name": "trigger_repair",
      "condition": "repair_days == repair_time",
      "macroproperty_sources": [
        {"name": "repair_time", "type": "MacroProperty1", "field_id": 64}
      ],
      "action": "status_change",
      "new_status": 5
    }
  ],
  
  "variables": {
    "input": [
      {"name": "status_id", "type": "Variable", "source": "agent", "value": 4},
      {"name": "psn", "type": "Variable", "source": "agent"},
      {"name": "aircraft_number", "type": "Variable", "source": "agent"},
      {"name": "sne", "type": "Variable", "source": "agent"},
      {"name": "ppr", "type": "Variable", "source": "agent"},
      {"name": "repair_days", "type": "Variable", "source": "agent"}
    ],
    "output": [
      {"name": "status_id", "type": "Variable", "target": "agent", "action": "conditional_change"},
      {"name": "psn", "type": "Variable", "target": "agent", "action": "no_change"},
      {"name": "aircraft_number", "type": "Variable", "target": "agent", "action": "no_change"},
      {"name": "sne", "type": "Variable", "target": "agent", "action": "no_change"},
      {"name": "ppr", "type": "Variable", "target": "agent", "action": "conditional_reset"},
      {"name": "repair_days", "type": "Variable", "target": "agent", "action": "increment", "formula": "repair_days + 1"}
    ]
  }
}