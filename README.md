# Helicopter Component Lifecycle

üöÅ **–°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤–µ—Ä—Ç–æ–ª—ë—Ç–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Agent-Based –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ FLAME GPU**

> ‚ö†Ô∏è **–í—Å–µ –∫–æ–º–∞–Ω–¥—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∏–∑ –∫–æ—Ä–Ω—è –ø—Ä–æ–µ–∫—Ç–∞ (Helicomponents/)**

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

| –ü–∞–ø–∫–∞ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-------|------------|
| `code/` | –ê–∫—Ç–∏–≤–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (ETL, —Å–∏–º—É–ª—è—Ü–∏—è, —É—Ç–∏–ª–∏—Ç—ã) |
| `code/sim_v2/` | –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä —Å–∏–º—É–ª—è—Ü–∏–∏ FLAME GPU |
| `docs/` | –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ |
| `data_input/source_data/` | –í—Ö–æ–¥–Ω—ã–µ –¥–∞—Ç–∞—Å–µ—Ç—ã (`v_YYYY-MM-DD/`) |
| `output/` | –í—ã—Ö–æ–¥–Ω—ã–µ –æ—Ç—á—ë—Ç—ã –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã |
| `config/` | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã |
| `logs/` | –õ–æ–≥–∏ —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã |

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
# 1. –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ
source .venv/bin/activate

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î
python3 code/utils/test_db_connection.py

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å ETL (–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –≤—ã–±–æ—Ä –¥–∞—Ç–∞—Å–µ—Ç–∞ –∏ —Ä–µ–∂–∏–º–∞)
python3 code/extract_master.py

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∏–º—É–ª—è—Ü–∏—é ‚Äî —Å–º. —Ä–∞–∑–¥–µ–ª "–°–∏–º—É–ª—è—Ü–∏—è (FLAME GPU)"
#    MP2 —ç–∫—Å–ø–æ—Ä—Ç:
#    - --mp2-export-short ‚Üí sim_masterv2_short (—Ç–æ–ª—å–∫–æ –¥–Ω–∏ —Å –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏)
#    - --mp2-export-full  ‚Üí sim_masterv2 (–ø–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è, –≤–∫–ª—é—á–µ–Ω–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
#    –°–ø–∏—Å–æ–∫ transition-—Ñ–ª–∞–≥–æ–≤ –∏ –ø—Ä–∞–≤–∏–ª–∞ PPR (–≤–∫–ª—é—á–∞—è 2‚Üí7 –∏ 7‚Üí2) ‚Äî –≤ docs/validation.md
#    –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–≤–æ—Ç —Å—á–∏—Ç–∞–µ—Ç ops –ø–æ intent=2 (—Å–º. docs/validation.md)
#    –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–µ–º–æ–Ω—Ç–∞ –∏–¥—ë—Ç –≤ serviceable (4‚Üí3), —Å–º. docs/validation.md
```

> **–ü–æ–ª–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:** —Å–º. —Ä–∞–∑–¥–µ–ª "–°–∏–º—É–ª—è—Ü–∏—è (FLAME GPU)" –Ω–∏–∂–µ.

---

## üß™ –°–∏–º—É–ª—è—Ü–∏—è (FLAME GPU) ‚Äî –∫–æ–º–∞–Ω–¥—ã –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è

### RTC –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —è–¥–µ—Ä
- **RTC_MAX_FRAMES = 400** ‚Äî —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–∞–∑–º–µ—Ä MacroProperty –¥–ª—è –≤—Å–µ—Ö –¥–∞—Ç–∞—Å–µ—Ç–æ–≤
- –Ø–¥—Ä–∞ –∫–æ–º–ø–∏–ª–∏—Ä—É—é—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ (~8 –º–∏–Ω), –¥–∞–ª–µ–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫—ç—à
- –ö—ç—à: `.rtc_cache/` (~266 —Ñ–∞–π–ª–æ–≤ –ø–æ—Å–ª–µ –ø–æ–ª–Ω–æ–≥–æ –ø—Ä–æ–≥–æ–Ω–∞ —Å MP2)
- –ü—Ä–∏ —Å–º–µ–Ω–µ –¥–∞—Ç–∞—Å–µ—Ç–∞ –ø–µ—Ä–µ–∫–æ–º–ø–∏–ª—è—Ü–∏—è –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è (—Ä–∞–∑–º–µ—Ä—ã –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ)

### –ü–æ–ª–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ —Å–∏–º—É–ª—è—Ü–∏–∏ –ø–ª–∞–Ω–µ—Ä–æ–≤
```bash
cd code/sim_v2 && python3 orchestrator_v2.py \
  --version-date 2025-07-04 \
  --modules state_2_operations states_stub count_ops quota_repair quota_ops_excess \
    quota_promote_serviceable quota_promote_reserve quota_promote_inactive spawn_dynamic \
    state_manager_serviceable state_manager_operations state_manager_repair \
    state_manager_storage state_manager_reserve state_manager_inactive spawn_v2 \
  --steps 3650 --enable-mp2 --enable-mp2-postprocess --drop-table
```

‚ö†Ô∏è **–ö–†–ò–¢–ò–ß–ù–û**: –ë–µ–∑ –ø–æ–ª–Ω–æ–≥–æ –Ω–∞–±–æ—Ä–∞ `--modules` (–æ—Å–æ–±–µ–Ω–Ω–æ `state_2_operations` –∏ `spawn_dynamic`) dt/sne –Ω–µ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –∏ —Å–ø–∞–≤–Ω –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç.  
‚ö†Ô∏è `--drop-table` **–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω** –¥–ª—è –ø–µ—Ä–≤–æ–≥–æ –ø—Ä–æ–≥–æ–Ω–∞ DS1 (2025-07-04). –î–ª—è DS2 **–ù–ï –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å** ‚Äî –∏–Ω–∞—á–µ –¥–∞–Ω–Ω—ã–µ DS1 —É–¥–∞–ª—è—Ç—Å—è!

### –°–∏–º—É–ª—è—Ü–∏—è –∞–≥—Ä–µ–≥–∞—Ç–æ–≤ (–ø–æ—Å–ª–µ –ø–ª–∞–Ω–µ—Ä–æ–≤!)
```bash
# DS1 (–ø–µ—Ä–≤—ã–π –¥–∞—Ç–∞—Å–µ—Ç) ‚Äî —Å --drop-table:
cd code/sim_v2/units && python3 orchestrator_units.py \
  --version-date 2025-07-04 \
  --steps 3650 --export --drop-table

# DS2 (–≤—Ç–æ—Ä–æ–π –¥–∞—Ç–∞—Å–µ—Ç) ‚Äî –ë–ï–ó --drop-table:
cd code/sim_v2/units && python3 orchestrator_units.py \
  --version-date 2025-12-30 \
  --steps 3650 --export
```

‚ö†Ô∏è **–ü–û–°–õ–ï–î–û–í–ê–¢–ï–õ–¨–ù–û–°–¢–¨**: –ü–ª–∞–Ω–µ—Ä—ã ‚Üí `sim_masterv2`, –∑–∞—Ç–µ–º –∞–≥—Ä–µ–≥–∞—Ç—ã (—á–∏—Ç–∞–µ—Ç dt –∏–∑ `sim_masterv2`).

### –ê—Ä–≥—É–º–µ–Ω—Ç—ã —Å–∏–º—É–ª—è—Ü–∏–∏
| –ê—Ä–≥—É–º–µ–Ω—Ç | –ü–ª–∞–Ω–µ—Ä—ã | –ê–≥—Ä–µ–≥–∞—Ç—ã | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|---------|----------|----------|
| `--version-date` | ‚úÖ | ‚úÖ | –î–∞—Ç–∞ –¥–∞—Ç–∞—Å–µ—Ç–∞ (YYYY-MM-DD) |
| `--steps` | ‚úÖ | ‚úÖ | –î–Ω–µ–π —Å–∏–º—É–ª—è—Ü–∏–∏ (3650 = 10 –ª–µ—Ç) |
| `--enable-mp2` | ‚úÖ | ‚Äî | –≠–∫—Å–ø–æ—Ä—Ç –≤ sim_masterv2 |
| `--enable-mp2-postprocess` | ‚úÖ | ‚Äî | GPU –ø–æ—Å—Ç–ø—Ä–æ—Ü–µ—Å—Å–∏–Ω–≥ (1‚Üí4‚Üí2) |
| `--mp2-export-full` | ‚úÖ | ‚Äî | –ü–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è MP2 (sim_masterv2) |
| `--mp2-export-short` | ‚úÖ | ‚Äî | –¢–æ–ª—å–∫–æ –¥–Ω–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π (sim_masterv2_short) |
| `--mp2-table-base-name` | ‚úÖ | ‚Äî | –ë–∞–∑–æ–≤–æ–µ –∏–º—è —Ç–∞–±–ª–∏—Ü—ã MP2 |
| `--mp2-short-table-suffix` | ‚úÖ | ‚Äî | –°—É—Ñ—Ñ–∏–∫—Å short-—Ç–∞–±–ª–∏—Ü—ã |
| `--export` | ‚Äî | ‚úÖ | –≠–∫—Å–ø–æ—Ä—Ç –≤ sim_units_v2 |
| `--drop-table` | DS1 | DS1 | –û—á–∏—Å—Ç–∫–∞ —Ç–∞–±–ª–∏—Ü—ã (—Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–π –¥–∞—Ç–∞—Å–µ—Ç!) |

–ü—Ä–∏–º–µ—á–∞–Ω–∏—è –ø–æ MP2:
- –ï—Å–ª–∏ `--mp2-export-short` –Ω–µ —É–∫–∞–∑–∞–Ω, **–ø–æ–ª–Ω–∞—è –≤—ã–≥—Ä—É–∑–∫–∞ –≤–∫–ª—é—á–µ–Ω–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**.
- –ï—Å–ª–∏ –∑–∞–¥–∞–Ω—ã –æ–±–∞ —Ñ–ª–∞–≥–∞ (`--mp2-export-short` –∏ `--mp2-export-full`), –≤—ã–≥—Ä—É–∑–∫–∞ –∏–¥—ë—Ç –≤ –¥–≤–µ —Ç–∞–±–ª–∏—Ü—ã: short ‚Üí full.

### –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –ø–æ—Ä—è–¥–∫–∞ –º–æ–¥—É–ª–µ–π
1. `spawn_dynamic` –ø–µ—Ä–µ–¥ state_managers (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Å–ø–∞–≤–Ω –ø–æ –¥–µ—Ñ–∏—Ü–∏—Ç—É)
2. `spawn_v2` –≤—Å–µ–≥–¥–∞ –≤ –∫–æ–Ω—Ü–µ (–¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∞–≤–Ω)
3. `state_manager_serviceable` –ø–µ—Ä–µ–¥ `state_manager_operations` (—Ö–æ–ª–¥–∏–Ω–≥ –¥–æ –ø—Ä–æ–º–æ—É—Ç–∞)
4. –ü–æ—Ä—è–¥–æ–∫ state_manager: serviceable ‚Üí operations ‚Üí repair ‚Üí storage ‚Üí reserve ‚Üí inactive

### –û—á–∏—Å—Ç–∫–∞ RTC –∫—ç—à–∞ (—Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ RTC –∫–æ–¥–∞)
```bash
rm -rf .rtc_cache/* ~/.cache/flamegpu/* /tmp/flamegpu/*
```

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –¥–∞—Ç–∞—Å–µ—Ç—ã (—è–Ω–≤–∞—Ä—å 2026)
| –î–∞—Ç–∞—Å–µ—Ç | –ü–ª–∞–Ω–µ—Ä–æ–≤ | –í ops | heli_pandas | flight_program_fl |
|---------|----------|-------|-------------|-------------------|
| `v_2025-07-04` | 279 | 154 | 10,913 | 1,164,000 (dates: 2025-07-04 ‚Äî 2036-06-15) |
| `v_2025-12-30` | 285 (+6) | 158 | 11,389 | 1,164,000 (dates: 2025-12-30 ‚Äî 2036-12-11) |

**–ú—É–ª—å—Ç–∏–≤–µ—Ä—Å–∏–æ–Ω–Ω–æ—Å—Ç—å:**
- –ö–∞–∂–¥—ã–π –¥–∞—Ç–∞—Å–µ—Ç –∏–º–µ–µ—Ç —Å–≤–æ–π `version_date` –≤ —Ç–∞–±–ª–∏—Ü–∞—Ö `flight_program_fl`, `flight_program_ac`
- –ü—Ä–∏ —Å–∏–º—É–ª—è—Ü–∏–∏ `preload_mp5_maps` –∏ `preload_mp4_by_day` —Ñ–∏–ª—å—Ç—Ä—É—é—Ç –ø–æ `version_date`
- `day_0` —Å–∏–º—É–ª—è—Ü–∏–∏ = `version_date` –¥–∞—Ç–∞—Å–µ—Ç–∞ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–∞–ø–ø–∏–Ω–≥)

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –ü—Ä–∞–≤–∏–ª–∞ –∏ –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è
| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| **`.cursor/rules/*.mdc`** | –ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –¥–ª—è Cursor AI (–º–æ–¥—É–ª—å–Ω—ã–µ) |

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| `docs/rtc_pipeline_architecture.md` | –ü–æ–ª–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ RTC –ø–∞–π–ø–ª–∞–π–Ω–∞ V2 |
| `docs/validation.md` | –ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã –∏ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è |
| `docs/spawn_dynamic_architecture.md` | –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ —Å–ø–∞–≤–Ω–∞ |

### ETL –ø—Ä–æ—Ü–µ—Å—Å—ã
| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| `docs/extract.md` | –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (–≤–∫–ª—é—á–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫—É –∫–æ–º–ø–ª–µ–∫—Ç–Ω–æ—Å—Ç–∏) |
| `docs/data_validation.md` | –ü—Ä–∞–≤–∏–ª–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö |
| `docs/transform.md` | –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö |
| `docs/load.md` | –ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ |

### –ò—Å—Ç–æ—Ä–∏—è
| –§–∞–π–ª | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| `docs/changelog.md` | –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –ø—Ä–æ–µ–∫—Ç–∞ |
| `docs/Tasktracker.md` | –¢–µ–∫—É—â–∏–µ –∏ –∞–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏ |

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Python 3.12** ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫
- **ClickHouse** ‚Äî —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö
- **FLAME GPU 2.0.0rc4** ‚Äî Agent-Based —Å–∏–º—É–ª—è—Ü–∏—è –Ω–∞ GPU
- **CUDA 13.0** ‚Äî GPU –≤—ã—á–∏—Å–ª–µ–Ω–∏—è

### –í–µ—Ä—Å–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫ (–∞–∫—Ç—É–∞–ª—å–Ω–æ –Ω–∞ 03-01-2026)

| –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ | –í–µ—Ä—Å–∏—è |
|------------|--------|
| pandas | 2.3.3 |
| numpy | 2.2.6 |
| cudf-cu12 | 25.12.0 |
| pyflamegpu | 2.0.0rc4+cuda130 |
| clickhouse-driver | 0.2.10 |
| clickhouse-connect | 0.10.0 |

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

| –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ | GPU | CUDA | –°—Ç–∞—Ç—É—Å |
|-----------|-----|------|--------|
| Linux native | RTX 30xx/40xx/50xx | 13.0 | ‚úÖ –û—Å–Ω–æ–≤–Ω–∞—è |
| Windows + WSL2 | RTX 30xx/40xx/50xx | 13.0 | ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è |
| Windows native | ‚Äî | ‚Äî | ‚ùå –ù–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è |

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫
```bash
# 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
git clone https://github.com/albud1978/Helicomponents.git
cd Helicomponents

# 2. –°–æ–∑–¥–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python3 -m venv .venv
source .venv/bin/activate

# 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt -c constraints.txt

# 4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å .env
cp .env.example .env
# –î–æ–±–∞–≤–∏—Ç—å: CLICKHOUSE_PASSWORD=your_password

# 5. –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ ETL
python3 code/extract_master.py  # ‚Üí –≤—ã–±—Ä–∞—Ç—å 1 (–¢–ï–°–¢)
```

> –î–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `constraints.txt`: –æ–Ω —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ –∫–ª—é—á–µ–≤—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫,
> –ø—Ä–∏ —ç—Ç–æ–º `requirements.txt` –æ—Å—Ç–∞—ë—Ç—Å—è ‚Äú–≤–µ—Ä—Ö–Ω–µ—É—Ä–æ–≤–Ω–µ–≤—ã–º‚Äù —Å–ø–∏—Å–∫–æ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (.env)
```bash
CLICKHOUSE_HOST=localhost
CLICKHOUSE_PORT=9000
CLICKHOUSE_PASSWORD=your_password
WORK_MODE=dev
LOG_LEVEL=INFO
```

### RTC –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (—É—Å–∫–æ—Ä—è–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –∑–∞–ø—É—Å–∫–∏ —Å–∏–º—É–ª—è—Ü–∏–∏)
```bash
mkdir -p .rtc_cache
export FLAMEGPU_RTC_EXPORT_CACHE_PATH="$(pwd)/.rtc_cache"
```

---

## üìä –®—Ç–∞—Ç–Ω—ã–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã

| –ü—Ä–æ—Ü–µ–¥—É—Ä–∞ | –ö–æ–º–∞–Ω–¥–∞ | –†–µ–∑—É–ª—å—Ç–∞—Ç |
|-----------|---------|-----------|
| –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–º–ø–ª–µ–∫—Ç–Ω–æ—Å—Ç–∏ | `python3 code/heli_pandas_ops_other_groups.py --version-date YYYY-MM-DD --version-id 1` | `output/` |
| –ê–Ω–∞–ª–∏–∑ –ª–∏–∑–∏–Ω–≥–∞ | `python3 code/heli_pandas_lease_restricted.py` | `output/` |
| –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ë–î | `python3 code/utils/test_db_connection.py` | ‚Äî |
| –û—á–∏—Å—Ç–∫–∞ —Å–ª–æ–≤–∞—Ä–µ–π | `python3 code/utils/cleanup_dictionaries.py` | ‚Äî |
| –ü–æ–ª–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ | `python3 code/utils/database_cleanup.py` | ‚Äî |
| –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ | `python3 code/analysis/sim_validation_transitions.py --version-date YYYY-MM-DD` | `output/sim_validation_YYYY-MM-DD.md` |

> **–ü–æ–¥—Ä–æ–±–Ω–µ–µ:** `docs/validation.md` –∏ `docs/extract.md`

---

## üîß –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ö–∞—Ä–¥–∫–æ–¥—ã

> ‚ö†Ô∏è **–ü—Ä–∞–≤–∏–ª–æ –ø—Ä–æ–µ–∫—Ç–∞**: –õ—é–±–æ–π —Ö–∞—Ä–¥–∫–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω. –ù–µ–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ö–∞—Ä–¥–∫–æ–¥ –∑–∞–ø—Ä–µ—â—ë–Ω.

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã (—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ)

| –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ | –§–∞–π–ª | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-----------|----------|------|------------|
| `RTC_MAX_FRAMES` | 400 | `code/model_build.py` | –†–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–æ–≤ MacroProperty –¥–ª—è –ø–ª–∞–Ω–µ—Ä–æ–≤ (–ø–æ–∫—Ä—ã–≤–∞–µ—Ç —Ä–æ—Å—Ç —Ñ–ª–æ—Ç–∞) |
| `MAX_DAYS` | 4000 | `code/model_build.py` | –ú–∞–∫—Å–∏–º—É–º –¥–Ω–µ–π —Å–∏–º—É–ª—è—Ü–∏–∏ (~10.9 –ª–µ—Ç) |
| `MAX_SIZE` | 1,600,400 | `code/model_build.py` | MAX_FRAMES √ó (MAX_DAYS + 1) |

### –°–ø—Ä–∞–≤–æ—á–Ω—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã (–∏–∑ md_components)

| –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ | –§–∞–π–ª | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-----------|----------|------|------------|
| `SPAWN_PARTSEQNO_MI8` | 70387 | `code/sim_env_setup.py` | partseqno –¥–ª—è –ø–ª–∞–Ω–µ—Ä–∞ Mi-8–¢ (group_by=1) |
| `SPAWN_PARTSEQNO_MI17` | 70386 | `code/sim_env_setup.py` | partseqno –¥–ª—è –ø–ª–∞–Ω–µ—Ä–∞ Mi-8–ê–ú–¢ (group_by=2) |
| `mi8_*_const` | –∏–∑ md_components | `code/sim_env_setup.py` | ll, oh, br, repair_time, partout_time, assembly_time |
| `mi17_*_const` | –∏–∑ md_components | `code/sim_env_setup.py` | ll, oh, br, br2_mi17, repair_time, partout_time, assembly_time |

### –î–∏–∞–ø–∞–∑–æ–Ω—ã –Ω—É–º–µ—Ä–∞—Ü–∏–∏

| –î–∏–∞–ø–∞–∑–æ–Ω | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –§–∞–π–ª |
|----------|------------|------|
| `1‚Äì99999` | –†–µ–∞–ª—å–Ω—ã–µ –±–æ—Ä—Ç–∞ –∏–∑ MP3 | ‚Äî |
| `100000‚Äì999999` | –ó–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è spawn (–Ω–æ–≤–æ—Ä–æ–∂–¥–µ–Ω–Ω—ã–µ) | `code/sim_env_setup.py` |
| `1000000+` | –ó–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–æ (–±—É–¥—É—â–µ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ) | ‚Äî |

### –ë–∏—Ç–æ–≤—ã–µ –º–∞—Å–∫–∏ —Ç–∏–ø–æ–≤ –í–°

| –¢–∏–ø –í–° | –ú–∞—Å–∫–∞ | –î–≤–æ–∏—á–Ω–æ–µ | –§–∞–π–ª |
|--------|-------|----------|------|
| –ú–ò-8–¢, –ú–ò-8–ú–¢–í, –ú–ò-8–ü | 32 | `0b00100000` | `code/enrich_heli_pandas.py` |
| –ú–ò-8–ê–ú–¢, –ú–ò-17 | 64 | `0b01000000` | `code/enrich_heli_pandas.py` |
| –ú–ò-26 | 128 | `0b10000000` | `code/enrich_heli_pandas.py` |

### –°—Ç–∞—Ç—É—Å—ã –∞–≥–µ–Ω—Ç–æ–≤

**–†–∞–±–æ—á–∏–µ —Å—Ç–∞—Ç—É—Å—ã (status_id 1-7)** ‚Äî –Ω–∞–∑–Ω–∞—á–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ `error_flags = 0`:

| Status | ID | –ù–∞–∑–≤–∞–Ω–∏–µ | –£—Å–ª–æ–≤–∏–µ |
|--------|----|----------|---------|
| inactive | 1 | –ù–µ–∞–∫—Ç–∏–≤–Ω—ã–π | –ù–µ–∏—Å–ø—Ä–∞–≤–Ω—ã–π, –Ω–µ –≤ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏, —Ç—Ä–µ—Ç—å—è –æ—á–µ—Ä–µ–¥—å –ø—Ä–æ–º–æ—É—Ç–∞ |
| operations | 2 | –≠–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—è | –ò—Å–ø—Ä–∞–≤–Ω—ã–π, —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ –±–æ—Ä—Ç |
| serviceable | 3 | –ò—Å–ø—Ä–∞–≤–Ω—ã–π –Ω–∞ —Å–∫–ª–∞–¥–µ | –ò—Å–ø—Ä–∞–≤–Ω—ã–π, –≥–æ—Ç–æ–≤ –∫ —É—Å—Ç–∞–Ω–æ–≤–∫–µ, —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–µ–º–æ—É—Ç–∞ –∏ –ø–µ—Ä–≤–∞—è –æ—á–µ—Ä–µ–¥—å –ø—Ä–æ–º–æ—É—Ç–∞ |
| repair | 4 | –†–µ–º–æ–Ω—Ç | –ù–µ–∏—Å–ø—Ä–∞–≤–Ω—ã–π, –≤ —Ä–µ–º–æ–Ω—Ç–µ |
| reserve | 5 | –†–µ–∑–µ—Ä–≤ | –°—Ç–∞—Ç—É—Å –≤—Ä–µ–º–µ–Ω–Ω–æ –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω - –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è |
| storage | 6 | –•—Ä–∞–Ω–µ–Ω–∏–µ | –í—ã—Ö–æ–¥ –∏–∑ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏, –Ω–µ—Ä–µ–º–æ–Ω—Ç–æ–ø—Ä–∏–≥–æ–¥–µ–Ω |
| unserviceable | 7 | –ù–µ–∏—Å–ø—Ä–∞–≤–Ω—ã–π | –í—ã—Ö–æ–¥ –∏–∑ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏ - —Ä–µ–º–æ–Ω—Ç–æ–ø—Ä–∏–≥–æ–¥–µ–Ω, –≤—Ç–æ—Ä–∞—è –æ—á–µ—Ä–µ–¥—å –ø—Ä–æ–º–æ—É—Ç–∞ |

**–°—Ç–∞—Ç—É—Å—ã –æ—à–∏–±–æ–∫ (status_id 10-15)** ‚Äî –±–∏—Ç–æ–≤–∞—è –º–∞—Å–∫–∞ `error_flags`:

| status_id | –§–ª–∞–≥ | –ë–∏—Ç | –£—Å–ª–æ–≤–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|------|-----|---------|----------|
| 10 | 1 | 0 | `ll = 0 OR NULL` | –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ |
| 11 | 2 | 1 | `target_date < version_date` | –î–∞—Ç–∞ —Ä–µ–º–æ–Ω—Ç–∞ –≤ –ø—Ä–æ—à–ª–æ–º |
| 12 | 4 | 2 | `condition ‚â† –ò–°–ü–†–ê–í–ù–´–ô AND sne = 0` | –ù–µ–∏—Å–ø—Ä–∞–≤–µ–Ω –ø—Ä–∏ –Ω—É–ª–µ–≤–æ–π –Ω–∞—Ä–∞–±–æ—Ç–∫–µ |
| 13 | 8 | 3 | `sne > ll OR ppr > oh` | –ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞ |
| 14 | 16 | 4 | `condition NOT IN (...)` | –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ condition |
| 15 | 32 | 5 | `–î–û–ù–û–† AND sne < br` | –î–æ–Ω–æ—Ä –ø—Ä–∏ —Ä–µ–º–æ–Ω—Ç–æ–ø—Ä–∏–≥–æ–¥–Ω–æ–º (warning) |

> **–ü–æ–¥—Ä–æ–±–Ω–µ–µ:** `docs/data_validation.md`

### –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (–ø–∞—Ä–∞–º–µ—Ç—Ä–∏–∑—É–µ–º—ã–µ)

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ | –ò—Å—Ç–æ—á–Ω–∏–∫ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|----------|----------|----------|------------|
| `br2_mi17` | 3500 —á (210000 –º–∏–Ω) | `MD_–°omponents.xlsx` | –ü–æ—Ä–æ–≥ ppr –¥–ª—è –ø–æ–¥—ä—ë–º–∞ Mi-17 –∏–∑ inactive: < –ø–æ—Ä–æ–≥–∞ ‚Üí –±–µ–∑ —Ä–µ–º–æ–Ω—Ç–∞, ‚â• –ø–æ—Ä–æ–≥–∞ ‚Üí —Ä–µ–º–æ–Ω—Ç |
| `br_mi8/br_mi17` | —Ä–∞—Å—á—ë—Ç | `calculate_beyond_repair.py` | Beyond Repair ‚Äî —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–π –ø–æ—Ä–æ–≥ —Å–ø–∏—Å–∞–Ω–∏—è |
| `oh_mi8/oh_mi17` | –∏–∑ Excel | `MD_–°omponents.xlsx` | –ú–µ–∂—Ä–µ–º–æ–Ω—Ç–Ω—ã–π —Ä–µ—Å—É—Ä—Å (—á–∞—Å—ã ‚Üí –º–∏–Ω—É—Ç—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ) |
| `ll_mi8/ll_mi17` | –∏–∑ Excel | `MD_–°omponents.xlsx` | –ù–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π —Ä–µ—Å—É—Ä—Å (—á–∞—Å—ã ‚Üí –º–∏–Ω—É—Ç—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ) |

### –°–∏–º—É–ª—è—Ü–∏–æ–Ω–Ω—ã–µ –¥–æ–ø—É—â–µ–Ω–∏—è (–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è –æ—Ç –∏–Ω–¥—É—Å—Ç—Ä–∏–∏)

| –ù—é–∞–Ω—Å | –ò–Ω–¥—É—Å—Ç—Ä–∏—è | –°–∏–º—É–ª—è—Ü–∏—è | –§–∞–π–ª | –ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è |
|-------|-----------|-----------|------|-------------|
| **–õ–æ–ø–∞—Å—Ç–∏ (group_by=6): PPR –ø–æ—Å–ª–µ —Ä–µ–º–æ–Ω—Ç–∞** | PPR = SNE (–≤—Å–µ–≥–¥–∞) | PPR = 0 (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º) | `rtc_units_state_repair.py` | **–ü—Ä–∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–µ –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SNE, –Ω–µ PPR!** |
| **PPR=0 –¥–ª—è –Ω–æ–≤—ã—Ö –∞–≥—Ä–µ–≥–∞—Ç–æ–≤** | PPR –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω | PPR = SNE –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ | `agent_population_units.py`, `agent_population.py` | FIX: ~1640 –∞–≥—Ä–µ–≥–∞—Ç–æ–≤ + 30 –ø–ª–∞–Ω–µ—Ä–æ–≤ |

### –ò—Å—Ç–æ—Ä–∏—è –∞—É–¥–∏—Ç–∞ —Ö–∞—Ä–¥–∫–æ–¥–æ–≤

| –î–∞—Ç–∞ | –î–µ–π—Å—Ç–≤–∏–µ | –°—Ç–∞—Ç—É—Å |
|------|----------|--------|
| 02-10-2025 | –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è partseqno (7 –º–µ—Å—Ç ‚Üí 1) | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ |
| 02-10-2025 | –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤—Ä–µ–º–µ–Ω–∏ –∏–∑ md_components | ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ |
| 02-10-2025 | –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö spawn –º–æ–¥—É–ª–µ–π | ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ |
| 04-01-2026 | –î–æ–±–∞–≤–ª–µ–Ω br2_mi17 –¥–ª—è –ª–æ–≥–∏–∫–∏ inactive | ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ |
| 06-01-2026 | –õ–æ–ø–∞—Å—Ç–∏: PPR=0 –ø–æ—Å–ª–µ —Ä–µ–º–æ–Ω—Ç–∞ (–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ) | ‚úÖ –•–∞—Ä–¥–∫–æ–¥ |
| 06-01-2026 | –í—ã–≥—Ä—É–∑–∫–∞ –¥–µ—Ñ–µ–∫—Ç–æ–≤ PPR –ª–æ–ø–∞—Å—Ç–µ–π | ‚úÖ `output/blades_ppr_defects_*.xlsx` |
| 07-01-2026 | FIX: PPR=SNE –¥–ª—è –Ω–æ–≤—ã—Ö –∞–≥—Ä–µ–≥–∞—Ç–æ–≤ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ | ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ |

> **–ü–æ–¥—Ä–æ–±–Ω–µ–µ:** `docs/archive/analysis/hardcode_audit_02-10-2025.md`

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License ‚Äî —Å–º. —Ñ–∞–π–ª `LICENSE`.
