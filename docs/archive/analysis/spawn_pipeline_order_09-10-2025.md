# –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –º–æ–¥—É–ª–µ–π —Å spawn –≤ –∫–æ–Ω—Ü–µ

**–î–∞—Ç–∞:** 09-10-2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û

---

## üéØ –ü—Ä–æ–±–ª–µ–º–∞

**–ë—ã–ª–æ:** Spawn –≤ –Ω–∞—á–∞–ª–µ –ø–∞–π–ø–ª–∞–π–Ω–∞
```
1. count_ops
2. spawn_v2          ‚Üê –ë–´–õ–û –ó–î–ï–°–¨
3. state_2_operations
4. quota_ops_excess
5-11. –æ—Å—Ç–∞–ª—å–Ω—ã–µ
12. MP2 export
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- Day 226: `state=operations, sne=0` (–∞–≥–µ–Ω—Ç—ã —Å—Ä–∞–∑—É –≤ operations, –Ω–æ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç)
- –ù–æ–≤—ã–µ –∞–≥–µ–Ω—Ç—ã —É—á–∞—Å—Ç–≤—É—é—Ç –≤ –∫–≤–æ—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ **–¥–Ω—è —Ä–æ–∂–¥–µ–Ω–∏—è**

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

**–°—Ç–∞–ª–æ:** Spawn –≤ –∫–æ–Ω—Ü–µ –ø–∞–π–ø–ª–∞–π–Ω–∞
```
1. count_ops
2. state_2_operations
3. quota_ops_excess
4. quota_promote_serviceable
5. quota_promote_reserve
6. quota_promote_inactive
7. states_stub
8. state_manager_serviceable
9. state_manager_operations
10. state_manager_repair
11. state_manager_storage
12. spawn_v2          ‚Üê –¢–ï–ü–ï–†–¨ –ó–î–ï–°–¨
13. MP2 export
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- Day 226: `state=serviceable, sne=0` (–Ω–æ–≤—ã–µ –∞–≥–µ–Ω—Ç—ã –≥–æ—Ç–æ–≤—ã, –Ω–æ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç)
- Day 227: `state=operations, sne=0` (–ø—Ä–æ–º–æ—É—Ç–Ω—É–ª–∏—Å—å)
- Day 228: `state=operations, sne=83` (–Ω–∞—á–∞–ª–∏ —Ä–∞–±–æ—Ç–∞—Ç—å)

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ

### –î–æ (spawn –≤ –Ω–∞—á–∞–ª–µ):
| –î–µ–Ω—å | State | Intent | SNE | PPR | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|------|-------|--------|-----|-----|-------------|
| 226 | **operations** | 2 | 0 | 0 | ‚ùå –°—Ä–∞–∑—É –≤ —Ä–∞–±–æ—Ç–µ (–Ω–µ–ª–æ–≥–∏—á–Ω–æ) |
| 227 | operations | 2 | 83 | 83 | –ù–∞—á–∞–ª–∏ —Ä–∞–±–æ—Ç–∞—Ç—å |

### –ü–æ—Å–ª–µ (spawn –≤ –∫–æ–Ω—Ü–µ):
| –î–µ–Ω—å | State | Intent | SNE | PPR | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|------|-------|--------|-----|-----|-------------|
| 226 | **serviceable** | 2 | 0 | 0 | ‚úÖ –ù–æ–≤—ã–µ, –≥–æ—Ç–æ–≤—ã –∫ —Ä–∞–±–æ—Ç–µ |
| 227 | **operations** | 2 | 0 | 0 | ‚úÖ –ü—Ä–æ–º–æ—É—Ç–Ω—É–ª–∏—Å—å (–ø–µ—Ä–µ—Ö–æ–¥) |
| 228 | operations | 2 | 83 | 83 | ‚úÖ –ù–∞—á–∞–ª–∏ —Ä–∞–±–æ—Ç–∞—Ç—å |

---

## üîç –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã

### Day 226 (–¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è):

**–ù–∞—á–∞–ª–æ –¥–Ω—è:**
- 279 –∞–≥–µ–Ω—Ç–æ–≤ (154 operations, 118 inactive, 7 repair)

**–ü–∞–π–ø–ª–∞–π–Ω:**
1. `count_ops`: –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ—Ç curr=85 (operations)
2. `quota_promote_serviceable`: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö
3. ...–æ—Å—Ç–∞–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏...
4. **`spawn_v2`**: –°–æ–∑–¥–∞—ë—Ç 7 –∞–≥–µ–Ω—Ç–æ–≤ ‚Üí `serviceable, intent=2`
5. `MP2 export`: –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç `state=serviceable` ‚úÖ

**–ö–æ–Ω–µ—Ü –¥–Ω—è:**
- 286 –∞–≥–µ–Ω—Ç–æ–≤ (154 operations, 118 inactive, 7 repair, **7 serviceable**)

---

### Day 227 (–ø–µ—Ä–≤–æ–µ –∫–≤–æ—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ):

**–ù–∞—á–∞–ª–æ –¥–Ω—è:**
- 286 –∞–≥–µ–Ω—Ç–æ–≤ (154 operations, 118 inactive, 7 repair, 7 serviceable)

**–ü–∞–π–ø–ª–∞–π–Ω:**
1. `count_ops`: –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ—Ç curr=85, svc=7 ‚úÖ
2. `states_stub`: –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç intent=2 –¥–ª—è serviceable
3. `quota_promote_serviceable`: 
   - –í–∏–¥–∏—Ç 7 –∞–≥–µ–Ω—Ç–æ–≤ –≤ serviceable
   - –†–∞–Ω–∂–∏—Ä—É–µ—Ç (youngest first)
   - –û–¥–æ–±—Ä—è–µ—Ç –ø–µ—Ä–µ—Ö–æ–¥ ‚Üí intent=2
4. `state_manager_serviceable`: –ü–µ—Ä–µ—Ö–æ–¥ 3‚Üí2 ‚úÖ
5. `MP2 export`: –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç `state=operations, sne=0` ‚úÖ

**–ö–æ–Ω–µ—Ü –¥–Ω—è:**
- 286 –∞–≥–µ–Ω—Ç–æ–≤ (161 operations, 118 inactive, 7 repair)

---

### Day 228 (–ø–µ—Ä–≤—ã–π —Ä–∞–±–æ—á–∏–π –¥–µ–Ω—å):

**–ù–∞—á–∞–ª–æ –¥–Ω—è:**
- 286 –∞–≥–µ–Ω—Ç–æ–≤ (161 operations, ...)

**–ü–∞–π–ø–ª–∞–π–Ω:**
1. `state_2_operations`: –ù–æ–≤—ã–µ –∞–≥–µ–Ω—Ç—ã –ø–æ–ª—É—á–∞—é—Ç intent=2
2. MP5 –Ω–∞—á–∏—Å–ª—è–µ—Ç –Ω–∞—Ä–∞–±–æ—Ç–∫–∏ ‚Üí **sne=83, ppr=83** ‚úÖ
3. `MP2 export`: –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç `sne=83` ‚úÖ

---

## üéì –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–≥–æ –ø–æ—Ä—è–¥–∫–∞

1. ‚úÖ **–õ–æ–≥–∏—á–Ω–æ—Å—Ç—å**: –ù–æ–≤—ã–µ –ø–ª–∞–Ω–µ—Ä—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç –≤ –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è
2. ‚úÖ **–ö–≤–æ—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ù–æ–≤—ã–µ –∞–≥–µ–Ω—Ç—ã —É—á–∞—Å—Ç–≤—É—é—Ç —Å–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ –¥–Ω—è
3. ‚úÖ **MP4 –±–∞–ª–∞–Ω—Å**: –ö–≤–æ—Ç–∞ –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç "–ø–æ—è–≤–∏–≤—à–∏—Ö—Å—è" –∞–≥–µ–Ω—Ç–æ–≤ –≤ —Ç–æ—Ç –∂–µ –¥–µ–Ω—å
4. ‚úÖ **–†–µ–∞–ª—å–Ω–æ—Å—Ç—å**: –ê–Ω–∞–ª–æ–≥–∏—è —Å —Ä–µ–∞–ª—å–Ω—ã–º –º–∏—Ä–æ–º - –ø–ª–∞–Ω–µ—Ä —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç—Å—è, –ø–æ—Ç–æ–º –≤–≤–æ–¥–∏—Ç—Å—è –≤ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—é

---

## üìù –ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞

```bash
python3 code/sim_v2/orchestrator_v2.py \
  --modules \
    count_ops \
    state_2_operations \
    quota_ops_excess \
    quota_promote_serviceable \
    quota_promote_reserve \
    quota_promote_inactive \
    states_stub \
    state_manager_serviceable \
    state_manager_operations \
    state_manager_repair \
    state_manager_storage \
    spawn_v2 \              # ‚Üê –í –ö–û–ù–¶–ï!
  --steps 3650 \
  --enable-mp2 \
  --drop-table
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞

```sql
SELECT day_u16, aircraft_number, state, intent_state, sne, ppr 
FROM sim_masterv2 
WHERE aircraft_number >= 100000 AND day_u16 IN (226, 227, 228)
ORDER BY day_u16, aircraft_number
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
Day 226: state=serviceable, intent=2, sne=0, ppr=0  ‚úÖ
Day 227: state=operations,  intent=2, sne=0, ppr=0  ‚úÖ
Day 228: state=operations,  intent=2, sne=83, ppr=83 ‚úÖ
```

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–û–¢–û–í–û  
**–ü–æ—Ä—è–¥–æ–∫ –º–æ–¥—É–ª–µ–π:** Spawn –ø–µ—Ä–µ–Ω–µ—Å—ë–Ω –≤ –∫–æ–Ω–µ—Ü (–ø–µ—Ä–µ–¥ MP2 export)  
**–õ–æ–≥–∏–∫–∞:** –ù–æ–≤—ã–µ –∞–≥–µ–Ω—Ç—ã –ø–æ—è–≤–ª—è—é—Ç—Å—è –≤ serviceable –∏ –ø—Ä–æ–º–æ—É—Ç—è—Ç—Å—è –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –¥–µ–Ω—å

