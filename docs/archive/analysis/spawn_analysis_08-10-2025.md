# üîç –ê–Ω–∞–ª–∏–∑: –ü–æ—á–µ–º—É –Ω–æ–≤—ã–µ –∞–≥–µ–Ω—Ç—ã –ø–æ—Å–ª–µ spawn –Ω–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ –æ–±–æ—Ä–æ—Ç

**–î–∞—Ç–∞:** 08-10-2025  
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–æ–≤—ã–µ –∞–≥–µ–Ω—Ç—ã (ACN 100000+), —Å–æ–∑–¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ spawn, –Ω–µ –ø–æ–ø–∞–¥–∞—é—Ç –≤ operations –∏ –Ω–µ –ø–æ–ª—É—á–∞—é—Ç –Ω–∞—Ä–∞–±–æ—Ç–∫—É

---

## üìä –§–∞–∫—Ç—ã –∏–∑ –∫–æ–¥–∞

### 1. ‚úÖ Spawn —Å–æ–∑–¥–∞—ë—Ç –∞–≥–µ–Ω—Ç–æ–≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**–§–∞–π–ª:** `code/sim_v2/rtc_modules/rtc_spawn_v2.py:164-170`
```cpp
// –ù–æ–≤—ã–µ –∞–≥–µ–Ω—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è —Å:
sne = 0
ppr = 0  
cso = 0
intent_state = 2      // ‚úÖ —Ö–æ—Ç—è—Ç –≤ operations!
state = "serviceable" // ‚úÖ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–ª—è –ø—Ä–æ–º–æ—É—Ç–∞
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç –∏–∑ –ª–æ–≥–æ–≤:**
- –î–µ–Ω—å 226: —Å–æ–∑–¥–∞–Ω–æ 7 –∞–≥–µ–Ω—Ç–æ–≤ Mi-17
- idx: 279-285
- ACN: 100000-100006

---

### 2. ‚úÖ MP5 —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–∞–Ω–Ω—ã–µ –¥–ª—è –Ω–æ–≤—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤

**–ò—Å—Ç–æ—á–Ω–∏–∫:** –¢–∞–±–ª–∏—Ü–∞ `flight_program_fl` –≤ ClickHouse  
**–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º:** –ù–æ–≤—ã–µ –ø–ª–∞–Ω–µ—Ä—ã –≤–Ω–æ—Å—è—Ç—Å—è –Ω–∞ —ç—Ç–∞–ø–µ Extract –∏–∑ Excel

**–§–∞–π–ª:** `code/sim_env_setup.py:161-173`
```python
def preload_mp5_maps(client):
    rows = client.execute("""
        SELECT dates, aircraft_number, daily_hours
        FROM flight_program_fl
        ORDER BY dates, aircraft_number
    """)
```

‚úÖ **–ù–æ–≤—ã–µ ACN (100000+) –î–û–õ–ñ–ù–´ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å –≤ —Ç–∞–±–ª–∏—Ü–µ**

---

### 3. ‚ùå –ü–†–û–ë–õ–ï–ú–ê #1: frames_index –ù–ï –≤–∫–ª—é—á–∞–µ—Ç –±—É–¥—É—â–∏–µ ACN!

**–§–∞–π–ª:** `code/sim_env_setup.py:372-389`

```python
# –ë–∞–∑–∞ –¥–ª—è ACN: –º–∞–∫—Å–∏–º—É–º —Å—Ä–µ–¥–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö/MP5 –∏ –ø–æ—Ä–æ–≥ 100000
existing_set = set(ac_mp3_ordered)
existing_set.update(ac_mp5_set)  # ‚úÖ ac_mp5_set —Å–æ–¥–µ—Ä–∂–∏—Ç 100000+
max_existing_acn = max(existing_set) if existing_set else 0
base_acn_spawn = max(100000, max_existing_acn + 1)

# –°–æ–±–∏—Ä–∞–µ–º –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ: MP3 ‚Üí –¥–æ–ø. –∏–∑ MP5 (–±–µ–∑ –±—É–¥—É—â–∏—Ö ACN)
ac_union = list(ac_mp3_ordered)
extra_from_mp5 = sorted([ac for ac in ac_mp5_set if ac not in frames_index_mp3])
ac_union.extend(extra_from_mp5)  # ‚úÖ –ó–¥–µ—Å—å –î–û–õ–ñ–ù–´ –±—ã—Ç—å 100000+

# ‚ùå –ù–û! –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –≥–æ–≤–æ—Ä–∏—Ç "–±–µ–∑ –±—É–¥—É—â–∏—Ö ACN"
# –ë—É–¥—É—â–∏–µ ACN –Ω–µ –≤–∫–ª—é—á–∞–µ–º –≤ FRAMES: –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è —Å—Ç–∞–±–∏–ª—å–Ω–∞ –ø–æ |MP3 ‚à™ MP5|
frames_index = {ac: i for i, ac in enumerate(ac_union)}
frames_total = len(frames_index)  # = 286
```

**–í–æ–ø—Ä–æ—Å:** –í–∫–ª—é—á–µ–Ω—ã –ª–∏ ACN 100000+ –≤ `ac_mp5_set`?

**–õ–æ–≥–∏–∫–∞:**
- `ac_mp5_set` —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –∏–∑ `mp5_by_day` (—Å—Ç—Ä–æ–∫–∏ 349-352)
- `mp5_by_day` –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏–∑ `flight_program_fl` (—Å—Ç—Ä–æ–∫–∞ 161)
- **–ï–°–õ–ò** –≤ –ë–î –µ—Å—Ç—å ACN 100000+, **–¢–û** –æ–Ω–∏ –ø–æ–ø–∞–¥—É—Ç –≤ `ac_mp5_set`
- **–ï–°–õ–ò** –∏—Ö –Ω–µ—Ç –≤ `frames_index_mp3` (–∏–∑ MP3), **–¢–û** –æ–Ω–∏ –ø–æ–ø–∞–¥—É—Ç –≤ `extra_from_mp5`
- **–¢–û–ì–î–ê** –æ–Ω–∏ –ø–æ–ø–∞–¥—É—Ç –≤ `frames_index`!

**–ü—Ä–æ–≤–µ—Ä–∫–∞:** `frames_total = 286` ‚úÖ (279 –∏–∑ MP3 + 7 –∏–∑ MP5)

**–í—ã–≤–æ–¥:** `frames_index` –°–û–î–ï–†–ñ–ò–¢ ACN 100000-100006 —Å idx 279-285

---

### 4. ‚úÖ MP5 linear —Å—Ç—Ä–æ–∏—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ

**–§–∞–π–ª:** `code/sim_env_setup.py:228-241`
```python
def build_mp5_linear(mp5_by_day, days_sorted, frames_index, frames_total):
    for d_idx, D in enumerate(days_sorted):
        by_ac = mp5_by_day.get(D, {})
        base = d_idx * frames_total
        for ac, hours in by_ac.items():
            fi = frames_index.get(int(ac), -1)  # ‚úÖ –ò—â–µ–º ACN –≤ frames_index
            if fi >= 0:
                arr[base + fi] = int(hours or 0)  # ‚úÖ –ó–∞–ø–∏—Å—ã–≤–∞–µ–º –ø–æ idx
```

**–õ–æ–≥–∏–∫–∞:**
- –î–ª—è ACN 100000: `fi = frames_index.get(100000)` ‚Üí –≤–µ—Ä–Ω—ë—Ç 279 (–µ—Å–ª–∏ –≤ frames_index)
- –ï—Å–ª–∏ `fi >= 0`: –∑–∞–ø–∏—Å—ã–≤–∞–µ–º `hours` –≤ `arr[day*286 + 279]`

**–í—ã–≤–æ–¥:** –ï–°–õ–ò ACN 100000+ –≤ `frames_index`, **–¢–û** –∏—Ö MP5 –¥–∞–Ω–Ω—ã–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–æ–ø–∞–¥—É—Ç –≤ `mp5_linear`

---

### 5. ‚ùå –ü–†–û–ë–õ–ï–ú–ê #2: Spawn –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π ACN!

**–§–∞–π–ª:** `code/sim_v2/rtc_modules/rtc_spawn_v2.py:130`
```cpp
const unsigned int acn = base_acn + ticket;
```

**–ì–¥–µ `base_acn` –∏–∑ spawn_mgr:**
```python
# –§–∞–π–ª: rtc_spawn_v2.py:232-239
first_reserved_idx = env_data.get('first_reserved_idx', 279)
base_acn_spawn = 100000  # –•–ê–†–î–ö–û–î!

mgr_pop[0].setVariableUInt("next_idx", first_reserved_idx)  # 279
mgr_pop[0].setVariableUInt("next_acn", base_acn_spawn)      # 100000
```

**–ò –≤ RTC –º–µ–Ω–µ–¥–∂–µ—Ä–µ (—Å—Ç—Ä–æ–∫–∏ 63-75):**
```cpp
unsigned int next_acn = FLAMEGPU->getVariable<unsigned int>("next_acn");

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤ –¥–µ–Ω—å 0
if (day == 0u) {
    if (next_acn < 100000u) next_acn = 100000u;  // –•–ê–†–î–ö–û–î!
}

bacn_mp[safe_day].exchange(next_acn);  // –ü—É–±–ª–∏–∫—É–µ–º base_acn
next_acn += need;  // –°–¥–≤–∏–≥–∞–µ–º
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç –Ω–∞ –¥–µ–Ω—å 226:**
- `need = 7` (–∏–∑ mp4_new_counter_mi17_seed[226])
- `base_acn = 100000`
- –°–æ–∑–¥–∞—é—Ç—Å—è –∞–≥–µ–Ω—Ç—ã —Å ACN: 100000, 100001, ..., 100006

**–í–æ–ø—Ä–æ—Å:** –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ª–∏ —ç—Ç–æ ACN –≤ `flight_program_fl`?

---

### 6. ‚ùå –ü–†–û–ë–õ–ï–ú–ê #3: –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ ACN –º–µ–∂–¥—É spawn –∏ MP5

**–ì–∏–ø–æ—Ç–µ–∑–∞:**

–í `flight_program_fl` –Ω–æ–≤—ã–µ –ø–ª–∞–Ω–µ—Ä—ã –º–æ–≥—É—Ç –∏–º–µ—Ç—å:
- **–†–µ–∞–ª—å–Ω—ã–µ ACN** (–Ω–∞–ø—Ä–∏–º–µ—Ä, 600, 601, 602, ...) ‚Äî –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö
- –ò–ª–∏ **–¥—Ä—É–≥–∏–µ ACN**, –ù–ï –Ω–∞—á–∏–Ω–∞—é—â–∏–µ—Å—è —Å 100000

**–ù–æ spawn —Å–æ–∑–¥–∞—ë—Ç:**
- **–°–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–∏–µ ACN** (100000, 100001, ...) ‚Äî –•–ê–†–î–ö–û–î

**–°–ª–µ–¥—Å—Ç–≤–∏–µ:**
```python
# –í build_mp5_linear:
for ac, hours in by_ac.items():
    fi = frames_index.get(int(ac), -1)
    # ac = 600 (–∏–∑ –ë–î)
    # fi = frames_index.get(600) ‚Üí –≤–µ—Ä–Ω—ë—Ç idx, –Ω–∞–ø—Ä–∏–º–µ—Ä 279
    # arr[day*286 + 279] = hours  ‚úÖ –î–∞–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∞–Ω—ã

# –ù–æ spawn —Å–æ–∑–¥–∞—ë—Ç –∞–≥–µ–Ω—Ç–∞:
# idx = 279, acn = 100000 (–ù–ï 600!)

# –ö–æ–≥–¥–∞ –∞–≥–µ–Ω—Ç —á–∏—Ç–∞–µ—Ç MP5:
base = day * 286 + idx  # day * 286 + 279
dt = mp5[base]  # ‚úÖ –î–∞–Ω–Ω—ã–µ –ï–°–¢–¨! (–∑–∞–ø–∏—Å–∞–Ω—ã –¥–ª—è ACN 600)

# –ù–û! –ê–≥–µ–Ω—Ç –∏–º–µ–µ—Ç aircraft_number = 100000, –ù–ï 600!
```

**–í—ã–≤–æ–¥:** –î–∞–Ω–Ω—ã–µ MP5 –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ **—Ä–µ–∞–ª—å–Ω—ã–º ACN** (600+), –Ω–æ –∞–≥–µ–Ω—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è —Å **—Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–∏–º–∏ ACN** (100000+)

**–≠—Ç–æ –ù–ï –≤–ª–∏—è–µ—Ç –Ω–∞ —á—Ç–µ–Ω–∏–µ MP5** (—Ç.–∫. —á–∏—Ç–∞–µ—Ç—Å—è –ø–æ `idx`, –Ω–µ –ø–æ `acn`), **–ù–û –º–æ–∂–µ—Ç –≤–ª–∏—è—Ç—å –Ω–∞ –ª–æ–≥–∏–∫—É!**

---

### 7. ‚ùå –ü–†–û–ë–õ–ï–ú–ê #4: MP4 –∫–≤–æ—Ç—ã –Ω–µ —É—á–∏—Ç—ã–≤–∞—é—Ç –Ω–æ–≤—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤

**–§–∞–π–ª:** `code/sim_env_setup.py:141-158`
```python
def preload_mp4_by_day(client):
    rows = client.execute("""
        SELECT dates, ops_counter_mi8, ops_counter_mi17, new_counter_mi17
        FROM flight_program_ac
    """)
    # ...
    result[d] = {
        "ops_counter_mi17": int(mi17 or 0),  # ‚ùå –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ!
    }
```

**–ü—Ä–æ–±–ª–µ–º–∞:**
- `mp4_ops_counter_mi17[day]` –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏–∑ –ë–î **–î–û —Å–∏–º—É–ª—è—Ü–∏–∏**
- –≠—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –ù–ï –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏
- –ö–≤–æ—Ç–∞ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–∞ –Ω–∞ **—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ** –±–æ—Ä—Ç—ã, –Ω–µ –Ω–∞ **–±—É–¥—É—â–∏–µ**

**–ü—Ä–∏–º–µ—Ä:**
```
–î–æ spawn (–¥–µ–Ω—å 225):
  - –ê–≥–µ–Ω—Ç–æ–≤: 279
  - MP4 target: 150 (–∫–≤–æ—Ç–∞ –¥–ª—è 279 –∞–≥–µ–Ω—Ç–æ–≤)
  - Operations: 150
  - –ë–∞–ª–∞–Ω—Å: 0

–ü–æ—Å–ª–µ spawn (–¥–µ–Ω—å 226):
  - –ê–≥–µ–Ω—Ç–æ–≤: 286 (279 + 7)
  - MP4 target: 150 (‚ùå –ù–ï –ò–ó–ú–ï–ù–ò–õ–û–°–¨!)
  - Operations: 150
  - Serviceable: 7 (–Ω–æ–≤—ã–µ, —Å intent=2)
  - –ë–∞–ª–∞–Ω—Å: 150 - 150 = 0 ‚ùå

–ü—Ä–æ–º–æ—É—Ç P1 (serviceable ‚Üí operations):
  - deficit = target - used = 150 - 150 = 0
  - Early exit! ‚ùå
  - –ù–æ–≤—ã–µ –∞–≥–µ–Ω—Ç—ã –ù–ï –ø—Ä–æ–º–æ—É—Ç—è—Ç—Å—è
```

---

## üéØ –ì–õ–ê–í–ù–ê–Ø –ü–†–û–ë–õ–ï–ú–ê

### ‚ùå **MP4 –∫–≤–æ—Ç—ã —Å—Ç–∞—Ç–∏—á–Ω—ã –∏ –Ω–µ —É—á–∏—Ç—ã–≤–∞—é—Ç spawn**

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**

1. **–î–µ–Ω—å 0-225:** MP4 target = 150, –∞–≥–µ–Ω—Ç–æ–≤ = 279, –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç
2. **–î–µ–Ω—å 226:** Spawn —Å–æ–∑–¥–∞—ë—Ç 7 –∞–≥–µ–Ω—Ç–æ–≤ ‚Üí –≤—Å–µ–≥–æ 286
3. **–î–µ–Ω—å 226 –ø—Ä–æ–º–æ—É—Ç:**
   - –ù–æ–≤—ã–µ –∞–≥–µ–Ω—Ç—ã: state=serviceable, intent=2
   - –¢–µ–∫—É—â–∏–µ –≤ operations: ~150
   - MP4 target (–Ω–∞ –¥–µ–Ω—å 227): 150 ‚ùå (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å ~157!)
   - Deficit: 150 - 150 = 0
   - **Early exit!** –ù–æ–≤—ã–µ –∞–≥–µ–Ω—Ç—ã –Ω–µ –ø—Ä–æ–º–æ—É—Ç—è—Ç—Å—è

4. **–î–µ–Ω—å 227-3650:**
   - –ù–æ–≤—ã–µ –∞–≥–µ–Ω—Ç—ã –∑–∞—Å—Ç—Ä–µ–≤–∞—é—Ç –≤ serviceable
   - –ò—Ö intent=2, –Ω–æ deficit –≤—Å–µ–≥–¥–∞ ‚â§ 0
   - –û–Ω–∏ –ù–ï –ª–µ—Ç–∞—é—Ç, –ù–ï –ø–æ–ª—É—á–∞—é—Ç –Ω–∞—Ä–∞–±–æ—Ç–∫—É —á–µ—Ä–µ–∑ operations

---

## üí° –†–µ—à–µ–Ω–∏–µ

### –í–∞—Ä–∏–∞–Ω—Ç 1: –û–±–Ω–æ–≤–∏—Ç—å MP4 –≤ –ë–î —Å —É—á—ë—Ç–æ–º spawn

**–í —Ç–∞–±–ª–∏—Ü–µ `flight_program_ac`:**
- –£–≤–µ–ª–∏—á–∏—Ç—å `ops_counter_mi17` –Ω–∞ 7 –Ω–∞—á–∏–Ω–∞—è —Å –¥–Ω—è 227
- –ù–∞–ø—Ä–∏–º–µ—Ä: –µ—Å–ª–∏ –±—ã–ª–æ 150, —Å–¥–µ–ª–∞—Ç—å 157

**–ü–ª—é—Å—ã:**
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ
- ‚úÖ –ö–≤–æ—Ç—ã –æ—Å—Ç–∞—é—Ç—Å—è –≤ –ë–î

**–ú–∏–Ω—É—Å—ã:**
- ‚ö†Ô∏è –ù—É–∂–Ω–æ –∑–Ω–∞—Ç—å —Ç–æ—á–Ω—É—é –¥–∞—Ç—É spawn –∑–∞—Ä–∞–Ω–µ–µ
- ‚ö†Ô∏è –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ spawn –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞—Ç—å –ë–î

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ MP4 –ø–æ—Å–ª–µ spawn

**–í –∫–æ–¥–µ —Å–∏–º—É–ª—è—Ü–∏–∏:**
- –ü–æ—Å–ª–µ spawn —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å `mp4_ops_counter_mi17[day+1:]` –Ω–∞ `need`
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å HostFunction –∏–ª–∏ init —Ñ—É–Ω–∫—Ü–∏—é

**–ü–ª—é—Å—ã:**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞
- ‚úÖ –ù–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ë–î

**–ú–∏–Ω—É—Å—ã:**
- ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞
- ‚ö†Ô∏è –£—Å–ª–æ–∂–Ω—è–µ—Ç –ª–æ–≥–∏–∫—É

---

### –í–∞—Ä–∏–∞–Ω—Ç 3: –£—á–∏—Ç—ã–≤–∞—Ç—å spawn –≤ –∫–≤–æ—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏

**–í `rtc_quota_promote_serviceable.py`:**
```cpp
// –°—á–∏—Ç–∞–µ–º target —Å —É—á—ë—Ç–æ–º –Ω–æ–≤—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤
unsigned int spawn_adjustment = 0;
// –ü—Ä–æ–≤–µ—Ä—è–µ–º –±—ã–ª –ª–∏ spawn –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –¥–Ω—è—Ö
if (day > 226) {
    spawn_adjustment = 7;  // –ò–ª–∏ —á–∏—Ç–∞—Ç—å –∏–∑ Environment
}
target = mp4_ops_counter + spawn_adjustment;
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –ü—Ä–æ—Å—Ç–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π –ë–î

**–ú–∏–Ω—É—Å—ã:**
- ‚ö†Ô∏è –•–∞—Ä–¥–∫–æ–¥ –ª–æ–≥–∏–∫–∏
- ‚ö†Ô∏è –ù–µ —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ

---

## üìã –ß–µ–∫-–ª–∏—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

–ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∞–º–∏:

1. ‚òëÔ∏è –°–æ–∑–¥–∞–ª–∏—Å—å –ª–∏ –∞–≥–µ–Ω—Ç—ã –Ω–∞ –¥–µ–Ω—å 226?
   - idx: 279-285
   - acn: 100000-100006
   - state: serviceable
   - intent_state: 2

2. ‚òëÔ∏è –ï—Å—Ç—å –ª–∏ —É –Ω–∏—Ö –¥–∞–Ω–Ω—ã–µ –≤ MP5?
   - `daily_today_u32` > 0 –ø–æ—Å–ª–µ –ø–æ–ø–∞–¥–∞–Ω–∏—è –≤ operations?
   - –ò–ª–∏ –≤—Å–µ–≥–¥–∞ = 0?

3. ‚òëÔ∏è –°—Ä–∞–±–æ—Ç–∞–ª –ª–∏ –ø—Ä–æ–º–æ—É—Ç –Ω–∞ –¥–µ–Ω—å 226/227?
   - –ö–∞–∫–æ–π `used`, `target`, `deficit`?
   - –ë—ã–ª –ª–∏ early exit?

4. ‚òëÔ∏è –ö–∞–∫–∏–µ ACN –≤ `flight_program_fl` –¥–ª—è –Ω–æ–≤—ã—Ö –ø–ª–∞–Ω–µ—Ä–æ–≤?
   - 100000+ –∏–ª–∏ –¥—Ä—É–≥–∏–µ (600+)?

5. ‚òëÔ∏è –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –ª–∏ ACN spawn –∏ ACN –≤ –ë–î?

---

## üîß –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

**–°–Ω–∞—á–∞–ª–∞:** –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –≥–∏–ø–æ—Ç–µ–∑—ã  
**–ó–∞—Ç–µ–º:** –í—ã–±—Ä–∞—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç —Ä–µ—à–µ–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –ë–î

**–ö–æ–º–∞–Ω–¥–∞ –¥–ª—è —Ç–µ—Å—Ç–∞:**
```bash
python3 code/sim_v2/orchestrator_v2.py \
  --modules spawn_v2 state_2_operations quota_ops_excess quota_promote_serviceable quota_promote_reserve quota_promote_inactive states_stub state_manager_operations state_manager_repair state_manager_storage \
  --steps 300 \
  --enable-mp2 \
  --drop-table \
  2>&1 | tee /tmp/spawn_debug_300.log
```

**–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –ª–æ–≥–∞—Ö:**
```bash
grep -E "SPAWN|PROMOTE.*Day 22[6-9]|PROMOTE.*Day 23[0-5]" /tmp/spawn_debug_300.log
```

---

**–ê–≤—Ç–æ—Ä:** AI Assistant  
**–î–∞—Ç–∞:** 08-10-2025

