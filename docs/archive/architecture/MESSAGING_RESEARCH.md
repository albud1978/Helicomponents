# Ð˜ÑÑÐ»ÐµÐ´Ð¾Ð²Ð°Ð½Ð¸Ðµ: ÐÐ»ÑŒÑ‚ÐµÑ€Ð½Ð°Ñ‚Ð¸Ð²Ð½Ð°Ñ Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð° Ñ FLAME GPU Messaging

## Ð¦ÐµÐ»ÑŒ

Ð˜ÑÑÐ»ÐµÐ´Ð¾Ð²Ð°Ñ‚ÑŒ Ð°Ð»ÑŒÑ‚ÐµÑ€Ð½Ð°Ñ‚Ð¸Ð²Ð½Ñ‹Ð¹ Ð¿Ð¾Ð´Ñ…Ð¾Ð´ Ðº ÑÐ¸Ð¼ÑƒÐ»ÑÑ†Ð¸Ð¸ Ð¿Ð»Ð°Ð½ÐµÑ€Ð¾Ð² Ñ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸ÐµÐ¼ **Ð½Ð°Ñ‚Ð¸Ð²Ð½Ñ‹Ñ… ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹ FLAME GPU** Ð²Ð¼ÐµÑÑ‚Ð¾ Ñ‚ÐµÐºÑƒÑ‰ÐµÐ³Ð¾ Ð¿Ð¾Ð´Ñ…Ð¾Ð´Ð° Ñ‡ÐµÑ€ÐµÐ· MacroProperty.

## Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹ (08-01-2026)

### âœ… Ð£Ð¡ÐŸÐ•Ð¨ÐÐž: Event-driven Ð³Ð¸Ð±Ñ€Ð¸Ð´Ð½Ð°Ñ Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð°

**ÐŸÑ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ:**

| ÐÑ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð° | Ð’Ñ€ÐµÐ¼Ñ (3650 ÑˆÐ°Ð³Ð¾Ð²) | Ð¨Ð°Ð³Ð¾Ð²/ÑÐµÐº | Ð£ÑÐºÐ¾Ñ€ÐµÐ½Ð¸Ðµ |
|-------------|-------------------|-----------|-----------|
| Polling (MacroProperty) | ~387Ñ | ~9.4 | 1.0x |
| **Event-driven (hybrid)** | **103Ñ** | **35.4** | **~3.8x** |

**ÐšÐ»ÑŽÑ‡ÐµÐ²Ñ‹Ðµ Ñ„Ð°Ð¹Ð»Ñ‹:**
- `code/sim_v2/messaging/rtc_publish_event.py` â€” Ð¿ÑƒÐ±Ð»Ð¸ÐºÐ°Ñ†Ð¸Ñ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ð¹ Ð°Ð³ÐµÐ½Ñ‚Ð°Ð¼Ð¸
- `code/sim_v2/messaging/rtc_quota_manager_event.py` â€” Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ð¹ QuotaManager
- `code/sim_v2/messaging/orchestrator_messaging.py` â€” Ð¾Ñ€ÐºÐµÑÑ‚Ñ€Ð°Ñ‚Ð¾Ñ€ Ñ `--event-driven` Ñ„Ð»Ð°Ð³Ð¾Ð¼

### ÐÑ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð° EVENT-DRIVEN (Ð³Ð¸Ð±Ñ€Ð¸Ð´Ð½Ð°Ñ)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Ð“Ð˜Ð‘Ð Ð˜Ð”ÐÐ«Ð™ ÐŸÐžÐ”Ð¥ÐžÐ”                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Operations Ð°Ð³ÐµÐ½Ñ‚Ñ‹:                                        â”‚
â”‚    â””â”€ Ð’Ð¡Ð•Ð“Ð”Ð Ð¿ÑƒÐ±Ð»Ð¸ÐºÑƒÑŽÑ‚ OPS_REPORT (event_type=3)          â”‚
â”‚    â””â”€ ÐŸÑ€Ð¸ Ð²Ñ‹Ñ…Ð¾Ð´Ðµ Ð¿ÑƒÐ±Ð»Ð¸ÐºÑƒÑŽÑ‚ DEMOUNT (event_type=1)         â”‚
â”‚                                                             â”‚
â”‚  Serviceable Ð°Ð³ÐµÐ½Ñ‚Ñ‹:                                       â”‚
â”‚    â””â”€ Ð’Ð¡Ð•Ð“Ð”Ð Ð¿ÑƒÐ±Ð»Ð¸ÐºÑƒÑŽÑ‚ READY (event_type=2)               â”‚
â”‚                                                             â”‚
â”‚  Repair/Reserve/Inactive:                                  â”‚
â”‚    â””â”€ ÐŸÑƒÐ±Ð»Ð¸ÐºÑƒÑŽÑ‚ Ð¢ÐžÐ›Ð¬ÐšÐž Ð¿Ñ€Ð¸ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ð¸ intent               â”‚
â”‚                                                             â”‚
â”‚  QuotaManager:                                             â”‚
â”‚    â””â”€ Ð§Ð¸Ñ‚Ð°ÐµÑ‚ target Ð¸Ð· mp4_ops_counter[day]               â”‚
â”‚    â””â”€ ÐŸÐ¾Ð´ÑÑ‡Ð¸Ñ‚Ñ‹Ð²Ð°ÐµÑ‚ curr_ops Ð¸Ð· OPS_REPORT ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ð¹       â”‚
â”‚    â””â”€ Ð’Ñ‹Ñ‡Ð¸ÑÐ»ÑÐµÑ‚ balance = curr - target                   â”‚
â”‚    â””â”€ ÐŸÑ€Ð¸ balance > 0 â†’ DEMOTE (oldest first)             â”‚
â”‚    â””â”€ ÐŸÑ€Ð¸ balance < 0 â†’ PROMOTE Ð¸Ð· ready-Ð¿ÑƒÐ»Ð¾Ð² (P1â†’P2â†’P3) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Ð¢Ð¸Ð¿Ñ‹ ÑÐ¾Ð±Ñ‹Ñ‚Ð¸Ð¹

| event_type | ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ | Ð˜ÑÑ‚Ð¾Ñ‡Ð½Ð¸Ðº | ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ |
|------------|----------|----------|----------|
| 1 | DEMOUNT | operations | ÐÐ³ÐµÐ½Ñ‚ Ð²Ñ‹Ñ…Ð¾Ð´Ð¸Ñ‚ Ð¸Ð· operations (intent != 2) |
| 2 | READY | serviceable/reserve/inactive | ÐÐ³ÐµÐ½Ñ‚ Ð³Ð¾Ñ‚Ð¾Ð² Ðº Ð¿Ñ€Ð¾Ð¼Ð¾ÑƒÑ‚Ñƒ |
| 3 | OPS_REPORT | operations | ÐÐ³ÐµÐ½Ñ‚ Ð¾ÑÑ‚Ð°Ñ‘Ñ‚ÑÑ Ð² operations (Ð´Ð»Ñ ÑƒÑ‡Ñ‘Ñ‚Ð° Ð¸ Ñ€Ð°Ð½Ð¶Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ) |

### Ð Ð°Ð½Ð¶Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ

- **Ð”ÐµÐ¼Ð¾ÑƒÑ‚:** oldest first (Ð±Ð¾Ð»ÑŒÑˆÐ¸Ð¹ mfg_date â†’ ÑÑ‚Ð°Ñ€ÑˆÐµ â†’ Ð´ÐµÐ¼Ð¾ÑƒÑ‚Ð¸Ñ‚ÑŒ Ð¿ÐµÑ€Ð²Ñ‹Ð¼)
- **ÐŸÑ€Ð¾Ð¼Ð¾ÑƒÑ‚:** youngest first (Ð¼ÐµÐ½ÑŒÑˆÐ¸Ð¹ mfg_date â†’ Ð¼Ð¾Ð»Ð¾Ð¶Ðµ â†’ Ð¿Ñ€Ð¾Ð¼Ð¾ÑƒÑ‚Ð¸Ñ‚ÑŒ Ð¿ÐµÑ€Ð²Ñ‹Ð¼)

### ÐšÐ°ÑÐºÐ°Ð´ Ð¿Ñ€Ð¾Ð¼Ð¾ÑƒÑ‚Ð°

1. **P1:** serviceable â†’ operations
2. **P2:** reserve â†’ operations  
3. **P3:** inactive â†’ operations

## Ð¡Ñ€Ð°Ð²Ð½ÐµÐ½Ð¸Ðµ Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€

### Polling (MacroProperty)

**ÐŸÐ»ÑŽÑÑ‹:**
- ÐŸÑ€Ð¾ÑÑ‚Ð°Ñ Ð»Ð¾Ð³Ð¸ÐºÐ°
- ÐžÐ´Ð¸Ð½ Ð¸ÑÑ‚Ð¾Ñ‡Ð½Ð¸Ðº Ð¸ÑÑ‚Ð¸Ð½Ñ‹ (MacroProperty ÑÑ‡Ñ‘Ñ‚Ñ‡Ð¸ÐºÐ¸)

**ÐœÐ¸Ð½ÑƒÑÑ‹:**
- ÐœÐ½Ð¾Ð³Ð¾ ÑÐ»Ð¾Ñ‘Ð² (14+) Ð´Ð»Ñ count/quota/promote
- ÐšÐ°Ð¶Ð´Ñ‹Ð¹ Ð°Ð³ÐµÐ½Ñ‚ Ñ‡Ð¸Ñ‚Ð°ÐµÑ‚ MacroProperty ÐºÐ°Ð¶Ð´Ñ‹Ð¹ ÑˆÐ°Ð³
- ÐœÐµÐ´Ð»ÐµÐ½Ð½ÐµÐµ (~9.4 ÑˆÐ°Ð³Ð¾Ð²/ÑÐµÐº)

### Event-driven (Messaging)

**ÐŸÐ»ÑŽÑÑ‹:**
- **3.8x Ð±Ñ‹ÑÑ‚Ñ€ÐµÐµ** (35.4 ÑˆÐ°Ð³Ð¾Ð²/ÑÐµÐº)
- Ð¦ÐµÐ½Ñ‚Ñ€Ð°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½Ð½Ð°Ñ Ð»Ð¾Ð³Ð¸ÐºÐ° Ð² QuotaManager
- ÐœÐµÐ½ÑŒÑˆÐµ ÑÐ»Ð¾Ñ‘Ð² (6 publish + 1 quota + 6 apply)
- ÐœÐ°ÑÑˆÑ‚Ð°Ð±Ð¸Ñ€ÑƒÐµÑ‚ÑÑ Ð´Ð»Ñ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ñ… ÑƒÑ€Ð¾Ð²Ð½ÐµÐ¹ (Ð°Ð³Ñ€ÐµÐ³Ð°Ñ‚Ñ‹)

**ÐœÐ¸Ð½ÑƒÑÑ‹:**
- Ð¡Ð»Ð¾Ð¶Ð½ÐµÐµ Ð¾Ñ‚Ð»Ð°Ð´ÐºÐ° (Ð°ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð½Ñ‹Ðµ ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ)
- Ð¢Ñ€ÐµÐ±ÑƒÐµÑ‚ Ð±ÑƒÑ„ÐµÑ€Ð¾Ð² Ð´Ð»Ñ Ñ€Ð°Ð½Ð¶Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ (MAX_EVENTS=200)

## Ð—Ð°Ð¿ÑƒÑÐº

```bash
# Event-driven (Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ)
python3 code/sim_v2/messaging/orchestrator_messaging.py \
  --version-date 2025-07-04 \
  --steps 3650 \
  --enable-mp2 \
  --drop-table \
  --event-driven

# Polling (Ð´Ð»Ñ ÑÑ€Ð°Ð²Ð½ÐµÐ½Ð¸Ñ)
python3 code/sim_v2/messaging/orchestrator_messaging.py \
  --version-date 2025-07-04 \
  --steps 3650 \
  --enable-mp2 \
  --drop-table
```

## Ð’Ñ‹Ð²Ð¾Ð´Ñ‹ (Ð¿Ñ€Ð¾Ð¼ÐµÐ¶ÑƒÑ‚Ð¾Ñ‡Ð½Ñ‹Ðµ)

1. **Event-driven Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð° Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚** Ð¸ Ð´Ð°Ñ‘Ñ‚ Ð·Ð½Ð°Ñ‡Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ðµ ÑƒÑÐºÐ¾Ñ€ÐµÐ½Ð¸Ðµ
2. **Ð“Ð¸Ð±Ñ€Ð¸Ð´Ð½Ñ‹Ð¹ Ð¿Ð¾Ð´Ñ…Ð¾Ð´ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð°Ð»ÐµÐ½:** operations Ð¸ serviceable Ð’Ð¡Ð•Ð“Ð”Ð Ð¿ÑƒÐ±Ð»Ð¸ÐºÑƒÑŽÑ‚ Ð´Ð»Ñ Ñ‚Ð¾Ñ‡Ð½Ð¾Ð³Ð¾ Ð¿Ð¾Ð´ÑÑ‡Ñ‘Ñ‚Ð°
3. **QuotaManager Ð°Ð³ÐµÐ½Ñ‚Ñ‹ (2 ÑˆÑ‚)** ÑÑ„Ñ„ÐµÐºÑ‚Ð¸Ð²Ð½Ð¾ Ñ†ÐµÐ½Ñ‚Ñ€Ð°Ð»Ð¸Ð·ÑƒÑŽÑ‚ Ð»Ð¾Ð³Ð¸ÐºÑƒ ÐºÐ²Ð¾Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ
4. **Ð“Ð¾Ñ‚Ð¾Ð²Ð¾ Ðº Ñ€Ð°ÑÑˆÐ¸Ñ€ÐµÐ½Ð¸ÑŽ** Ð½Ð° Ð°Ð³Ñ€ÐµÐ³Ð°Ñ‚Ñ‹ Ð¸ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ðµ ÑƒÑ€Ð¾Ð²Ð½Ð¸ ÑÐ±Ð¾Ñ€ÐºÐ¸

---

## ðŸš€ Ð¤Ð˜ÐÐÐ›Ð¬ÐÐÐ¯ ÐÐ Ð¥Ð˜Ð¢Ð•ÐšÐ¢Ð£Ð Ð: LIMITER (10-01-2026)

### Ð˜Ñ‚Ð¾Ð³Ð¾Ð²Ð¾Ðµ Ñ€ÐµÑˆÐµÐ½Ð¸Ðµ

ÐŸÐ¾ÑÐ»Ðµ Ð¸ÑÑÐ»ÐµÐ´Ð¾Ð²Ð°Ð½Ð¸Ñ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¸Ñ… Ð¿Ð¾Ð´Ñ…Ð¾Ð´Ð¾Ð² (Polling, Event-driven Messaging, Adaptive Step) Ñ„Ð¸Ð½Ð°Ð»ÑŒÐ½Ð¾Ð¹ Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð¾Ð¹ ÑÑ‚Ð°Ð»Ð° **LIMITER** â€” Ð³Ð¸Ð±Ñ€Ð¸Ð´ Adaptive Time Step Ñ ÐºÐ²Ð¾Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸ÐµÐ¼ Ð¸Ð· baseline.

### Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ñ‹ ÑÑ€Ð°Ð²Ð½ÐµÐ½Ð¸Ñ

| ÐÑ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð° | Ð’Ñ€ÐµÐ¼Ñ (3650 Ð´Ð½ÐµÐ¹) | Ð£ÑÐºÐ¾Ñ€ÐµÐ½Ð¸Ðµ | Ð¡Ð¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²Ð¸Ðµ baseline |
|-------------|-------------------|-----------|----------------------|
| Polling (MacroProperty) | ~387Ñ | 1.0x | âœ… 100% |
| Event-driven (hybrid) | ~103Ñ | ~3.8x | âš ï¸ ~95% |
| Adaptive Step | ~90Ñ | ~4.3x | âš ï¸ ~90% |
| **LIMITER (Ñ„Ð¸Ð½Ð°Ð»)** | **48Ñ** | **~8x vs polling** | **âœ… 100%** |

### ÐŸÐ¾Ñ‡ÐµÐ¼Ñƒ LIMITER?

1. **100% ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²Ð¸Ðµ baseline** â€” Ð¿ÐµÑ€ÐµÑ…Ð¾Ð´Ñ‹, ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ñ, SNE/PPR Ð¿Ð¾Ð»Ð½Ð¾ÑÑ‚ÑŒÑŽ ÑÐ¾Ð²Ð¿Ð°Ð´Ð°ÑŽÑ‚
2. **ÐœÐ°ÐºÑÐ¸Ð¼Ð°Ð»ÑŒÐ½Ð°Ñ Ð¿Ñ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ** â€” 48Ñ vs 75Ñ baseline (1.56x)
3. **Ð¡Ð¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ Ð°Ð»Ð³Ð¾Ñ€Ð¸Ñ‚Ð¼Ð¾Ð²** â€” quota_repair, Ð¿Ð¾ÑÑ‚Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐ¸Ð½Ð³, Ñ€Ð°Ð½Ð¶Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚ ÐºÐ°Ðº Ð² baseline
4. **ÐŸÑ€Ð¾ÑÑ‚Ð¾Ñ‚Ð° Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ð¸** â€” Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ðµ RTC Ð¼Ð¾Ð´ÑƒÐ»Ð¸

### ÐšÐ»ÑŽÑ‡ÐµÐ²Ñ‹Ðµ Ñ€ÐµÑˆÐµÐ½Ð¸Ñ

| ÐŸÐ¾Ð´Ñ…Ð¾Ð´ | Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚ | ÐŸÑ€Ð¸Ñ‡Ð¸Ð½Ð° Ð¾Ñ‚ÐºÐ°Ð·Ð°/Ð¿Ñ€Ð¸Ð½ÑÑ‚Ð¸Ñ |
|--------|-----------|------------------------|
| Pure Messaging | âŒ ÐžÑ‚ÐºÐ»Ð¾Ð½Ñ‘Ð½ | Ð’Ñ‹ÑÐ¾ÐºÐ¸Ð¹ overhead Ð½Ð° message passing |
| Event-driven | âš ï¸ Ð§Ð°ÑÑ‚Ð¸Ñ‡Ð½Ð¾ | ÐÐµÑÐ¾Ð²Ð¿Ð°Ð´ÐµÐ½Ð¸Ðµ Ð¿ÐµÑ€ÐµÑ…Ð¾Ð´Ð¾Ð² Ñ baseline |
| Adaptive Step | âš ï¸ Ð§Ð°ÑÑ‚Ð¸Ñ‡Ð½Ð¾ | Ð¡Ð»Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ð¸ ÐºÐ²Ð¾Ñ‚ |
| **LIMITER + baseline quota** | âœ… ÐŸÑ€Ð¸Ð½ÑÑ‚ | ÐŸÐ¾Ð»Ð½Ð¾Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²Ð¸Ðµ + ÑƒÑÐºÐ¾Ñ€ÐµÐ½Ð¸Ðµ |

### ÐÑ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð° LIMITER

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    LIMITER ARCHITECTURE                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1. Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° Ð°Ð³ÐµÐ½Ñ‚Ð¾Ð² Ð¸Ð· heli_pandas (Ð´ÐµÐ½ÑŒ 0 Ð¸Ð· baseline)   â”‚
â”‚  2. Ð•Ð¶ÐµÐ´Ð½ÐµÐ²Ð½Ñ‹Ðµ GPU ÑˆÐ°Ð³Ð¸:                                    â”‚
â”‚     â”œâ”€ rtc_batch_operations (Ð¸Ð½ÐºÑ€ÐµÐ¼ÐµÐ½Ñ‚Ñ‹ sne/ppr)           â”‚
â”‚     â”œâ”€ count_ops (Ð¿Ð¾Ð´ÑÑ‡Ñ‘Ñ‚ Ð°Ð³ÐµÐ½Ñ‚Ð¾Ð²)                         â”‚
â”‚     â”œâ”€ quota_ops_excess (Ð´ÐµÐ¼Ð¾ÑƒÑ‚)                           â”‚
â”‚     â”œâ”€ quota_promote_* (Ð¿Ñ€Ð¾Ð¼Ð¾ÑƒÑ‚ P1/P2/P3)                  â”‚
â”‚     â”œâ”€ quota_repair (FIFO Ð¾Ñ‡ÐµÑ€ÐµÐ´ÑŒ, repair_number=18)       â”‚
â”‚     â””â”€ state_manager_* (Ð¿Ñ€Ð¸Ð¼ÐµÐ½ÐµÐ½Ð¸Ðµ Ð¿ÐµÑ€ÐµÑ…Ð¾Ð´Ð¾Ð²)              â”‚
â”‚  3. MP2 drain Ð² Ð¡Ð£Ð‘Ð” Ð² ÐºÐ¾Ð½Ñ†Ðµ ÑÐ¸Ð¼ÑƒÐ»ÑÑ†Ð¸Ð¸                     â”‚
â”‚  4. ÐŸÐ¾ÑÑ‚Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐ¸Ð½Ð³ (inactiveâ†’repair Ð·Ð°Ð´Ð½Ð¸Ð¼ Ñ‡Ð¸ÑÐ»Ð¾Ð¼)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Ð¤Ð°Ð¹Ð»Ñ‹ LIMITER

| Ð¤Ð°Ð¹Ð» | ÐÐ°Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ |
|------|------------|
| `orchestrator_limiter.py` | Ð“Ð»Ð°Ð²Ð½Ñ‹Ð¹ Ð¾Ñ€ÐºÐµÑÑ‚Ñ€Ð°Ñ‚Ð¾Ñ€ |
| `base_model_messaging.py` | ÐœÐ¾Ð´ÐµÐ»ÑŒ Ð°Ð³ÐµÐ½Ñ‚Ð¾Ð² |
| `rtc_batch_operations.py` | ÐŸÐ°ÐºÐµÑ‚Ð½Ñ‹Ðµ Ð¸Ð½ÐºÑ€ÐµÐ¼ÐµÐ½Ñ‚Ñ‹ |
| `rtc_limiter_date.py` | Ð Ð°ÑÑ‡Ñ‘Ñ‚ limiter_date |

### Ð’Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸Ñ (DS1: 2025-07-04)

| ÐœÐµÑ‚Ñ€Ð¸ÐºÐ° | LIMITER | BASELINE | DIFF |
|---------|---------|----------|------|
| ÐŸÐµÑ€ÐµÑ…Ð¾Ð´Ñ‹ | 1,352 | 1,352 | **0** |
| Ð—Ð°Ð¿Ð¸ÑÐµÐ¹ | 1,098,816 | 1,098,816 | **0** |
| Ð’Ñ€ÐµÐ¼Ñ | **48Ñ** | ~75Ñ | **-36%** |

### Ð—Ð°Ð¿ÑƒÑÐº LIMITER

```bash
cd code/sim_v2/messaging && python3 orchestrator_limiter.py \
  --version-date 2025-07-04 \
  --end-day 3650 \
  --enable-mp2 \
  --drop-table
```

---

**Ð¡Ñ‚Ð°Ñ‚ÑƒÑ:** âœ… Ð˜ÑÑÐ»ÐµÐ´Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¾, LIMITER Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ð° Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚
**Ð¤Ð¸Ð½Ð°Ð»ÑŒÐ½Ð°Ñ Ð´Ð°Ñ‚Ð°:** 10-01-2026
**Ð’ÐµÑ‚ÐºÐ°:** `feature/flame-messaging` (Ð½Ðµ ÑÐ»Ð¸Ð²Ð°ÐµÑ‚ÑÑ Ñ main)


