<img src="https://r2cdn.perplexity.ai/pplx-full-logo-primary-dark%402x.png" style="height:64px;margin-right:32px"/>

# Курсор ии

Сейчас у «курсора ИИ» (Cursor) уже есть почти всё, что нужно, чтобы собрать серьёзный мультиагентный проект под твою PBM‑модель жизни агрегатов, не изобретая велосипеда. Я опишу это на уровне архитектуры и ролей, без реализации.[^1][^2][^3][^4]

***

## 1. Что уже «умеет» Cursor‑ИИ

Ключевые встроенные возможности:[^2][^3][^4][^1]

- **Главный агент в редакторе / CLI.**
    - Понимает кодовую базу, умеет планировать изменения (Planning Mode), делать диффы, запускать команды, тесты, миграции.
    - Работает как Orchestrator+Implementer по умолчанию.
- **Subagents (субагенты).**
    - Независимые агенты подзадач: свой контекст, свои права, свой prompt и модель; могут работать **параллельно** и возвращать результаты родительскому агенту.[^3][^5][^1]
    - Уже есть дефолтные субагенты: исследование кодовой базы, запуск терминала, параллельные ворк‑стримы.[^3]
- **Skills (Agent Skills).**
    - Расширения в виде `SKILL.md`, куда ты упаковываешь доменные сценарии и «как делать» (PBM‑модели, пайплайны деградации, отчёты по ресурсу).
    - Агенты сами обнаруживают и вызывают эти skills по необходимости или ты вызываешь их явно.[^2][^3]
- **Мультиагентный интерфейс.**
    - Можно поднимать несколько специализированных агентов (Planner, Backend, Docs и т.п.) и гонять их параллельно, в т.ч. через Git worktrees.[^6][^7][^8]
    - Есть Review Mode (ревью/откат изменений) и Planning Mode (сначала план, потом реализация).[^7][^4][^6]

Для нас важно: мы можем описать «PBM‑команду» полностью на этих примитивах — главный агент как оркестратор, Subagents как роли, Skills как доменные протоколы.

***

## 2. Как разложить PBM‑проект на агентные роли в Cursor

Представим цель: «Эмуляция жизненного цикла авиационных агрегатов по PBM‑модели, связанная с фактическими данными и кодом диагностических сервисов».

Предлагаемая карта ролей (в терминах Cursor: набор агентов + Subagents + Skills):[^4][^1][^2][^3]

1. **System Orchestrator (главный Cursor‑агент / отдельный специализированный агент).**
    - Держит high‑level цель проекта, план релизов, крупные эпики.
    - Координирует вызовы PBM‑subagents и domain‑skills, разбивает работу на pipeline: моделирование → код → верификация → отчёты.
2. **PBM‑Researcher Subagent.**
    - Фокусируется только на:
– поиске и чтении доменной документации (manual’ы, регламенты, статьи по PBM и PHM);
– извлечении параметров деградации, режимов работы, критериев отказа;
– структурировании в единую форму (например, «сущность агрегата → параметры PBM → источники данных»).[^1][^4]
3. **Model‑Design Subagent (PBM‑моделирование).**
    - Работает строго с модельной частью:
– описывает структуру PBM‑состояний, переходов, источников измерений, связку с ML (если есть);[^9][^10]
– формирует «контракты» между физической моделью, данными и кодом сервиса (что подаём, что ждём на выходе).
    - Постоянно опирается на PBM‑skills (описанные тобой методики моделирования).
4. **Code‑Implementer Subagent.**
    - Упирается в код: микросервисы эмулятора, API, обработчики телеметрии, расчётные модули.
    - Берёт контракты от Model‑Design и реализует их в коде, запускает тесты, интеграции.[^8][^6][^4]
5. **Data‑Pipeline Subagent.**
    - Отвечает за ETL/ELT для телеметрии: ingest, очистка, агрегирование, сохранение, подготовка фичей для PBM/ML.[^11][^9]
    - Жёстко привязан к инфраструктурным skill’ам (Kafka, DB, S3, etc.).
6. **Simulation \& Scenario Subagent.**
    - Запускает сценарии «жизни агрегата»: профили полётов, нагрузки, деградации, сценарии отказов.
    - Формирует тестовые кампании и сохраняет результаты в формате, удобном для сравнения и аудита.
7. **Quality \& Critic Subagent.**
    - Проверяет код, модели, контрактные файлы:
– соответствие PBM‑документации;
– корректность сценариев;
– консистентность API и схем данных.
    - Работает в связке с Review Mode и твой CI.[^6][^4]
8. **Governance / Safety Subagent.**
    - Следит, чтобы:
– не выходили за границы допустимых допущений модели;
– не использовали «запрещённые» данные;
– все изменения проходили через ревью и логировались.[^12][^4]

Часть этих ролей может быть реализована как отдельные «агенты» в интерфейсе Cursor, часть — как Subagents конкретного оркестратора.

***

## 3. Как использовать Skills для PBM‑домена

В PBM‑проекте Skills — это твой способ «залить мозги» авиаинженера в ИИ:[^13][^4][^2]

- Для каждого большого аспекта:
    - «PBM‑модель ресурса авиадвигателя»
    - «Диагностика по телеметрии температуры/вибрации»
    - «Регламентные события (форматы отчётов, логика интерпретации ресурсов)»
создаёшь один или несколько `SKILL.md`, где описываешь:
    - цель skill’а;
    - входные данные (какие файлы/таблицы/поля);
    - шаги рассуждений (как строить PBM‑модель, какие сценарии деградации, какие проверки делать);
    - форматы ожидаемых артефактов (схемы, файлы конфигов, спецификации API, шаблоны отчётов).
- Дальше:
    - PBM‑Researcher вызывает «PBM‑Domain‑Skill» для вытягивания знаний и нормализации документации.
    - Model‑Design Subagent вызывает «PBM‑Model‑Design‑Skill» для построения структур моделей и контрактов.
    - Simulation Subagent использует «PBM‑Scenario‑Skill» для формирования типовых сценариев нагрузки и отказов.

Skills остаются версионируемыми файлами в репозитории → у тебя «единый источник правды» и повторяемость.[^4][^13][^2]

***

## 4. Типичный workflow PBM‑проекта в Cursor (без кода, на уровне сценария)

### 4.1. Крупный цикл

1. **Формулировка цели.**
    - Ты в главном агенте/оркестраторе задаёшь:
«Нужно спроектировать и реализовать PBM‑эмулятор жизни агрегата X: от модели деградации до API и сценариев тестирования».
2. **Планирование.**
    - Оркестратор включает Planning Mode, разбивает работу на этапы:
– доменное исследование → модель → данные → код → симуляция → валидация → отчёты.
    - Назначает роли: какие Subagents/агенты берут какую часть.
3. **Параллельное исследование и дизайн.**
    - PBM‑Researcher и Data‑Pipeline Subagent работают параллельно: один по документации, другой по данным.[^5][^3][^6]
    - Model‑Design Subagent, используя Skills, строит схему PBM‑состояний и контрактов.
4. **Реализация.**
    - Code‑Implementer и Data‑Pipeline Subagent реализуют сервисы и пайплайны; Simulation Subagent собирает сценарии.
    - Всё это идёт в отдельных ветках/worktrees, чтобы агенты могли работать параллельно.[^7][^5][^6]
5. **Оценка.**
    - Quality \& Critic Subagent ревьюит:
– модели (логика PBM, соответствие контракта);
– код (чистота, тесты, покрытие, производительность);
– сценарии симуляции (репрезентативность, полнота).
    - Governance/Safety проверяет соответствие требованиям безопасности, регламентам, ограничениям по данным.[^12]
6. **Корректировка.**
    - Оркестратор собирает фидбек, возвращает задачи тем же Subagents (или другим) в итеративные циклы до достижения критериев качества.
7. **Финализация.**
    - Генерируются финальные артефакты: схемы PBM‑моделей, код, документация, скрипты симуляций, отчёты.
    - Всё фиксируется через Review Mode и CI, меняется статус релиза.[^6][^7][^4]

### 4.2. Hand‑off и наблюдаемость

На каждом шаге между агентами/субагентами лучше придерживаться структуры:[^5][^3][^4]

- **Goal:** «Для агрегата X нужно описать PBM‑состояния и переходы для режимов A/B/C.»
- **Changes:** «Добавлен документ pbm_x_states.md с перечнем состояний и параметров; обновлена схема параметров в data_schema.yaml.»
- **Open Questions:** «Нет точных кривых деградации для режима А в условиях Y; нужен эксперт/дополнительные данные.»
- **Next Owner:** «Model‑Design Subagent → уточнить модели деградации и обновить контракты API по новым параметрам.»

Все эти артефакты (md/ yaml / конфиги) лежат в репо, Cursor‑агенты видят одну и ту же «правду», а ты в любой момент можешь проследить цепочку: кто что сделал, на каком основании и с каким результатом.[^7][^4][^6]

***

## 5. Конкретные рекомендации именно под твой PBM‑проект

С учётом того, что ты сильный админ/инженер и привык мыслить системно, я бы предложил так:[^1][^2][^3][^4]

1. **Сначала описать «организационную схему» проекта.**
    - Отдельный файл (например, `AGENTS_PBM.md`): роли агентов, Subagents, их зоны ответственности, какие Skills и какие директории они считают «своими».
2. **Сделать 3–5 базовых PBM‑Skill’ов.**
    - Модель ресурса агрегатов;
    - Симуляция эксплуатационных профилей;
    - Интерпретация телеметрии и событий отказов;
    - Требования к отчётности/регламентам.
3. **Выделить в Cursor минимум три «главные шляпы»:**
    - Orchestrator‑агент для планов и координации;
    - PBM‑моделирование (модель + сценарии);
    - Infra/Data‑агент (пайплайны, CI, интеграции).
Остальные роли — Subagents этих агентов.
4. **Сразу завести единый источник правды.**
    - Папка `pbm/` с моделями и контрактами, `skills/` со SKILL.md, `docs/` с доменным описанием.
    - Оркестратор и все Subagents работают только через эти файлы, а не через «устные договорённости».
5. **Наладить наблюдаемость и контроль.**
    - Пользоваться Review Mode для любых существенных изменений;
    - Фиксировать в md‑файлах мотивацию изменений (почему поменяли модель/сценарий);
    - Ограничить Subagents по зонам: кто может менять код, кто только читать и предлагать планы.

Если хочешь, в следующей сессии можем пройти по этому же проекту, но уже чуть глубже: какие именно типы PBM‑моделей и жизненных сценариев имеет смысл зашить в Skills и как лучше разнести их по Subagents, чтобы минимизировать «agent sprawl» и дублирование ответственности.
<span style="display:none">[^14][^15][^16][^17][^18][^19]</span>

<div align="center">⁂</div>

[^1]: https://cursor.com/docs/context/subagents

[^2]: https://cursor.com/docs/context/skills

[^3]: https://cursor.com/changelog/2-4

[^4]: https://skywork.ai/blog/vibecoding/cursor-2-0-multi-agent-suite/

[^5]: https://forum.cursor.com/t/cursor-2-4-subagents/149403

[^6]: https://lilys.ai/notes/en/cursor-20-20251106/cursor-new-multi-agent-interface

[^7]: https://www.thurrott.com/a-i/328997/cursor-2-0-arrives-with-multi-agent-interface

[^8]: https://www.youtube.com/watch?v=RJ9Fb0B_Zik

[^9]: https://www.nature.com/articles/s41598-025-26002-3

[^10]: http://papers.phmsociety.org/index.php/phmconf/article/view/4352

[^11]: https://www.ijfmr.com/papers/2025/5/56362.pdf

[^12]: https://genai.owasp.org/resource/owasp-top-10-for-agentic-applications-for-2026/

[^13]: https://github.com/shinpr/sub-agents-skills

[^14]: https://cursor.com/learn/agents

[^15]: https://www.linkedin.com/posts/shidhincr_subagents-cursor-docs-activity-7417514889935626240-kR4o

[^16]: https://code.claude.com/docs/en/sub-agents

[^17]: https://www.youtube.com/watch?v=facJZ_1Xc9k

[^18]: https://frontendmasters.com/courses/pro-ai/tips-for-using-subagents/

[^19]: https://cursor.com/docs

