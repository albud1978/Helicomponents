# ‚úÖ –ö–≤–æ—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç!

**–î–∞—Ç–∞:** 08-10-2025  
**–°—Ç–∞—Ç—É—Å:** –ö–≤–æ—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –æ—Å—Ç–∞–ª–∞—Å—å –ø—Ä–æ–±–ª–µ–º–∞ —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è spawn

---

## üéâ –ì–ª–∞–≤–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

**–ö–≤–æ—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ!**

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```
Day 50-200: serviceable=112-124 (—Ä–∞—Å—Ç—ë—Ç!)
Curr=87 (–Ω–µ –º–µ–Ω—è–µ—Ç—Å—è)
Deficit=-2 (–Ω–æ –ø—Ä–æ–º–æ—É—Ç/–¥–µ–º–æ—É—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)
```

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:
```
Day 50-150: serviceable=0 ‚úÖ
Day 200: serviceable=4 ‚úÖ
Curr=85, Target=85, Deficit=0 ‚úÖ
```

---

## üîß –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 1. –î–æ–±–∞–≤–ª–µ–Ω –º–æ–¥—É–ª—å `rtc_quota_count_ops.py`
- **–°–ª–æ–π 1:** –û–±–Ω—É–ª–µ–Ω–∏–µ –±—É—Ñ–µ—Ä–æ–≤ (–ø–µ—Ä–≤—ã–π –∞–≥–µ–Ω—Ç —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç `mi8_ops_count`, `mi17_ops_count`)
- **–°–ª–æ–π 2:** –ü–æ–¥—Å—á—ë—Ç —Ä–µ–∞–ª—å–Ω–æ–≥–æ curr (–∫–∞–∂–¥—ã–π –∞–≥–µ–Ω—Ç –≤ operations –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Ñ–ª–∞–≥)

### 2. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –¥–µ–º–æ—É—Ç (`rtc_quota_ops_excess.py`)
**–ë—ã–ª–æ:**
```cpp
// –°—á–∏—Ç–∞–ª –ø–æ mfg_date (–≤—Å–µ—Ö –∞–≥–µ–Ω—Ç–æ–≤ –≤ —Å–ª–æ–µ)
for (i = 0; i < frames; ++i) {
    if (mfg != 0) ++curr;
}
```

**–°—Ç–∞–ª–æ:**
```cpp
// –°—á–∏—Ç–∞–µ—Ç –∏–∑ ops_count –±—É—Ñ–µ—Ä–∞
auto ops_count = ...getMacroProperty("mi17_ops_count");
for (i = 0; i < frames; ++i) {
    if (ops_count[i] == 1u) ++curr;
}
```

### 3. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ø—Ä–æ–º–æ—É—Ç—ã (–≤—Å–µ 3 –º–æ–¥—É–ª—è)
**–ë—ã–ª–æ:**
```cpp
// –°—á–∏—Ç–∞–ª –∏–∑ mi17_approve (–±—É—Ñ–µ—Ä –¥–µ–º–æ—É—Ç–∞!)
used = count(mi17_approve)
deficit = target - used  // –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û
```

**–°—Ç–∞–ª–æ:**
```cpp
// –°—á–∏—Ç–∞–µ—Ç –∏–∑ ops_count –±—É—Ñ–µ—Ä–∞
curr = count(mi17_ops_count)
used = count(mi17_approve_s3) + count(mi17_approve_s5)  // –ü—Ä–æ–º–æ—É—Ç—ã –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Å–ª–æ—ë–≤
deficit = target - (curr + used)  // –ü–†–ê–í–ò–õ–¨–ù–û
```

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∞ (250 –¥–Ω–µ–π)

| –î–µ–Ω—å | Serviceable (–¥–æ) | Serviceable (–ø–æ—Å–ª–µ) | Curr | Target | Deficit |
|------|------------------|---------------------|------|--------|---------|
| 50   | 112              | **0**               | 85   | 85     | 0       |
| 100  | 112              | **0**               | 85   | 85     | 0       |
| 150  | 112              | **0**               | 85   | 85     | 0       |
| 180  | ?                | ?                   | 85   | 83     | **-2** (–∏–∑–±—ã—Ç–æ–∫) |
| 200  | 117              | **4**               | 85   | 85     | 0       |
| 226  | 117              | ?                   | 85   | 85     | 0       |

**–î–µ–º–æ—É—Ç–æ–≤:** 6 (–≤–º–µ—Å—Ç–æ 117 –Ω–∞ Day 0 + 0 –ø–æ—Å–ª–µ)  
**–ö–≤–æ—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –†–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ ‚úÖ

---

## ‚ö†Ô∏è –û—Å—Ç–∞–ª–∞—Å—å –ø—Ä–æ–±–ª–µ–º–∞: –†–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è spawn

### –ù–æ–≤—ã–µ –∞–≥–µ–Ω—Ç—ã –Ω–µ –≤—Ö–æ–¥—è—Ç –≤ operations:

```
Day 226: Spawn —Å–æ–∑–¥–∞–ª 7 –∞–≥–µ–Ω—Ç–æ–≤ (idx 279-285) –≤ serviceable
Day 239-249: –í—Å–µ REJECT
  AC 100000 (idx 279): rank=111 >= K=3
  AC 100001 (idx 280): rank=112 >= K=3
  ...
```

### –ü—Ä–∏—á–∏–Ω–∞:
1. **–ù–∞—à–∞ —ç–≤—Ä–∏—Å—Ç–∏–∫–∞** –≤ –ø—Ä–æ–º–æ—É—Ç–µ:
   ```cpp
   if (idx >= 279) {
       rank = (279 * 2u) / 5u + (idx - 279);  // ‚âà112 + offset
   }
   ```

2. **Deficit –æ—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏–π** (K=3) –ø–æ—Ç–æ–º—É —á—Ç–æ Curr‚âàTarget

3. **–†–µ—à–µ–Ω–∏–µ:** –ù—É–∂–Ω–æ **–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ**:
   - –í–∞—Ä–∏–∞–Ω—Ç –ê: FCFS –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –≤—Ö–æ–¥–∞ –≤ serviceable (–¥–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `serviceable_since`)
   - –í–∞—Ä–∏–∞–Ω—Ç –ë: –°—á–∏—Ç–∞—Ç—å rank –∫–∞–∫ –ø–æ–∑–∏—Ü–∏—é —Å—Ä–µ–¥–∏ **—Ä–µ–∞–ª—å–Ω–æ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö** –∞–≥–µ–Ω—Ç–æ–≤ –≤ serviceable

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –í–∞—Ä–∏–∞–Ω—Ç 1: –î–æ–±–∞–≤–∏—Ç—å `serviceable_since` (–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ)
1. –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –∞–≥–µ–Ω—Ç–∞ `serviceable_since: UInt16`
2. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ (spawn) –∏ –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ 2‚Üí3
3. –†–∞–Ω–∂–∏—Ä–æ–≤–∞—Ç—å –ø–æ `serviceable_since` –≤–º–µ—Å—Ç–æ idx
4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

### –í–∞—Ä–∏–∞–Ω—Ç 2: –£–ª—É—á—à–∏—Ç—å —ç–≤—Ä–∏—Å—Ç–∏–∫—É rank (–±—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ)
1. –í –ø—Ä–æ–º–æ—É—Ç–µ: —Å—á–∏—Ç–∞—Ç—å —Ä–µ–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ serviceable –¥–æ –º–æ–µ–≥–æ idx
2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å message passing –∏–ª–∏ –¥–≤—É—Ö–ø—Ä–æ—Ö–æ–¥–Ω—É—é —Å—Ö–µ–º—É
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

---

## ‚úÖ –ò—Ç–æ–≥–∏

**–ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- ‚úÖ –ü–æ–¥—Å—á—ë—Ç curr (—Ä–µ–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤ operations)
- ‚úÖ –î–µ–º–æ—É—Ç (–∏–∑–±—ã—Ç–æ–∫ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è)
- ‚úÖ –ü—Ä–æ–º–æ—É—Ç (–¥–µ—Ñ–∏—Ü–∏—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è)
- ‚úÖ Serviceable —Å—Ç–∞–±–∏–ª–∏–∑–∏—Ä–æ–≤–∞–ª—Å—è (0-4 –≤–º–µ—Å—Ç–æ 112-124)
- ‚úÖ –ö–∞—Å–∫–∞–¥–Ω–æ–µ –∫–≤–æ—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (P1‚ÜíP2‚ÜíP3)
- ‚úÖ –û–±–Ω—É–ª–µ–Ω–∏–µ –±—É—Ñ–µ—Ä–æ–≤ –º–µ–∂–¥—É —à–∞–≥–∞–º–∏

**–ß—Ç–æ –Ω—É–∂–Ω–æ –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å:**
- ‚ö†Ô∏è –†–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è spawn –∞–≥–µ–Ω—Ç–æ–≤ (rank –ø–æ idx –Ω–µ —É—á–∏—Ç—ã–≤–∞–µ—Ç –ø–ª–æ—Ç–Ω–æ—Å—Ç—å)

---

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:** 38.5—Å –Ω–∞ 250 –¥–Ω–µ–π (13.2–º—Å/—à–∞–≥)  
**–ê–≤—Ç–æ—Ä:** AI Assistant + –ê–ª–µ–∫—Å–µ–π

