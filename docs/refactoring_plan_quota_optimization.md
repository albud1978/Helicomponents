# ĞŸĞ»Ğ°Ğ½ Ñ€ĞµÑ„Ğ°ĞºÑ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³Ğ°: ĞÑ‚ 30 ÑĞ»Ğ¾Ñ‘Ğ² Ğº 11 ÑĞ»Ğ¾ÑĞ¼

**Ğ”Ğ°Ñ‚Ğ° ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ñ:** 02-10-2025  
**Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ:** ĞŸÑ€ĞµĞ´Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ Ğ´Ğ»Ñ Ğ¾Ğ±ÑÑƒĞ¶Ğ´ĞµĞ½Ğ¸Ñ  
**Ğ¦ĞµĞ»ÑŒ:** ĞĞ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ RTC pipeline Ñ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸ĞµĞ¼ Ğ±Ğ¸Ğ·Ğ½ĞµÑ-Ğ»Ğ¾Ğ³Ğ¸ĞºĞ¸ Ğ´Ğ²ÑƒĞ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ ĞºĞ²Ğ¾Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ

---

## ğŸ“Š ĞĞ½Ğ°Ğ»Ğ¸Ğ· Ñ‚ĞµĞºÑƒÑ‰ĞµĞ¹ ÑĞ¸ÑÑ‚ĞµĞ¼Ñ‹ ĞºĞ²Ğ¾Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ

### Ğ”Ğ²ÑƒĞ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ½Ğ¾Ğµ ĞºĞ²Ğ¾Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ (ĞºĞ°Ğº ĞµÑÑ‚ÑŒ):

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Ğ¡ĞĞ˜Ğ–Ğ•ĞĞ˜Ğ• (Demount) â€” operations â†’ serviceable    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Ğ£ÑĞ»Ğ¾Ğ²Ğ¸Ğµ: Curr_operations > Target_operations (MP4)  â”‚
â”‚ ĞĞ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼:                                           â”‚
â”‚   - K = Curr - Target                               â”‚
â”‚   - Ğ’Ñ‹Ğ±Ğ¸Ñ€Ğ°ĞµĞ¼ K ÑĞ°Ğ¼Ñ‹Ñ… Ğ¡Ğ¢ĞĞ Ğ«Ğ¥ Ğ°Ğ³ĞµĞ½Ñ‚Ğ¾Ğ² (Ğ¿Ğ¾ mfg_date)  â”‚
â”‚   - Ğ£ÑÑ‚Ğ°Ğ½Ğ°Ğ²Ğ»Ğ¸Ğ²Ğ°ĞµĞ¼ intent = 3 (serviceable)         â”‚
â”‚                                                     â”‚
â”‚ ĞœĞ¾Ğ´ÑƒĞ»ÑŒ: rtc_quota_ops_excess.py                    â”‚
â”‚ Ğ¤Ğ°Ğ·Ñ‹:                                               â”‚
â”‚   S1: Clear masks (mi8/mi17_approve)               â”‚
â”‚   S2: Mark candidates (Ğ°Ğ³ĞµĞ½Ñ‚Ñ‹ Ğ² operations)        â”‚
â”‚   S3: Manager decides (Ğ´ĞµÑ‚ĞµÑ€Ğ¼Ğ¸Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹ Ğ²Ñ‹Ğ±Ğ¾Ñ€)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. ĞŸĞĞ’Ğ«Ğ¨Ğ•ĞĞ˜Ğ• (Promote) â€” inactive/reserve/          â”‚
â”‚                          serviceable â†’ operations   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Ğ£ÑĞ»Ğ¾Ğ²Ğ¸Ğµ: Curr_operations < Target_operations (MP4)  â”‚
â”‚ ĞŸĞ¾ÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ (ĞŸĞ Ğ˜ĞĞ Ğ˜Ğ¢Ğ•Ğ¢Ğ«):                    â”‚
â”‚   1) serviceable (3) â†’ operations (2)  [Ğ²Ñ‹ÑÑˆĞ¸Ğ¹]    â”‚
â”‚   2) reserve (5) â†’ operations (2)      [ÑÑ€ĞµĞ´Ğ½Ğ¸Ğ¹]   â”‚
â”‚   3) inactive (1) â†’ operations (2)     [Ğ½Ğ¸Ğ·ÑˆĞ¸Ğ¹]    â”‚
â”‚                                                     â”‚
â”‚ ĞĞ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼:                                           â”‚
â”‚   - Ğ”ĞµÑ„Ğ¸Ñ†Ğ¸Ñ‚ = Target - Curr                        â”‚
â”‚   - Ğ—Ğ°Ğ¿Ğ¾Ğ»Ğ½ÑĞµĞ¼ Ğ¸Ğ· serviceable (Ğ¿Ğ¾ĞºĞ° Ğ½Ğµ ĞºĞ¾Ğ½Ñ‡Ğ°Ñ‚ÑÑ)    â”‚
â”‚   - ĞÑÑ‚Ğ°Ñ‚Ğ¾Ğº Ğ·Ğ°Ğ¿Ğ¾Ğ»Ğ½ÑĞµĞ¼ Ğ¸Ğ· reserve                   â”‚
â”‚   - ĞÑÑ‚Ğ°Ñ‚Ğ¾Ğº Ğ·Ğ°Ğ¿Ğ¾Ğ»Ğ½ÑĞµĞ¼ Ğ¸Ğ· inactive (Ñ ÑƒÑĞ»Ğ¾Ğ²Ğ¸ĞµĞ¼)     â”‚
â”‚                                                     â”‚
â”‚ ĞœĞ¾Ğ´ÑƒĞ»ÑŒ: rtc_states_stub.py + state_managers        â”‚
â”‚ Ğ›Ğ¾Ğ³Ğ¸ĞºĞ°:                                             â”‚
â”‚   - state_3: Ğ²ÑĞµĞ³Ğ´Ğ° intent=2 (Ñ…Ğ¾Ñ‡Ñƒ Ğ² operations)   â”‚
â”‚   - state_5: Ğ²ÑĞµĞ³Ğ´Ğ° intent=2 (Ñ…Ğ¾Ñ‡Ñƒ Ğ² operations)   â”‚
â”‚   - state_1: intent=2 ĞµÑĞ»Ğ¸ ÑƒÑĞ»Ğ¾Ğ²Ğ¸Ğµ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ĞšĞ»ÑÑ‡ĞµĞ²Ğ¾Ğ¹ Ğ¼Ğ¾Ğ¼ĞµĞ½Ñ‚:
**Ğ¡Ğ½Ğ¸Ğ¶ĞµĞ½Ğ¸Ğµ Ğ¸ Ğ¿Ğ¾Ğ²Ñ‹ÑˆĞµĞ½Ğ¸Ğµ ĞĞ• Ğ½ĞµĞ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ñ‹:**
1. Ğ¡Ğ½Ğ°Ñ‡Ğ°Ğ»Ğ° ÑĞ½Ğ¸Ğ¶Ğ°ĞµĞ¼ Ğ¸Ğ·Ğ±Ñ‹Ñ‚Ğ¾Ğº (2â†’3)
2. ĞŸĞ¾Ñ‚Ğ¾Ğ¼ Ğ¿Ğ¾Ğ²Ñ‹ÑˆĞ°ĞµĞ¼ Ğ´ĞµÑ„Ğ¸Ñ†Ğ¸Ñ‚ (3/5/1â†’2)
3. ĞŸĞ¾Ñ€ÑĞ´Ğ¾Ğº ĞºÑ€Ğ¸Ñ‚Ğ¸Ñ‡ĞµĞ½: ÑĞ½Ğ¸Ğ¶ĞµĞ½Ğ¸Ğµ Ğ¾ÑĞ²Ğ¾Ğ±Ğ¾Ğ¶Ğ´Ğ°ĞµÑ‚ ĞºĞ²Ğ¾Ñ‚Ñƒ Ğ´Ğ»Ñ Ğ¿Ğ¾Ğ²Ñ‹ÑˆĞµĞ½Ğ¸Ñ

---

## ğŸ¯ ĞŸÑ€ĞµĞ´Ğ»Ğ°Ğ³Ğ°ĞµĞ¼Ğ°Ñ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ° (11 ÑĞ»Ğ¾Ñ‘Ğ²)

### Ğ¢ĞµĞºÑƒÑ‰Ğ°Ñ (30 ÑĞ»Ğ¾Ñ‘Ğ²):
```
Ğ¡Ğ»Ğ¾Ğ¹ 1:    rtc_probe_mp5
Ğ¡Ğ»Ğ¾Ğ¹ 2:    rtc_quota_begin_day

Ğ¡Ğ»Ğ¾Ğ¹ 3-5:  State processing (status 2/4/6)

Ğ¡Ğ»Ğ¾Ğ¹ 6-9:  Quota Ñ†Ğ¸ĞºĞ» Ğ´Ğ»Ñ ÑÑ‚Ğ°Ñ‚ÑƒÑĞ° 2  â† Ğ”Ğ£Ğ‘Ğ›Ğ˜ĞšĞĞ¢
Ğ¡Ğ»Ğ¾Ğ¹ 10-13: Quota Ñ†Ğ¸ĞºĞ» Ğ´Ğ»Ñ ÑÑ‚Ğ°Ñ‚ÑƒÑĞ° 3 â† Ğ”Ğ£Ğ‘Ğ›Ğ˜ĞšĞĞ¢
Ğ¡Ğ»Ğ¾Ğ¹ 14:   status_3_post
Ğ¡Ğ»Ğ¾Ğ¹ 15-18: Quota Ñ†Ğ¸ĞºĞ» Ğ´Ğ»Ñ ÑÑ‚Ğ°Ñ‚ÑƒÑĞ° 5 â† Ğ”Ğ£Ğ‘Ğ›Ğ˜ĞšĞĞ¢
Ğ¡Ğ»Ğ¾Ğ¹ 19-22: Quota Ñ†Ğ¸ĞºĞ» Ğ´Ğ»Ñ ÑÑ‚Ğ°Ñ‚ÑƒÑĞ° 1 â† Ğ”Ğ£Ğ‘Ğ›Ğ˜ĞšĞĞ¢

Ğ¡Ğ»Ğ¾Ğ¹ 23-25: Post-Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ° ÑÑ‚Ğ°Ñ‚ÑƒÑĞ¾Ğ²
Ğ¡Ğ»Ğ¾Ğ¹ 26:   rtc_log_day
Ğ¡Ğ»Ğ¾Ğ¹ 27-28: Spawn
Ğ¡Ğ»Ğ¾Ğ¹ 29-30: MP2 export (ÑƒÑĞ»Ğ¾Ğ²Ğ½Ñ‹Ğµ)

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Ğ˜Ğ¢ĞĞ“Ğ: 30 Ğ¡Ğ›ĞĞĞ’
ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ñ‹: 16 Ğ»Ğ¸ÑˆĞ½Ğ¸Ñ… ÑĞ»Ğ¾Ñ‘Ğ² Ğ½Ğ° ĞºĞ²Ğ¾Ñ‚Ñ‹ (4Ã—4)
```

### ĞĞ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ°Ñ (11 ÑĞ»Ğ¾Ñ‘Ğ²):
```
â”Œâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”“
â•‘ Ğ¤ĞĞ—Ğ 0: Ğ˜ĞĞ˜Ğ¦Ğ˜ĞĞ›Ğ˜Ğ—ĞĞ¦Ğ˜Ğ¯ (2 ÑĞ»Ğ¾Ñ)                   â•‘
â”—â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”›
Ğ¡Ğ»Ğ¾Ğ¹ 1:  HostFunction MP5 Init (Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ step=0)
         â””â”€> Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° mp5_lin Ğ½Ğ° Ñ…Ğ¾ÑÑ‚

Ğ¡Ğ»Ğ¾Ğ¹ 2:  rtc_begin_day
         â””â”€> Ğ¡Ğ±Ñ€Ğ¾Ñ daily Ñ„Ğ»Ğ°Ğ³Ğ¾Ğ², Ğ¾Ğ±Ğ½ÑƒĞ»ĞµĞ½Ğ¸Ğµ intent_flag

â”Œâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”“
â•‘ Ğ¤ĞĞ—Ğ 1: STATE PROCESSING (1 ÑĞ»Ğ¾Ğ¹, Ğ¿Ğ°Ñ€Ğ°Ğ»Ğ»ĞµĞ»ÑŒĞ½Ğ¾!)  â•‘
â”—â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”›
Ğ¡Ğ»Ğ¾Ğ¹ 3:  State processing (Ğ’Ğ¡Ğ• ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ñ Ğ² Ğ¾Ğ´Ğ½Ğ¾Ğ¼ ÑĞ»Ğ¾Ğµ)
         â”œâ”€> rtc_state_1_inactive    â”
         â”œâ”€> rtc_state_2_operations  â”‚ GPU Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€ÑƒĞµÑ‚
         â”œâ”€> rtc_state_3_serviceable â”‚ Ğ¿Ğ¾ state
         â”œâ”€> rtc_state_4_repair      â”‚ Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸
         â”œâ”€> rtc_state_5_reserve     â”‚
         â””â”€> rtc_state_6_storage     â”˜
         
         ĞšĞ°Ğ¶Ğ´Ğ°Ñ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ñ ÑƒÑÑ‚Ğ°Ğ½Ğ°Ğ²Ğ»Ğ¸Ğ²Ğ°ĞµÑ‚ ÑĞ²Ğ¾Ğ¹ intent:
         - operations: intent=2 (Ğ¸Ğ»Ğ¸ 4/6 Ğ¿Ğ¾ LL/OH/BR)
         - serviceable: intent=2 (Ğ²ÑĞµĞ³Ğ´Ğ° Ñ…Ğ¾Ñ‡ĞµÑ‚ Ğ² operations)
         - reserve: intent=2 (Ğ²ÑĞµĞ³Ğ´Ğ° Ñ…Ğ¾Ñ‡ĞµÑ‚ Ğ² operations)
         - inactive: intent=2 (ĞµÑĞ»Ğ¸ ÑƒÑĞ»Ğ¾Ğ²Ğ¸Ğµ) Ğ¸Ğ»Ğ¸ intent=1
         - repair: intent=4 (Ğ¸Ğ»Ğ¸ intent=5 Ğ¿Ñ€Ğ¸ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¸Ğ¸)
         - storage: intent=6 (Ğ½Ğ°Ğ²ÑĞµĞ³Ğ´Ğ°)

â”Œâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”“
â•‘ Ğ¤ĞĞ—Ğ 2: QUOTA DEMOUNT (3 ÑĞ»Ğ¾Ñ)                   â•‘
â•‘ Ğ¡Ğ½Ğ¸Ğ¶ĞµĞ½Ğ¸Ğµ: operations â†’ serviceable                â•‘
â”—â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”›
Ğ¡Ğ»Ğ¾Ğ¹ 4:  rtc_quota_demount_mark
         â””â”€> ĞĞ³ĞµĞ½Ñ‚Ñ‹ Ğ² operations Ñ intent=2
             Ğ¿Ğ¸ÑˆÑƒÑ‚ Ğ² Ğ¼Ğ°ÑĞºÑƒ: mask[idx] = 1

Ğ¡Ğ»Ğ¾Ğ¹ 5:  rtc_quota_demount_decide
         â””â”€> ĞœĞµĞ½ĞµĞ´Ğ¶ĞµÑ€ (ĞºĞ°Ğ¶Ğ´Ñ‹Ğ¹ Ğ°Ğ³ĞµĞ½Ñ‚ ÑÑ‡Ğ¸Ñ‚Ğ°ĞµÑ‚ ÑĞ²Ğ¾Ğ¹ rank):
             if (Curr > Target && rank < K):
                 intent = 3  # Ğ”ĞµĞ¼Ğ¾ÑƒÑ‚ Ğ² serviceable

Ğ¡Ğ»Ğ¾Ğ¹ 6:  rtc_quota_demount_clear
         â””â”€> ĞÑ‡Ğ¸ÑÑ‚ĞºĞ° Ğ¼Ğ°ÑĞ¾Ğº: mask[idx] = 0

â”Œâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”“
â•‘ Ğ¤ĞĞ—Ğ 3: QUOTA PROMOTE (1 ÑĞ»Ğ¾Ğ¹, Ğ¿Ñ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚Ñ‹)       â•‘
â•‘ ĞŸĞ¾Ğ²Ñ‹ÑˆĞµĞ½Ğ¸Ğµ: serviceable/reserve/inactive â†’         â•‘
â•‘            operations (Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾)           â•‘
â”—â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”›
Ğ¡Ğ»Ğ¾Ğ¹ 7:  rtc_quota_promote
         â””â”€> ĞœĞµĞ½ĞµĞ´Ğ¶ĞµÑ€ (Ñ†ĞµĞ½Ñ‚Ñ€Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹, idx==0):
             1. Ğ¡Ñ‡Ğ¸Ñ‚Ğ°ĞµĞ¼ Curr = count(intent==2 Ğ² operations)
             2. Ğ”ĞµÑ„Ğ¸Ñ†Ğ¸Ñ‚ = Target - Curr
             3. Ğ•ÑĞ»Ğ¸ Ğ´ĞµÑ„Ğ¸Ñ†Ğ¸Ñ‚ > 0:
                a) Ğ‘ĞµÑ€Ñ‘Ğ¼ Ğ¸Ğ· serviceable (intent=2):
                   - Ğ¡Ğ¾Ñ€Ñ‚Ğ¸Ñ€ÑƒĞµĞ¼ Ğ¿Ğ¾ Ğ¿Ñ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚Ñƒ
                   - ĞĞ´Ğ¾Ğ±Ñ€ÑĞµĞ¼ Ğ¿ĞµÑ€Ğ²Ñ‹Ñ… N
                   - approve_mask[idx] = 1
                b) ĞÑÑ‚Ğ°Ñ‚Ğ¾Ğº Ğ±ĞµÑ€Ñ‘Ğ¼ Ğ¸Ğ· reserve (intent=2)
                c) ĞÑÑ‚Ğ°Ñ‚Ğ¾Ğº Ğ±ĞµÑ€Ñ‘Ğ¼ Ğ¸Ğ· inactive (intent=2, Ñ ÑƒÑĞ»Ğ¾Ğ²Ğ¸ĞµĞ¼)

         â””â”€> ĞĞ³ĞµĞ½Ñ‚Ñ‹ Ğ¿Ñ€Ğ¸Ğ¼ĞµĞ½ÑÑÑ‚ Ñ€ĞµÑˆĞµĞ½Ğ¸Ğµ:
             if (approve_mask[idx] == 1):
                 confirmed_intent = 2  # ĞĞ´Ğ¾Ğ±Ñ€ĞµĞ½Ğ¾ Ğ´Ğ»Ñ operations

â”Œâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”“
â•‘ Ğ¤ĞĞ—Ğ 4: STATE TRANSITIONS (1 ÑĞ»Ğ¾Ğ¹)               â•‘
â•‘ ĞŸÑ€Ğ¸Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ğµ Ğ²ÑĞµÑ… intent Ñ†ĞµĞ½Ñ‚Ñ€Ğ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ¾            â•‘
â”—â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”›
Ğ¡Ğ»Ğ¾Ğ¹ 8:  rtc_state_transitions
         â””â”€> Ğ•Ğ´Ğ¸Ğ½Ğ°Ñ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ñ Ğ¿ĞµÑ€ĞµÑ…Ğ¾Ğ´Ğ¾Ğ²:
             switch (intent_state):
                 case 2: setEndState("operations")
                 case 3: setEndState("serviceable")
                 case 4: setEndState("repair")
                 case 5: setEndState("reserve")
                 case 6: setEndState("storage")

â”Œâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”“
â•‘ Ğ¤ĞĞ—Ğ 5: LOGGING & SPAWN (3 ÑĞ»Ğ¾Ñ)                 â•‘
â”—â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â”›
Ğ¡Ğ»Ğ¾Ğ¹ 9:  rtc_mp2_write
         â””â”€> Device-side logging Ğ² MacroProperty MP2

Ğ¡Ğ»Ğ¾Ğ¹ 10: rtc_spawn_mgr (ÑƒÑĞ»Ğ¾Ğ²Ğ½Ñ‹Ğ¹)
         â””â”€> ĞŸĞ¾Ğ´Ğ³Ğ¾Ñ‚Ğ¾Ğ²ĞºĞ° Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ² spawn

Ğ¡Ğ»Ğ¾Ğ¹ 11: rtc_spawn_ticket (ÑƒÑĞ»Ğ¾Ğ²Ğ½Ñ‹Ğ¹)
         â””â”€> Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ½Ğ¾Ğ²Ñ‹Ñ… Ğ°Ğ³ĞµĞ½Ñ‚Ğ¾Ğ² Mi-17

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
Ğ˜Ğ¢ĞĞ“Ğ: 11 Ğ¡Ğ›ĞĞĞ’ (Ğ±Ñ‹Ğ»Ğ¾ 30!)
Ğ­ĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸Ñ: -63% ÑĞ»Ğ¾Ñ‘Ğ², -69,350 GPU ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¹
```

---

## ğŸ”§ Ğ”ĞµÑ‚Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ ĞºĞ»ÑÑ‡ĞµĞ²Ñ‹Ñ… ÑĞ»Ğ¾Ñ‘Ğ²

### Ğ¡Ğ›ĞĞ™ 3: State Processing (Ğ¿Ğ°Ñ€Ğ°Ğ»Ğ»ĞµĞ»ÑŒĞ½Ñ‹Ğ¹)

**ĞšĞ»ÑÑ‡ĞµĞ²Ğ¾Ğµ Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ¸Ğµ Ğ¾Ñ‚ Ñ‚ĞµĞºÑƒÑ‰ĞµĞ¹ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸:**
```python
# Ğ‘Ñ‹Ğ»Ğ¾: ĞºĞ°Ğ¶Ğ´Ğ°Ñ state Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ñ Ğ² Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ğ¾Ğ¼ ÑĞ»Ğ¾Ğµ
layer1 = model.newLayer()
layer1.addAgentFunction(rtc_state_2_operations)  # Ğ¡Ğ»Ğ¾Ğ¹ 1

layer2 = model.newLayer()
layer2.addAgentFunction(rtc_state_4_repair)      # Ğ¡Ğ»Ğ¾Ğ¹ 2

# Ğ¡Ñ‚Ğ°Ğ»Ğ¾: Ğ’Ğ¡Ğ• state Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ Ğ² Ğ¾Ğ´Ğ½Ğ¾Ğ¼ ÑĞ»Ğ¾Ğµ
layer_states = model.newLayer("state_processing")
layer_states.addAgentFunction(rtc_state_1_inactive)
layer_states.addAgentFunction(rtc_state_2_operations)
layer_states.addAgentFunction(rtc_state_3_serviceable)
layer_states.addAgentFunction(rtc_state_4_repair)
layer_states.addAgentFunction(rtc_state_5_reserve)
layer_states.addAgentFunction(rtc_state_6_storage)

# GPU Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½Ğ¸Ñ‚ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ½ÑƒĞ¶Ğ½ÑƒÑ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ñ Ğ´Ğ»Ñ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ Ğ°Ğ³ĞµĞ½Ñ‚Ğ°
# Ğ±Ğ»Ğ°Ğ³Ğ¾Ğ´Ğ°Ñ€Ñ setInitialState/setEndState
```

**ĞŸÑ€ĞµĞ¸Ğ¼ÑƒÑ‰ĞµÑÑ‚Ğ²Ğ¾:**
- Flame GPU Ñ„Ğ¸Ğ»ÑŒÑ‚Ñ€ÑƒĞµÑ‚ Ğ°Ğ³ĞµĞ½Ñ‚Ğ¾Ğ² Ğ¿Ğ¾ state Ğ°Ğ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸
- Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ÑÑÑ‚ÑÑ Ğ¿Ğ°Ñ€Ğ°Ğ»Ğ»ĞµĞ»ÑŒĞ½Ğ¾ Ğ½Ğ° GPU (Ğ½ĞµÑ‚ Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚ĞµĞ¹)
- 6 Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¹ Ğ²Ğ¼ĞµÑÑ‚Ğ¾ 6 ÑĞ»Ğ¾Ñ‘Ğ² â†’ **5 Ğ±Ğ°Ñ€ÑŒĞµÑ€Ğ¾Ğ² ÑĞ¸Ğ½Ñ…Ñ€Ğ¾Ğ½Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ ÑĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸Ğ¸**

---

### Ğ¡Ğ›ĞĞ˜ 4-6: Quota Demount (ÑĞ½Ğ¸Ğ¶ĞµĞ½Ğ¸Ğµ 2â†’3)

#### Ğ¡Ğ»Ğ¾Ğ¹ 4: Mark Candidates
```cpp
FLAMEGPU_AGENT_FUNCTION(rtc_quota_demount_mark, ...) {
    const unsigned int intent = FLAMEGPU->getVariable<unsigned int>("intent_state");
    
    // Ğ£Ñ‡Ğ°ÑÑ‚Ğ²ÑƒÑÑ‚ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ°Ğ³ĞµĞ½Ñ‚Ñ‹ Ğ² operations Ñ intent=2
    // (Ğ¸ÑĞºĞ»ÑÑ‡Ğ°ĞµĞ¼ Ñ‚ĞµÑ…, ĞºÑ‚Ğ¾ ÑƒĞ¶Ğµ Ğ¿Ğ¾Ğ¼ĞµÑ‡ĞµĞ½ Ğ½Ğ° 4 Ğ¸Ğ»Ğ¸ 6)
    if (intent != 2u) return flamegpu::ALIVE;
    
    const unsigned int idx = FLAMEGPU->getVariable<unsigned int>("idx");
    const unsigned int group_by = FLAMEGPU->getVariable<unsigned int>("group_by");
    
    // ĞŸĞ¾Ğ¼ĞµÑ‡Ğ°ĞµĞ¼ ÑĞµĞ±Ñ ĞºĞ°Ğº ĞºĞ°Ğ½Ğ´Ğ¸Ğ´Ğ°Ñ‚Ğ°
    if (group_by == 1u) {
        auto mask = FLAMEGPU->environment.getMacroProperty<unsigned int, MAX_FRAMES>("demount_mask_mi8");
        mask[idx].exchange(1u);  // ĞÑ‚Ğ¾Ğ¼Ğ°Ñ€Ğ½Ğ¾
    } else if (group_by == 2u) {
        auto mask = FLAMEGPU->environment.getMacroProperty<unsigned int, MAX_FRAMES>("demount_mask_mi17");
        mask[idx].exchange(1u);
    }
    
    return flamegpu::ALIVE;
}
```

#### Ğ¡Ğ»Ğ¾Ğ¹ 5: Manager Decides
```cpp
FLAMEGPU_AGENT_FUNCTION(rtc_quota_demount_decide, ...) {
    const unsigned int day = FLAMEGPU->getStepCounter();
    const unsigned int idx = FLAMEGPU->getVariable<unsigned int>("idx");
    const unsigned int group_by = FLAMEGPU->getVariable<unsigned int>("group_by");
    const unsigned int intent = FLAMEGPU->getVariable<unsigned int>("intent_state");
    
    // Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ Ğ´Ğ»Ñ Ğ°Ğ³ĞµĞ½Ñ‚Ğ¾Ğ²-ĞºĞ°Ğ½Ğ´Ğ¸Ğ´Ğ°Ñ‚Ğ¾Ğ² (intent=2)
    if (intent != 2u) return flamegpu::ALIVE;
    
    if (group_by == 1u) {
        auto mask = FLAMEGPU->environment.getMacroProperty<unsigned int, MAX_FRAMES>("demount_mask_mi8");
        
        // Ğ§Ğ¸Ñ‚Ğ°ĞµĞ¼ ĞºĞ²Ğ¾Ñ‚Ñƒ Ğ½Ğ° ÑĞ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ğ¹ Ğ´ĞµĞ½ÑŒ
        unsigned int target = FLAMEGPU->environment.getProperty<unsigned int>("mp4_ops_counter_mi8", day + 1);
        
        // Ğ¡Ñ‡Ğ¸Ñ‚Ğ°ĞµĞ¼ Ñ‚ĞµĞºÑƒÑ‰Ğ¸Ñ… ĞºĞ°Ğ½Ğ´Ğ¸Ğ´Ğ°Ñ‚Ğ¾Ğ²
        unsigned int curr = 0u;
        for (unsigned int i = 0u; i < MAX_FRAMES; ++i) {
            if (mask[i] == 1u) ++curr;
        }
        
        if (curr > target) {
            // Ğ˜Ğ·Ğ±Ñ‹Ñ‚Ğ¾Ğº! ĞÑƒĞ¶Ğ½Ğ¾ ÑĞ½Ğ¸Ğ·Ğ¸Ñ‚ÑŒ K = curr - target Ğ°Ğ³ĞµĞ½Ñ‚Ğ¾Ğ²
            const unsigned int K = curr - target;
            
            // Ğ”ĞµÑ‚ĞµÑ€Ğ¼Ğ¸Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹ Ğ²Ñ‹Ğ±Ğ¾Ñ€ Ğ¿Ğ¾ Ğ²Ğ¾Ğ·Ñ€Ğ°ÑÑ‚Ñƒ (mfg_date)
            const unsigned int my_mfg = FLAMEGPU->environment.getProperty<unsigned int>("mp3_mfg_date_days", idx);
            unsigned int rank = 0u;
            
            // Ğ¡Ñ‡Ğ¸Ñ‚Ğ°ĞµĞ¼ ÑĞ²Ğ¾Ğ¹ rank ÑÑ€ĞµĞ´Ğ¸ ĞºĞ°Ğ½Ğ´Ğ¸Ğ´Ğ°Ñ‚Ğ¾Ğ²
            for (unsigned int i = 0u; i < MAX_FRAMES; ++i) {
                if (i == idx || mask[i] != 1u) continue;
                
                const unsigned int other_mfg = FLAMEGPU->environment.getProperty<unsigned int>("mp3_mfg_date_days", i);
                // Ğ¡Ñ‚Ğ°Ñ€ÑˆĞµ Ğ¼ĞµĞ½Ñ (Ğ¼ĞµĞ½ÑŒÑˆĞµ mfg_date) Ğ¸Ğ»Ğ¸ Ñ€Ğ°Ğ²ĞµĞ½ Ğ½Ğ¾ Ğ¼ĞµĞ½ÑŒÑˆĞ¸Ğ¹ idx
                if (other_mfg < my_mfg || (other_mfg == my_mfg && i < idx)) {
                    ++rank;
                }
            }
            
            // Ğ•ÑĞ»Ğ¸ Ñ Ğ² Ñ‡Ğ¸ÑĞ»Ğµ K ÑĞ°Ğ¼Ñ‹Ñ… ÑÑ‚Ğ°Ñ€Ñ‹Ñ… â†’ Ğ´ĞµĞ¼Ğ¾ÑƒÑ‚
            if (rank < K) {
                FLAMEGPU->setVariable<unsigned int>("intent_state", 3u);  // serviceable
            }
        }
        // Ğ˜Ğ½Ğ°Ñ‡Ğµ Ğ¾ÑÑ‚Ğ°ÑÑÑŒ Ñ intent=2 (operations)
    }
    
    // ĞĞ½Ğ°Ğ»Ğ¾Ğ³Ğ¸Ñ‡Ğ½Ğ¾ Ğ´Ğ»Ñ group_by==2 (Mi-17)
    
    return flamegpu::ALIVE;
}
```

#### Ğ¡Ğ»Ğ¾Ğ¹ 6: Clear Masks
```cpp
FLAMEGPU_AGENT_FUNCTION(rtc_quota_demount_clear, ...) {
    const unsigned int idx = FLAMEGPU->getVariable<unsigned int>("idx");
    
    // ĞÑ‡Ğ¸Ñ‰Ğ°ĞµĞ¼ Ğ¾Ğ±Ğµ Ğ¼Ğ°ÑĞºĞ¸ (Ğ´Ğ»Ñ Ğ²ÑĞµÑ… Ğ°Ğ³ĞµĞ½Ñ‚Ğ¾Ğ²)
    auto mask8 = FLAMEGPU->environment.getMacroProperty<unsigned int, MAX_FRAMES>("demount_mask_mi8");
    auto mask17 = FLAMEGPU->environment.getMacroProperty<unsigned int, MAX_FRAMES>("demount_mask_mi17");
    
    mask8[idx].exchange(0u);
    mask17[idx].exchange(0u);
    
    return flamegpu::ALIVE;
}
```

---

### Ğ¡Ğ›ĞĞ™ 7: Quota Promote (Ğ¿Ğ¾Ğ²Ñ‹ÑˆĞµĞ½Ğ¸Ğµ 1/3/5â†’2)

**ĞšĞ»ÑÑ‡ĞµĞ²Ğ¾Ğµ Ğ¾Ñ‚Ğ»Ğ¸Ñ‡Ğ¸Ğµ:** Ğ¦ĞµĞ½Ñ‚Ñ€Ğ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğ¹ Ğ¼ĞµĞ½ĞµĞ´Ğ¶ĞµÑ€ Ñ Ğ¿Ñ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚Ğ°Ğ¼Ğ¸

```cpp
FLAMEGPU_AGENT_FUNCTION(rtc_quota_promote, ...) {
    const unsigned int day = FLAMEGPU->getStepCounter();
    const unsigned int idx = FLAMEGPU->getVariable<unsigned int>("idx");
    const unsigned int group_by = FLAMEGPU->getVariable<unsigned int>("group_by");
    const unsigned int intent = FLAMEGPU->getVariable<unsigned int>("intent_state");
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // Ğ¨ĞĞ“ 1: ĞœĞµĞ½ĞµĞ´Ğ¶ĞµÑ€ ÑÑ‡Ğ¸Ñ‚Ğ°ĞµÑ‚ Ğ´ĞµÑ„Ğ¸Ñ†Ğ¸Ñ‚ (ĞºĞ°Ğ¶Ğ´Ñ‹Ğ¹ Ğ°Ğ³ĞµĞ½Ñ‚ ÑĞ°Ğ¼)
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    if (group_by == 1u) {
        // Ğ§Ğ¸Ñ‚Ğ°ĞµĞ¼ Ñ†ĞµĞ»ĞµĞ²ÑƒÑ ĞºĞ²Ğ¾Ñ‚Ñƒ Ğ½Ğ° ÑĞ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ğ¹ Ğ´ĞµĞ½ÑŒ
        unsigned int target = FLAMEGPU->environment.getProperty<unsigned int>("mp4_ops_counter_mi8", day + 1);
        
        // Ğ¡Ñ‡Ğ¸Ñ‚Ğ°ĞµĞ¼ Ñ‚ĞµĞºÑƒÑ‰Ğ¸Ñ… Ğ² operations (Ğ¿Ğ¾ÑĞ»Ğµ demount)
        unsigned int curr_ops = 0u;
        // ĞŸÑ€Ğ¾Ñ…Ğ¾Ğ´Ğ¸Ğ¼ Ğ¿Ğ¾ Ğ²ÑĞµĞ¼ Ğ°Ğ³ĞµĞ½Ñ‚Ğ°Ğ¼ Ğ¸ ÑÑ‡Ğ¸Ñ‚Ğ°ĞµĞ¼ intent=2
        // (Ğ² Ñ€ĞµĞ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸ Ğ½ÑƒĞ¶ĞµĞ½ Ğ³Ğ»Ğ¾Ğ±Ğ°Ğ»ÑŒĞ½Ñ‹Ğ¹ ÑÑ‡Ñ‘Ñ‚Ñ‡Ğ¸Ğº Ñ‡ĞµÑ€ĞµĞ· reduction Ğ¸Ğ»Ğ¸ Ğ°Ñ‚Ğ¾Ğ¼Ğ¸ĞºĞ¸)
        
        unsigned int deficit = (target > curr_ops) ? (target - curr_ops) : 0u;
        
        if (deficit == 0u) {
            return flamegpu::ALIVE;  // ĞĞµÑ‚ Ğ´ĞµÑ„Ğ¸Ñ†Ğ¸Ñ‚Ğ°
        }
        
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // Ğ¨ĞĞ“ 2: ĞŸÑ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚Ñ‹ Ğ·Ğ°Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ñ (Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾)
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
        // ĞŸĞ Ğ˜ĞĞ Ğ˜Ğ¢Ğ•Ğ¢ 1: serviceable (3) â†’ operations (2)
        if (intent == 2u) {  // ĞĞ³ĞµĞ½Ñ‚ Ñ…Ğ¾Ñ‡ĞµÑ‚ Ğ² operations
            // ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµĞ¼ Ñ‚ĞµĞºÑƒÑ‰ĞµĞµ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ Ñ‡ĞµÑ€ĞµĞ· prev_intent Ğ¸Ğ»Ğ¸ state
            const unsigned int prev_state = /* Ñ‡Ğ¸Ñ‚Ğ°ĞµĞ¼ Ğ¸Ğ· state Ğ¸Ğ»Ğ¸ prev_intent */;
            
            if (prev_state == 3u) {  // Ğ˜Ğ· serviceable
                // Ğ’Ñ‹ÑÑˆĞ¸Ğ¹ Ğ¿Ñ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚: Ğ´ĞµÑ‚ĞµÑ€Ğ¼Ğ¸Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ°Ñ Ğ¾Ñ‡ĞµÑ€ĞµĞ´ÑŒ
                unsigned int rank_s3 = 0u;
                // Ğ¡Ñ‡Ğ¸Ñ‚Ğ°ĞµĞ¼ ÑĞ²Ğ¾Ğ¹ rank ÑÑ€ĞµĞ´Ğ¸ serviceable Ñ intent=2
                // ... Ğ»Ğ¾Ğ³Ğ¸ĞºĞ° Ñ€Ğ°Ğ½Ğ¶Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ ...
                
                if (rank_s3 < deficit) {
                    // ĞĞ´Ğ¾Ğ±Ñ€ĞµĞ½Ğ¾!
                    auto approve = FLAMEGPU->environment.getMacroProperty<unsigned int, MAX_FRAMES>("promote_approve_mi8");
                    approve[idx].exchange(1u);
                    deficit--;  // Ğ£Ğ¼ĞµĞ½ÑŒÑˆĞ°ĞµĞ¼ Ğ´ĞµÑ„Ğ¸Ñ†Ğ¸Ñ‚
                }
            }
        }
        
        // ĞŸĞ Ğ˜ĞĞ Ğ˜Ğ¢Ğ•Ğ¢ 2: reserve (5) â†’ operations (2)
        if (deficit > 0u && intent == 2u) {
            const unsigned int prev_state = /* ... */;
            
            if (prev_state == 5u) {  // Ğ˜Ğ· reserve
                // Ğ¡Ñ€ĞµĞ´Ğ½Ğ¸Ğ¹ Ğ¿Ñ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚
                unsigned int rank_s5 = 0u;
                // ... Ğ»Ğ¾Ğ³Ğ¸ĞºĞ° Ñ€Ğ°Ğ½Ğ¶Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ ...
                
                if (rank_s5 < deficit) {
                    auto approve = FLAMEGPU->environment.getMacroProperty<unsigned int, MAX_FRAMES>("promote_approve_mi8");
                    approve[idx].exchange(1u);
                    deficit--;
                }
            }
        }
        
        // ĞŸĞ Ğ˜ĞĞ Ğ˜Ğ¢Ğ•Ğ¢ 3: inactive (1) â†’ operations (2)
        if (deficit > 0u && intent == 2u) {
            const unsigned int prev_state = /* ... */;
            
            if (prev_state == 1u) {  // Ğ˜Ğ· inactive
                // ĞĞ¸Ğ·ÑˆĞ¸Ğ¹ Ğ¿Ñ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚ + ÑƒÑĞ»Ğ¾Ğ²Ğ¸Ğµ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸
                unsigned int rank_s1 = 0u;
                // ... Ğ»Ğ¾Ğ³Ğ¸ĞºĞ° Ñ€Ğ°Ğ½Ğ¶Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ ...
                
                if (rank_s1 < deficit) {
                    auto approve = FLAMEGPU->environment.getMacroProperty<unsigned int, MAX_FRAMES>("promote_approve_mi8");
                    approve[idx].exchange(1u);
                }
            }
        }
    }
    
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // Ğ¨ĞĞ“ 3: ĞĞ³ĞµĞ½Ñ‚Ñ‹ Ñ‡Ğ¸Ñ‚Ğ°ÑÑ‚ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚ Ğ¾Ğ´Ğ¾Ğ±Ñ€ĞµĞ½Ğ¸Ñ
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    
    if (group_by == 1u) {
        auto approve = FLAMEGPU->environment.getMacroProperty<unsigned int, MAX_FRAMES>("promote_approve_mi8");
        
        if (approve[idx] == 1u) {
            // ĞĞ´Ğ¾Ğ±Ñ€ĞµĞ½Ğ¾ Ğ´Ğ»Ñ Ğ¿ĞµÑ€ĞµÑ…Ğ¾Ğ´Ğ° Ğ² operations
            FLAMEGPU->setVariable<unsigned int>("intent_state", 2u);
        }
        // Ğ˜Ğ½Ğ°Ñ‡Ğµ intent Ğ¾ÑÑ‚Ğ°Ñ‘Ñ‚ÑÑ Ğ¿Ñ€ĞµĞ¶Ğ½Ğ¸Ğ¼ (3/5/1)
        
        // ĞÑ‡Ğ¸Ñ‰Ğ°ĞµĞ¼ ÑĞ²Ğ¾Ğ¹ Ñ„Ğ»Ğ°Ğ³
        approve[idx].exchange(0u);
    }
    
    return flamegpu::ALIVE;
}
```

**ĞŸÑ€Ğ¾Ğ±Ğ»ĞµĞ¼Ğ°:** Ğ’ Ğ¾Ğ´Ğ½Ğ¾Ğ¼ ÑĞ»Ğ¾Ğµ ÑĞ»Ğ¾Ğ¶Ğ½Ğ¾ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ğ¿Ñ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚Ñ‹ Ñ Ğ´ĞµÑ‚ĞµÑ€Ğ¼Ğ¸Ğ½Ğ¸Ğ·Ğ¼Ğ¾Ğ¼.

**ĞĞ»ÑŒÑ‚ĞµÑ€Ğ½Ğ°Ñ‚Ğ¸Ğ²Ğ° (Ğ±Ğ¾Ğ»ĞµĞµ Ñ‡Ğ¸ÑÑ‚Ğ°Ñ):**
```
Ğ¡Ğ»Ğ¾Ğ¹ 7a: rtc_quota_promote_serviceable   (3â†’2, Ğ²Ñ‹ÑÑˆĞ¸Ğ¹ Ğ¿Ñ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚)
Ğ¡Ğ»Ğ¾Ğ¹ 7b: rtc_quota_promote_reserve       (5â†’2, ÑÑ€ĞµĞ´Ğ½Ğ¸Ğ¹ Ğ¿Ñ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚)
Ğ¡Ğ»Ğ¾Ğ¹ 7c: rtc_quota_promote_inactive      (1â†’2, Ğ½Ğ¸Ğ·ÑˆĞ¸Ğ¹ Ğ¿Ñ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚)

= 3 ÑĞ»Ğ¾Ñ Ğ´Ğ»Ñ promote Ğ²Ğ¼ĞµÑÑ‚Ğ¾ 12 ÑĞ»Ğ¾Ñ‘Ğ² (Ğ±Ñ‹Ğ»Ğ¾ 4Ã—3 Ğ´Ğ»Ñ Ñ€Ğ°Ğ·Ğ½Ñ‹Ñ… ÑÑ‚Ğ°Ñ‚ÑƒÑĞ¾Ğ²)
```

**ĞĞ±Ğ½Ğ¾Ğ²Ğ»Ñ‘Ğ½Ğ½Ğ°Ñ ÑÑ…ĞµĞ¼Ğ°:**
```
Ğ¤ĞĞ—Ğ 3: QUOTA PROMOTE (3 ÑĞ»Ğ¾Ñ, Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Ğ¡Ğ»Ğ¾Ğ¹ 7:  rtc_quota_promote_serviceable
         â””â”€> serviceable (3) â†’ operations (2)
             ĞŸÑ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚: FCFS Ğ¸Ğ»Ğ¸ Ğ¿Ğ¾ Ğ´Ğ°Ñ‚Ğµ Ñ€ĞµĞ¼Ğ¾Ğ½Ñ‚Ğ°

Ğ¡Ğ»Ğ¾Ğ¹ 8:  rtc_quota_promote_reserve
         â””â”€> reserve (5) â†’ operations (2)
             ĞŸÑ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚: Ğ¿Ğ¾ Ğ´Ğ°Ñ‚Ğµ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¸Ñ Ñ€ĞµĞ¼Ğ¾Ğ½Ñ‚Ğ°

Ğ¡Ğ»Ğ¾Ğ¹ 9:  rtc_quota_promote_inactive
         â””â”€> inactive (1) â†’ operations (2)
             Ğ£ÑĞ»Ğ¾Ğ²Ğ¸Ğµ: (day - repair_time) > version_date
             ĞŸÑ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚: FCFS
```

**Ğ˜Ñ‚Ğ¾Ğ³Ğ¾: 13 ÑĞ»Ğ¾Ñ‘Ğ² Ğ²Ğ¼ĞµÑÑ‚Ğ¾ 30** (Ğ²ÑÑ‘ ĞµÑ‰Ñ‘ -57% overhead)

---

## ğŸ“Š Ğ¡Ñ€Ğ°Ğ²Ğ½ĞµĞ½Ğ¸Ğµ Ğ°Ñ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€

| ĞœĞµÑ‚Ñ€Ğ¸ĞºĞ° | Ğ¢ĞµĞºÑƒÑ‰Ğ°Ñ (30) | ĞĞ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ°Ñ (13) | Ğ­ĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸Ñ |
|---------|--------------|----------------------|----------|
| **Ğ¡Ğ»Ğ¾Ñ‘Ğ² Ğ½Ğ° ÑˆĞ°Ğ³** | 30 | 13 | **-57%** |
| **GPU Ğ±Ğ°Ñ€ÑŒĞµÑ€Ğ¾Ğ² (3650 Ğ´Ğ½ĞµĞ¹)** | 109,500 | 47,450 | **-57%** |
| **Overhead Ğ±Ğ°Ñ€ÑŒĞµÑ€Ğ¾Ğ²** | ~11-110Ñ | ~5-47Ñ | **-57%** |
| **Quota ÑĞ»Ğ¾Ñ‘Ğ²** | 16 | 6 | **-63%** |
| **State ÑĞ»Ğ¾Ñ‘Ğ²** | 6 | 1 | **-83%** |
| **Ğ”ÑƒĞ±Ğ»Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ ĞºĞ¾Ğ´Ğ°** | Ğ”Ğ° (4Ã—) | ĞĞµÑ‚ | **-75%** |

---

## ğŸ”„ ĞŸĞ»Ğ°Ğ½ Ğ¼Ğ¸Ğ³Ñ€Ğ°Ñ†Ğ¸Ğ¸ (Ğ¿Ğ¾ÑˆĞ°Ğ³Ğ¾Ğ²Ñ‹Ğ¹)

### **Ğ­Ñ‚Ğ°Ğ¿ 1: ĞŸĞ¾Ğ´Ğ³Ğ¾Ñ‚Ğ¾Ğ²ĞºĞ° (Ğ±ĞµĞ· Ğ¸Ğ·Ğ¼ĞµĞ½ĞµĞ½Ğ¸Ñ Ğ»Ğ¾Ğ³Ğ¸ĞºĞ¸)**
- [ ] Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ñ‚ĞµĞºÑƒÑ‰Ğ¸Ğµ Ğ¸Ğ½Ğ²Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚Ñ‹ ĞºĞ²Ğ¾Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ
- [ ] Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ½Ğ°Ğ±Ğ¾Ñ€ Ğ¸Ğ½Ñ‚ĞµĞ³Ñ€Ğ°Ñ†Ğ¸Ğ¾Ğ½Ğ½Ñ‹Ñ… Ñ‚ĞµÑÑ‚Ğ¾Ğ²:
  - Ğ¢ĞµÑÑ‚ Ğ½Ğ° ÑĞ½Ğ¸Ğ¶ĞµĞ½Ğ¸Ğµ (2â†’3)
  - Ğ¢ĞµÑÑ‚ Ğ½Ğ° Ğ¿Ğ¾Ğ²Ñ‹ÑˆĞµĞ½Ğ¸Ğµ Ñ Ğ¿Ñ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚Ğ°Ğ¼Ğ¸ (3â†’2, 5â†’2, 1â†’2)
  - Ğ¢ĞµÑÑ‚ Ğ½Ğ° ĞºĞ¾Ğ¼Ğ±Ğ¸Ğ½Ğ°Ñ†Ğ¸Ñ ÑĞ½Ğ¸Ğ¶ĞµĞ½Ğ¸Ğµ+Ğ¿Ğ¾Ğ²Ñ‹ÑˆĞµĞ½Ğ¸Ğµ
  - Ğ¢ĞµÑÑ‚ Ğ½Ğ° Ğ´ĞµÑ‚ĞµÑ€Ğ¼Ğ¸Ğ½Ğ¸Ğ·Ğ¼ (Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ¾Ğ³Ğ¾Ğ½Ñ‹)
- [ ] Ğ—Ğ°Ñ„Ğ¸ĞºÑĞ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ baseline Ğ¼ĞµÑ‚Ñ€Ğ¸ĞºĞ¸ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸

### **Ğ­Ñ‚Ğ°Ğ¿ 2: State Processing (6 ÑĞ»Ğ¾Ñ‘Ğ² â†’ 1 ÑĞ»Ğ¾Ğ¹)**
- [ ] Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ ĞµĞ´Ğ¸Ğ½Ñ‹Ğ¹ ÑĞ»Ğ¾Ğ¹ `state_processing`
- [ ] ĞŸĞµÑ€ĞµĞ¼ĞµÑÑ‚Ğ¸Ñ‚ÑŒ Ğ²ÑĞµ state Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ Ğ² Ğ¾Ğ´Ğ¸Ğ½ ÑĞ»Ğ¾Ğ¹
- [ ] Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ Ñ‚ĞµÑÑ‚Ñ‹ â€” ÑƒĞ±ĞµĞ´Ğ¸Ñ‚ÑŒÑÑ Ğ² Ğ¸Ğ´ĞµĞ½Ñ‚Ğ¸Ñ‡Ğ½Ğ¾ÑÑ‚Ğ¸ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ¾Ğ²
- [ ] Ğ—Ğ°Ğ¼ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ (Ğ¾Ğ¶Ğ¸Ğ´Ğ°ĞµĞ¼ -5 Ğ±Ğ°Ñ€ÑŒĞµÑ€Ğ¾Ğ²)

### **Ğ­Ñ‚Ğ°Ğ¿ 3: Quota Demount (Ğ¾ÑÑ‚Ğ°Ğ²Ğ¸Ñ‚ÑŒ 3 ÑĞ»Ğ¾Ñ)**
- [ ] Ğ ĞµÑ„Ğ°ĞºÑ‚Ğ¾Ñ€Ğ¸Ğ½Ğ³ `rtc_quota_ops_excess.py`:
  - ĞŸĞµÑ€ĞµĞ¸Ğ¼ĞµĞ½Ğ¾Ğ²Ğ°Ñ‚ÑŒ ÑĞ»Ğ¾Ğ¸: S1â†’demount_clear, S2â†’demount_mark, S3â†’demount_decide
  - Ğ£Ğ±Ñ€Ğ°Ñ‚ÑŒ ÑƒÑÑ‚Ğ°Ñ€ĞµĞ²ÑˆĞ¸Ğ¹ ĞºĞ¾Ğ´ (S4 ÑƒĞ¶Ğµ ÑƒĞ±Ñ€Ğ°Ğ½)
- [ ] Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ Ñ‚ĞµÑÑ‚Ñ‹ ÑĞ½Ğ¸Ğ¶ĞµĞ½Ğ¸Ñ
- [ ] Ğ­ĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸Ñ: 0 ÑĞ»Ğ¾Ñ‘Ğ² (ÑƒĞ¶Ğµ Ğ¾Ğ¿Ñ‚Ğ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¾)

### **Ğ­Ñ‚Ğ°Ğ¿ 4: Quota Promote (Ğ½Ğ¾Ğ²Ğ°Ñ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ, 3 ÑĞ»Ğ¾Ñ)**
- [ ] Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ½Ğ¾Ğ²Ñ‹Ğ¹ Ğ¼Ğ¾Ğ´ÑƒĞ»ÑŒ `rtc_quota_promote.py`:
  - `rtc_quota_promote_serviceable` (3â†’2)
  - `rtc_quota_promote_reserve` (5â†’2)
  - `rtc_quota_promote_inactive` (1â†’2)
- [ ] Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ ÑÑ‚Ğ°Ñ€Ñ‹Ğµ quota Ñ†Ğ¸ĞºĞ»Ñ‹ Ğ´Ğ»Ñ ÑÑ‚Ğ°Ñ‚ÑƒÑĞ¾Ğ² 1/3/5 (12 ÑĞ»Ğ¾Ñ‘Ğ²)
- [ ] Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ Ñ‚ĞµÑÑ‚Ñ‹ Ğ¿Ğ¾Ğ²Ñ‹ÑˆĞµĞ½Ğ¸Ñ Ñ Ğ¿Ñ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚Ğ°Ğ¼Ğ¸
- [ ] Ğ—Ğ°Ğ¼ĞµÑ€Ğ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ (Ğ¾Ğ¶Ğ¸Ğ´Ğ°ĞµĞ¼ -9 Ğ±Ğ°Ñ€ÑŒĞµÑ€Ğ¾Ğ²)

### **Ğ­Ñ‚Ğ°Ğ¿ 5: State Transitions (Ğ¾ÑÑ‚Ğ°Ğ²Ğ¸Ñ‚ÑŒ 1 ÑĞ»Ğ¾Ğ¹)**
- [ ] Ğ£Ğ±ĞµĞ´Ğ¸Ñ‚ÑŒÑÑ, Ñ‡Ñ‚Ğ¾ Ğ²ÑĞµ intent ĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚Ğ½Ğ¾ Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°ÑÑ‚ÑÑ
- [ ] Ğ’Ğ°Ğ»Ğ¸Ğ´Ğ°Ñ†Ğ¸Ñ: intent != 0 Ğ´Ğ»Ñ Ğ²ÑĞµÑ… Ğ°Ğ³ĞµĞ½Ñ‚Ğ¾Ğ² Ğ½Ğ° Ğ²ÑĞµÑ… ÑˆĞ°Ğ³Ğ°Ñ…

### **Ğ­Ñ‚Ğ°Ğ¿ 6: Ğ¤Ğ¸Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ**
- [ ] Ğ—Ğ°Ğ¿ÑƒÑÑ‚Ğ¸Ñ‚ÑŒ Ğ¿Ğ¾Ğ»Ğ½Ñ‹Ğ¹ Ğ½Ğ°Ğ±Ğ¾Ñ€ Ñ‚ĞµÑÑ‚Ğ¾Ğ² (DAYS={5,90,365,3650})
- [ ] Ğ¡Ñ€Ğ°Ğ²Ğ½Ğ¸Ñ‚ÑŒ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ‹ Ñ baseline (Ğ´ĞµÑ‚ĞµÑ€Ğ¼Ğ¸Ğ½Ğ¸Ğ·Ğ¼)
- [ ] ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ Ğ´Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ:
  - `rtc_pipeline_architecture.md`
  - `validation.md`
- [ ] Code review

---

## âš ï¸ Ğ Ğ¸ÑĞºĞ¸ Ğ¸ Ğ¼Ğ¸Ñ‚Ğ¸Ğ³Ğ°Ñ†Ğ¸Ñ

### Ğ Ğ¸ÑĞº 1: ĞĞ°Ñ€ÑƒÑˆĞµĞ½Ğ¸Ğµ Ğ´ĞµÑ‚ĞµÑ€Ğ¼Ğ¸Ğ½Ğ¸Ğ·Ğ¼Ğ°
**ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ:** ĞŸÑ€Ğ¸ Ğ¾Ğ±ÑŠĞµĞ´Ğ¸Ğ½ĞµĞ½Ğ¸Ğ¸ ÑĞ»Ğ¾Ñ‘Ğ² Ğ¼Ğ¾Ğ¶ĞµÑ‚ Ğ¸Ğ·Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒÑÑ Ğ¿Ğ¾Ñ€ÑĞ´Ğ¾Ğº Ğ²Ñ‹Ğ¿Ğ¾Ğ»Ğ½ĞµĞ½Ğ¸Ñ  
**ĞœĞ¸Ñ‚Ğ¸Ğ³Ğ°Ñ†Ğ¸Ñ:**
- Ğ¡Ñ‚Ñ€Ğ¾Ğ³Ğ¸Ğµ Ñ‚ĞµÑÑ‚Ñ‹ Ğ½Ğ° Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€ÑĞµĞ¼Ğ¾ÑÑ‚ÑŒ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ğ¾Ğ²
- Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ´ĞµÑ‚ĞµÑ€Ğ¼Ğ¸Ğ½Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ñ… Ğ°Ğ»Ğ³Ğ¾Ñ€Ğ¸Ñ‚Ğ¼Ğ¾Ğ² (rank-based, Ğ½Ğµ random)
- Rollback Ğ¿Ñ€Ğ¸ Ğ»ÑĞ±Ğ¾Ğ¼ Ñ€Ğ°ÑÑ…Ğ¾Ğ¶Ğ´ĞµĞ½Ğ¸Ğ¸

### Ğ Ğ¸ÑĞº 2: Race conditions Ğ² MacroProperty
**ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ:** ĞĞ´Ğ½Ğ¾Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ğ¾Ğµ Ñ‡Ñ‚ĞµĞ½Ğ¸Ğµ/Ğ·Ğ°Ğ¿Ğ¸ÑÑŒ Ğ² Ğ¼Ğ°ÑĞºĞ¸ ĞºĞ²Ğ¾Ñ‚  
**ĞœĞ¸Ñ‚Ğ¸Ğ³Ğ°Ñ†Ğ¸Ñ:**
- Ğ§Ñ‘Ñ‚ĞºĞ¾Ğµ Ñ€Ğ°Ğ·Ğ´ĞµĞ»ĞµĞ½Ğ¸Ğµ Ñ„Ğ°Ğ·: write â†’ read â†’ clear
- Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ `exchange()` Ğ´Ğ»Ñ Ğ°Ñ‚Ğ¾Ğ¼Ğ°Ñ€Ğ½Ğ¾ÑÑ‚Ğ¸
- Smoke-Ñ‚ĞµÑÑ‚Ñ‹ Ñ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¾Ğ¹ ĞºĞ¾Ğ½ÑĞ¸ÑÑ‚ĞµĞ½Ñ‚Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ¼Ğ°ÑĞ¾Ğº

### Ğ Ğ¸ÑĞº 3: ĞŸÑ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚Ñ‹ promote Ğ½Ğµ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ÑÑ‚
**ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ:** ĞĞ°Ñ€ÑƒÑˆĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸ serviceable â†’ reserve â†’ inactive  
**ĞœĞ¸Ñ‚Ğ¸Ğ³Ğ°Ñ†Ğ¸Ñ:**
- Ğ Ğ°Ğ·Ğ´ĞµĞ»ÑŒĞ½Ñ‹Ğµ ÑĞ»Ğ¾Ğ¸ Ğ´Ğ»Ñ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ Ğ¿Ñ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚Ğ° (3 ÑĞ»Ğ¾Ñ)
- Ğ¯Ğ²Ğ½Ñ‹Ğ¹ ÑƒÑ‡Ñ‘Ñ‚ Ğ´ĞµÑ„Ğ¸Ñ†Ğ¸Ñ‚Ğ° Ğ¿Ğ¾ÑĞ»Ğµ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ ÑĞ»Ğ¾Ñ
- Ğ›Ğ¾Ğ³Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ¿ĞµÑ€ĞµÑ…Ğ¾Ğ´Ğ¾Ğ² Ğ´Ğ»Ñ Ğ¾Ñ‚Ğ»Ğ°Ğ´ĞºĞ¸

### Ğ Ğ¸ÑĞº 4: Ğ ĞµĞ³Ñ€ĞµÑÑĞ¸Ñ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸
**ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ:** Overhead Ğ½Ğ° Ğ¿Ğ¾Ğ´ÑÑ‡Ñ‘Ñ‚ deficit Ğ² ĞºĞ°Ğ¶Ğ´Ğ¾Ğ¼ Ğ°Ğ³ĞµĞ½Ñ‚Ğµ  
**ĞœĞ¸Ñ‚Ğ¸Ğ³Ğ°Ñ†Ğ¸Ñ:**
- Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ reduction operations Ğ´Ğ»Ñ Ğ³Ğ»Ğ¾Ğ±Ğ°Ğ»ÑŒĞ½Ñ‹Ñ… ÑÑ‡Ñ‘Ñ‚Ñ‡Ğ¸ĞºĞ¾Ğ²
- ĞšÑÑˆĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ deficit Ğ² MacroProperty scalar
- Fallback Ğº ÑÑ‚Ğ°Ñ€Ğ¾Ğ¹ ÑÑ…ĞµĞ¼Ğµ ĞµÑĞ»Ğ¸ Ğ´ĞµĞ³Ñ€Ğ°Ğ´Ğ°Ñ†Ğ¸Ñ > 10%

---

## ğŸ“ˆ ĞĞ¶Ğ¸Ğ´Ğ°ĞµĞ¼Ñ‹Ğµ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ‹

### ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ:
```
Baseline (30 ÑĞ»Ğ¾Ñ‘Ğ²):
  3650 Ğ´Ğ½ĞµĞ¹ Ã— 30 ÑĞ»Ğ¾Ñ‘Ğ² = 109,500 Ğ±Ğ°Ñ€ÑŒĞµÑ€Ğ¾Ğ²
  Overhead: ~11-110Ñ (Ğ² Ğ·Ğ°Ğ²Ğ¸ÑĞ¸Ğ¼Ğ¾ÑÑ‚Ğ¸ Ğ¾Ñ‚ Ñ€Ğ°Ğ·Ğ¼ĞµÑ€Ğ° Ğ¿Ğ¾Ğ¿ÑƒĞ»ÑÑ†Ğ¸Ğ¸)

ĞĞ¿Ñ‚Ğ¸Ğ¼Ğ¸Ğ·Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ğ°Ñ (13 ÑĞ»Ğ¾Ñ‘Ğ²):
  3650 Ğ´Ğ½ĞµĞ¹ Ã— 13 ÑĞ»Ğ¾Ñ‘Ğ² = 47,450 Ğ±Ğ°Ñ€ÑŒĞµÑ€Ğ¾Ğ²
  Overhead: ~5-47Ñ
  
Ğ­ĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸Ñ: ~62,050 Ğ±Ğ°Ñ€ÑŒĞµÑ€Ğ¾Ğ² = -57% overhead
```

### ĞšĞ¾Ğ´:
```
Quota ĞºĞ¾Ğ´ (Ğ´Ğ¾):
  - 4 Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ Ã— 4 Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ = 16 Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²
  - ~400 ÑÑ‚Ñ€Ğ¾Ğº Ã— 16 = ~6400 ÑÑ‚Ñ€Ğ¾Ğº (Ñ ÑƒÑ‡Ñ‘Ñ‚Ğ¾Ğ¼ Ğ´ÑƒĞ±Ğ»Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ)

Quota ĞºĞ¾Ğ´ (Ğ¿Ğ¾ÑĞ»Ğµ):
  - 2 Ğ¼Ğ¾Ğ´ÑƒĞ»Ñ: demount (3 Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸) + promote (3 Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸)
  - ~400 ÑÑ‚Ñ€Ğ¾Ğº Ã— 6 = ~2400 ÑÑ‚Ñ€Ğ¾Ğº
  
Ğ­ĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸Ñ: -4000 ÑÑ‚Ñ€Ğ¾Ğº (-63%)
```

### ĞÑ‚Ğ»Ğ°Ğ´ĞºĞ°:
```
ĞÑˆĞ¸Ğ±ĞºĞ° Ğ² quota Ğ»Ğ¾Ğ³Ğ¸ĞºĞµ (Ğ´Ğ¾):
  ĞÑƒĞ¶Ğ½Ğ¾ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ 16 Ğ¼ĞµÑÑ‚ (4 ÑÑ‚Ğ°Ñ‚ÑƒÑĞ° Ã— 4 Ñ„Ğ°Ğ·Ñ‹)

ĞÑˆĞ¸Ğ±ĞºĞ° Ğ² quota Ğ»Ğ¾Ğ³Ğ¸ĞºĞµ (Ğ¿Ğ¾ÑĞ»Ğµ):
  ĞÑƒĞ¶Ğ½Ğ¾ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ 6 Ğ¼ĞµÑÑ‚ (demount: 3 Ñ„Ğ°Ğ·Ñ‹, promote: 3 Ğ¿Ñ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚Ğ°)
  
Ğ­ĞºĞ¾Ğ½Ğ¾Ğ¼Ğ¸Ñ: -63% Ğ¼ĞµÑÑ‚ Ğ´Ğ»Ñ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ¸
```

---

## âœ… ĞšÑ€Ğ¸Ñ‚ĞµÑ€Ğ¸Ğ¸ Ğ¿Ñ€Ğ¸Ñ‘Ğ¼ĞºĞ¸

### 1. Ğ¤ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ:
- [ ] Ğ’ÑĞµ Ñ‚ĞµÑÑ‚Ñ‹ Ğ¿Ñ€Ğ¾Ñ…Ğ¾Ğ´ÑÑ‚ (DAYS={5,90,365,3650})
- [ ] Ğ”ĞµÑ‚ĞµÑ€Ğ¼Ğ¸Ğ½Ğ¸Ğ·Ğ¼: Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€Ğ½Ñ‹Ğµ Ğ¿Ñ€Ğ¾Ğ³Ğ¾Ğ½Ñ‹ Ğ´Ğ°ÑÑ‚ Ğ¸Ğ´ĞµĞ½Ñ‚Ğ¸Ñ‡Ğ½Ñ‹Ğµ Ñ€ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ‹
- [ ] Ğ˜Ğ½Ğ²Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚Ñ‹ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ñ‹:
  - S6 immutable
  - Î”sne = Î£dt
  - ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»ÑŒĞ½Ñ‹Ğµ Ğ¿ĞµÑ€ĞµÑ…Ğ¾Ğ´Ñ‹ 2â†’3, 3/5/1â†’2

### 2. ĞŸÑ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ:
- [ ] Overhead Ğ±Ğ°Ñ€ÑŒĞµÑ€Ğ¾Ğ² ÑĞ½Ğ¸Ğ¶ĞµĞ½ Ğ¼Ğ¸Ğ½Ğ¸Ğ¼ÑƒĞ¼ Ğ½Ğ° 50%
- [ ] Ğ¡Ñ€ĞµĞ´Ğ½ĞµĞµ Ğ²Ñ€ĞµĞ¼Ñ ÑˆĞ°Ğ³Ğ° Ğ½Ğµ ÑƒĞ²ĞµĞ»Ğ¸Ñ‡Ğ¸Ğ»Ğ¾ÑÑŒ (Â±10%)
- [ ] ĞĞ±Ñ‰ĞµĞµ Ğ²Ñ€ĞµĞ¼Ñ Ğ¿Ñ€Ğ¾Ğ³Ğ¾Ğ½Ğ° 3650 Ğ´Ğ½ĞµĞ¹ Ğ½Ğµ ÑƒĞ²ĞµĞ»Ğ¸Ñ‡Ğ¸Ğ»Ğ¾ÑÑŒ

### 3. ĞšĞ°Ñ‡ĞµÑÑ‚Ğ²Ğ¾ ĞºĞ¾Ğ´Ğ°:
- [ ] ĞĞµÑ‚ Ğ´ÑƒĞ±Ğ»Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ quota Ğ»Ğ¾Ğ³Ğ¸ĞºĞ¸
- [ ] ĞœĞ¾Ğ´ÑƒĞ»Ğ¸ Ğ¸Ğ·Ğ¾Ğ»Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ñ‹ Ğ¸ Ñ‚ĞµÑÑ‚Ğ¸Ñ€ÑƒĞµĞ¼Ñ‹
- [ ] Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ°
- [ ] Code review passed

### 4. ĞĞ±Ñ€Ğ°Ñ‚Ğ½Ğ°Ñ ÑĞ¾Ğ²Ğ¼ĞµÑÑ‚Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ:
- [ ] Ğ ĞµĞ·ÑƒĞ»ÑŒÑ‚Ğ°Ñ‚Ñ‹ ÑĞ¸Ğ¼ÑƒĞ»ÑÑ†Ğ¸Ğ¸ Ğ¸Ğ´ĞµĞ½Ñ‚Ğ¸Ñ‡Ğ½Ñ‹ baseline
- [ ] MP2 ÑĞºÑĞ¿Ğ¾Ñ€Ñ‚ ĞºĞ¾Ñ€Ñ€ĞµĞºÑ‚ĞµĞ½
- [ ] Spawn Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ ĞºĞ°Ğº Ğ¿Ñ€ĞµĞ¶Ğ´Ğµ

---

## ğŸ“ Ğ—Ğ°Ğ¼ĞµÑ‚ĞºĞ¸ Ğ¿Ğ¾ Ñ€ĞµĞ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸

### MacroProperty Ğ´Ğ»Ñ quota Ğ¼Ğ°ÑĞ¾Ğº:
```python
# Ğ’ base_model.py Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ¸Ñ‚ÑŒ:
self.env.newMacroPropertyUInt32("demount_mask_mi8", MAX_FRAMES)
self.env.newMacroPropertyUInt32("demount_mask_mi17", MAX_FRAMES)
self.env.newMacroPropertyUInt32("promote_approve_mi8", MAX_FRAMES)
self.env.newMacroPropertyUInt32("promote_approve_mi17", MAX_FRAMES)

# ĞœĞ¾Ğ¶Ğ½Ğ¾ Ğ¿ĞµÑ€ĞµĞ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ÑŒ ÑÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒÑÑ‰Ğ¸Ğµ mi8/mi17_approve,
# Ğ½Ğ¾ Ğ»ÑƒÑ‡ÑˆĞµ ÑĞ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ¾Ñ‚Ğ´ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ğ´Ğ»Ñ ÑÑĞ½Ğ¾ÑÑ‚Ğ¸
```

### Ğ“Ğ»Ğ¾Ğ±Ğ°Ğ»ÑŒĞ½Ñ‹Ğµ ÑÑ‡Ñ‘Ñ‚Ñ‡Ğ¸ĞºĞ¸ (deficit/curr):
```cpp
// Ğ’Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚ 1: ĞºĞ°Ğ¶Ğ´Ñ‹Ğ¹ Ğ°Ğ³ĞµĞ½Ñ‚ ÑÑ‡Ğ¸Ñ‚Ğ°ĞµÑ‚ ÑĞ°Ğ¼ (Ğ½ĞµÑÑ„Ñ„ĞµĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾)
for (unsigned int i = 0u; i < MAX_FRAMES; ++i) {
    if (intent[i] == 2u) ++curr;
}

// Ğ’Ğ°Ñ€Ğ¸Ğ°Ğ½Ñ‚ 2: reduction Ñ‡ĞµÑ€ĞµĞ· MacroProperty scalar (ÑÑ„Ñ„ĞµĞºÑ‚Ğ¸Ğ²Ğ½ĞµĞµ)
auto counter = FLAMEGPU->environment.getMacroPropertyUInt32("ops_counter");
counter[0].add(1u);  // ĞÑ‚Ğ¾Ğ¼Ğ°Ñ€Ğ½Ñ‹Ğ¹ Ğ¸Ğ½ĞºÑ€ĞµĞ¼ĞµĞ½Ñ‚
```

### ĞŸÑ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚Ñ‹ promote:
```cpp
// Ğ Ğ°Ğ½Ğ¶Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ Ğ¿Ñ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚Ğ°:
// - serviceable: FCFS (Ğ¿Ğ¾ idx) Ğ¸Ğ»Ğ¸ Ğ¿Ğ¾ Ğ´Ğ°Ñ‚Ğµ Ğ¿ĞµÑ€ĞµÑ…Ğ¾Ğ´Ğ° Ğ² s3
// - reserve: Ğ¿Ğ¾ Ğ´Ğ°Ñ‚Ğµ Ğ·Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ¸Ñ Ñ€ĞµĞ¼Ğ¾Ğ½Ñ‚Ğ° (repair_completed_day)
// - inactive: Ğ¿Ğ¾ ÑƒÑĞ»Ğ¾Ğ²Ğ¸Ñ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸ + FCFS

// ĞŸÑ€Ğ¸Ğ¼ĞµÑ€ Ğ´Ğ»Ñ serviceable:
unsigned int rank = 0u;
for (unsigned int i = 0u; i < MAX_FRAMES; ++i) {
    if (i == idx || intent[i] != 2u || prev_state[i] != 3u) continue;
    if (i < idx) ++rank;  // FCFS: Ğ¼ĞµĞ½ÑŒÑˆĞ¸Ğ¹ idx = Ğ²Ñ‹ÑˆĞµ Ğ¿Ñ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚
}
```

---

**ĞĞ²Ñ‚Ğ¾Ñ€:** AI Agent (Cursor)  
**Ğ”Ğ°Ñ‚Ğ°:** 02-10-2025  
**Ğ’ĞµÑ€ÑĞ¸Ñ:** 1.0  
**Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ:** Ğ“Ğ¾Ñ‚Ğ¾Ğ² Ğº Ğ¾Ğ±ÑÑƒĞ¶Ğ´ĞµĞ½Ğ¸Ñ Ñ ĞºĞ¾Ğ¼Ğ°Ğ½Ğ´Ğ¾Ğ¹




