# –ê—É–¥–∏—Ç —Ö–∞—Ä–¥–∫–æ–¥–∞ –≤ orchestrator_v2 –∏ —Å–º–µ–∂–Ω—ã—Ö —Å–∫—Ä–∏–ø—Ç–∞—Ö (02-10-2025)

## üìã –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ö–∞—Ä–¥–∫–æ–¥–∞

### üü¢ –î–æ–ø—É—Å—Ç–∏–º—ã–π —Ö–∞—Ä–¥–∫–æ–¥ (–ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å fallback)

#### ~~1. –†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç–∏ –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤—Ä–µ–º–µ–Ω–∏~~ ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û (02-10-2025)
~~**–§–∞–π–ª—ã**: `base_model.py`, `agent_population.py`~~
```python
# ‚ùå –ë–´–õ–û: –í—Ä–µ–º–µ–Ω–∞ —Ä–µ–º–æ–Ω—Ç–∞/—Å–±–æ—Ä–∫–∏/—Å–ø–∏—Å–∞–Ω–∏—è (fallback –µ—Å–ª–∏ –Ω–µ—Ç –≤ env_data)
# mi8_repair_time_const = env_data.get('mi8_repair_time_const', 180)
# mi17_repair_time_const = env_data.get('mi17_repair_time_const', 180)

# ‚úÖ –°–¢–ê–õ–û: –°—Ç—Ä–æ–≥–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è, –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–∑ md_components
if 70387 not in mp1_map:
    raise ValueError("‚ùå partseqno=70387 (Mi-8) –ù–ï –Ω–∞–π–¥–µ–Ω –≤ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–µ!")
mi8_tuple = mp1_map[70387]
mi8_repair_time_const = int(mi8_tuple[2])  # –ò–∑ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞, –ë–ï–ó fallback
```
**–°—Ç–∞—Ç—É—Å**: ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û** ‚Äî –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è –∏–∑ `md_components` (partseqno 70386/70387), fallback —É–¥–∞–ª—ë–Ω

#### 2. Spawn –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
**–§–∞–π–ª—ã**: `rtc_spawn_v2.py`, `data_adapters.py`, `rtc_spawn_integration.py`
```python
# ‚úÖ –ò–Ω–¥–µ–∫—Å—ã –∏ —Å—á—ë—Ç—á–∏–∫–∏ –¥–ª—è spawn
first_reserved_idx = env_data.get('first_reserved_idx', 279)  # –ù–∞—á–∞–ª–æ –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏
base_acn_spawn = env_data.get('base_acn_spawn', 100000)      # –ë–∞–∑–æ–≤—ã–π aircraft_number –¥–ª—è –Ω–æ–≤–æ—Ä–æ–∂–¥–µ–Ω–Ω—ã—Ö
future_spawn_total = env_data.get('future_spawn_total', 7)   # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ª–æ—Ç–æ–≤ –¥–ª—è –±—É–¥—É—â–∏—Ö –∞–≥–µ–Ω—Ç–æ–≤
```
**–°—Ç–∞—Ç—É—Å**: ‚úÖ **OK** ‚Äî –∑–Ω–∞—á–µ–Ω–∏—è –±–µ—Ä—É—Ç—Å—è –∏–∑ `env_data`, —Ö–∞—Ä–¥–∫–æ–¥ —Ç–æ–ª—å–∫–æ –∫–∞–∫ fallback

#### 3. –†–∞–∑–º–µ—Ä—ã –±—É—Ñ–µ—Ä–æ–≤ MacroProperty
**–§–∞–π–ª—ã**: `rtc_state_2_operations.py`, `rtc_state_manager_full.py`, `04_status246_orchestrator.py`
```python
# ‚úÖ –†–∞–∑–º–µ—Ä—ã –¥–ª—è MP5 –∏ –¥—Ä—É–≥–∏—Ö –±—É—Ñ–µ—Ä–æ–≤
MAX_FRAMES = 286  # –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∏–∑ env_data
MAX_DAYS = 4000   # –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞ (10+ –ª–µ—Ç)
MAX_SIZE = MAX_FRAMES * (MAX_DAYS + 1)
```
**–°—Ç–∞—Ç—É—Å**: ‚úÖ **OK** ‚Äî `MAX_FRAMES` –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π, `MAX_DAYS=4000` –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –ª—é–±–æ–≥–æ –ø—Ä–æ–≥–Ω–æ–∑–∞

---

### üü° –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ –ø—Ä–æ–±–ª–µ–º–Ω—ã–π —Ö–∞—Ä–¥–∫–æ–¥ (—Ç—Ä–µ–±—É–µ—Ç –≤–Ω–∏–º–∞–Ω–∏—è)

#### ~~4. Partseqno Mi-17 –≤ spawn~~ ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û (02-10-2025)
~~**–§–∞–π–ª—ã**: `rtc_spawn_v2.py`, `rtc_spawn_integration.py`, `rtc_spawn_simple.py`, `rtc_spawn_host.py`, `base_model.py`~~

```python
# ‚ùå –ë–´–õ–û: Partseqno Mi-17 –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω –≤ 7 –º–µ—Å—Ç–∞—Ö
# FLAMEGPU->agent_out.setVariable<unsigned int>("partseqno_i", 70482u);
# pidx_mi17 = mp1_index.get(70482, -1)

# ‚úÖ –°–¢–ê–õ–û: –ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤ sim_env_setup.py
SPAWN_PARTSEQNO_MI17 = 70386  # –ú–ò-8–ê–ú–¢, group_by=2
env_data['spawn_partseqno_mi17'] = SPAWN_PARTSEQNO_MI17

# –í Python –∫–æ–¥–µ:
spawn_partseqno_mi17 = env_data.get('spawn_partseqno_mi17')

# –í RTC –∫–æ–¥–µ:
const unsigned int spawn_psn = FLAMEGPU->environment.getProperty<unsigned int>("spawn_partseqno_mi17");
```

**–°—Ç–∞—Ç—É—Å**: ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û** ‚Äî —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è –≤ `sim_env_setup.py`, —á—Ç–µ–Ω–∏–µ —á–µ—Ä–µ–∑ `env_data` / `Environment`

---

#### 5. –ë–∞–∑–æ–≤—ã–π ACN –¥–ª—è spawn
**–§–∞–π–ª—ã**: `rtc_spawn_v2.py`, `01_setup_env.py`, `data_adapters.py`
```python
# üü° –ë–∞–∑–æ–≤—ã–π –Ω–æ–º–µ—Ä –¥–ª—è –Ω–æ–≤—ã—Ö –±–æ—Ä—Ç–æ–≤
base_acn_spawn = 100000  # –•–ê–†–î–ö–û–î - –Ω–∞—á–∏–Ω–∞–µ–º —Å 100000 –í–°–ï–ì–î–ê

# –í 01_setup_env.py –µ—Å—Ç—å –ª–æ–≥–∏–∫–∞:
max_existing_acn = max(ac_union) if ac_union else 0
base_acn_spawn = max(100000, max_existing_acn + 1)
```

**–ü—Ä–æ–±–ª–µ–º–∞**:
- –ï—Å–ª–∏ –≤ –±–∞–∑–µ –µ—Å—Ç—å –±–æ—Ä—Ç–∞ —Å acn >= 100000, –º–æ–≥—É—Ç –±—ã—Ç—å –∫–æ–ª–ª–∏–∑–∏–∏
- –ú–∞–≥–∏—á–µ—Å–∫–æ–µ —á–∏—Å–ª–æ 100000 –Ω–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**:
```python
# –î–æ–±–∞–≤–∏—Ç—å –≤ –ø—Ä–∞–≤–∏–ª–∞ –ø—Ä–æ–µ–∫—Ç–∞:
# - –ù–æ–≤–æ—Ä–æ–∂–¥–µ–Ω–Ω—ã–µ –±–æ—Ä—Ç–∞ –ø–æ–ª—É—á–∞—é—Ç ACN –Ω–∞—á–∏–Ω–∞—è —Å max(existing_acn)+1, –Ω–æ –Ω–µ –Ω–∏–∂–µ 100000
# - –î–∏–∞–ø–∞–∑–æ–Ω 100000-999999 –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω –¥–ª—è spawn

# –í Extract –ª–æ–≥–∏–∫–µ –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É:
if any(acn >= 100000 for acn in ac_union):
    logging.warning(f"‚ö†Ô∏è  –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –±–æ—Ä—Ç–∞ —Å ACN >= 100000: –∫–æ–Ω—Ñ–ª–∏–∫—Ç —Å spawn –¥–∏–∞–ø–∞–∑–æ–Ω–æ–º!")
```

**–°—Ç–∞—Ç—É—Å**: üü° **–¢–†–ï–ë–£–ï–¢ –î–û–ö–£–ú–ï–ù–¢–ò–†–û–í–ê–ù–ò–Ø** ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –≤ –ø—Ä–∞–≤–∏–ª–∞ –ø—Ä–æ–µ–∫—Ç–∞

---

#### ~~6. –ù–æ—Ä–º–∞—Ç–∏–≤—ã Mi-17 –≤ HostFunction spawn~~ ‚úÖ –†–ï–®–ï–ù–û (–∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–æ)
~~**–§–∞–π–ª**: `rtc_modules/rtc_spawn_host.py`~~

**–°—Ç–∞—Ç—É—Å**: ‚úÖ **–†–ï–®–ï–ù–û** ‚Äî —Å—Ç–∞—Ä—ã–µ spawn –º–æ–¥—É–ª–∏ (spawn_host, spawn_integration, spawn_simple, rtc_spawn) –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤ `archive_spawn_modules_02-10-2025/`. –†–∞–±–æ—á–∏–π –º–æ–¥—É–ª—å ‚Äî `rtc_spawn_v2.py`, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏–∑ Environment.

---

### üî¥ –ö—Ä–∏—Ç–∏—á–Ω—ã–π —Ö–∞—Ä–¥–∫–æ–¥ (—Ç—Ä–µ–±—É–µ—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è)

**–ù–ï–¢** ‚Äî –≤—Å–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ —Ç–æ—á–∫–∏ –ª–∏–±–æ –∏–º–µ—é—Ç fallback –∏–∑ env_data, –ª–∏–±–æ —è–≤–ª—è—é—Ç—Å—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–º–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º–∏.

---

## üìä –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞

| # | –§–∞–π–ª | –°—Ç—Ä–æ–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ | –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –°—Ç–∞—Ç—É—Å | –î–µ–π—Å—Ç–≤–∏–µ |
|---|------|--------|----------|-----------|--------|----------|
| ~~1~~ | ~~`base_model.py`~~ | ~~65-75~~ | ~~`180` (repair/assembly time)~~ | ~~–î–æ–ø—É—Å—Ç–∏–º—ã–π~~ | ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û** | –ò–∑ `md_components` (70386/70387) |
| ~~2~~ | ~~`base_model.py`~~ | ~~92~~ | ~~`70482` (partseqno Mi-17)~~ | ~~–ü—Ä–æ–±–ª–µ–º–Ω—ã–π~~ | ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û** | –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è –≤ `sim_env_setup.py` |
| ~~3~~ | ~~`agent_population.py`~~ | ~~207-220~~ | ~~`180` (times)~~ | ~~–î–æ–ø—É—Å—Ç–∏–º—ã–π~~ | ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û** | –ò–∑ `env_data` —Å–æ —Å—Ç—Ä–æ–≥–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π |
| 4 | `rtc_spawn_v2.py` | 32 | `279` (first_reserved_idx) | –î–æ–ø—É—Å—Ç–∏–º—ã–π | ‚úÖ OK | –ù–µ—Ç |
| ~~5~~ | ~~`rtc_spawn_v2.py`~~ | ~~72, 135, 228~~ | ~~`70482` (partseqno)~~ | ~~–ü—Ä–æ–±–ª–µ–º–Ω—ã–π~~ | ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û** | –ß–∏—Ç–∞–µ—Ç—Å—è –∏–∑ Environment property |
| 6 | `rtc_spawn_v2.py` | 227 | `100000` (base_acn) | –ü—Ä–æ–±–ª–µ–º–Ω—ã–π | üü° | –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å |
| ~~7~~ | ~~`rtc_spawn_host.py`~~ | ~~58-60~~ | ~~`1800000, 270000, 1551121`~~ | ~~–ü—Ä–æ–±–ª–µ–º–Ω—ã–π~~ | ‚úÖ **–ê–†–•–ò–í–ò–†–û–í–ê–ù** | –ú–æ–¥—É–ª—å –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è |
| ~~8~~ | ~~`rtc_spawn_host.py`~~ | ~~79-81~~ | ~~`180` (times)~~ | ~~–ü—Ä–æ–±–ª–µ–º–Ω—ã–π~~ | ‚úÖ **–ê–†–•–ò–í–ò–†–û–í–ê–ù** | –ú–æ–¥—É–ª—å –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è |
| 9 | `data_adapters.py` | 195 | `100000` (base_acn_spawn) | –î–æ–ø—É—Å—Ç–∏–º—ã–π | ‚úÖ OK | –ù–µ—Ç |
| 10 | `mp2_drain_host.py` | 29 | `100000` (drain_rows_per_step) | –î–æ–ø—É—Å—Ç–∏–º—ã–π | ‚úÖ OK | –ù–µ—Ç |
| 11 | `rtc_state_2_operations.py` | 6-7 | `4000, 286` (MAX_DAYS/FRAMES) | –î–æ–ø—É—Å—Ç–∏–º—ã–π | ‚úÖ OK | –ù–µ—Ç |

---

## üéØ –ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π (–ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–æ)

### P1 ‚Äî –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–∏—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏)

#### 1.1 –í—ã–Ω–µ—Å—Ç–∏ partseqno_mi17 –≤ Environment
**–ó–∞—á–µ–º**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ spawn –¥–ª—è –¥—Ä—É–≥–∏—Ö —Ç–∏–ø–æ–≤ –í–°, —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
**–ì–¥–µ**: `rtc_spawn_v2.py`, `rtc_spawn_integration.py`, `rtc_spawn_simple.py`
**–ö–∞–∫**:
```python
# –í base_model.py –¥–æ–±–∞–≤–∏—Ç—å:
self.env.newPropertyUInt("spawn_partseqno_mi17", 70482)
self.env.newPropertyUInt("spawn_group_by_mi17", 2)

# –í RTC –∫–æ–¥–µ –∑–∞–º–µ–Ω–∏—Ç—å:
const unsigned int spawn_psn = FLAMEGPU->environment.getProperty<unsigned int>("spawn_partseqno_mi17");
FLAMEGPU->agent_out.setVariable<unsigned int>("partseqno_i", spawn_psn);
```

#### 1.2 –ò—Å–ø—Ä–∞–≤–∏—Ç—å rtc_spawn_host.py
**–ó–∞—á–µ–º**: –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å rtc_spawn_v2, —á—Ç–µ–Ω–∏–µ –∏–∑ env_data
**–ì–¥–µ**: `rtc_spawn_host.py` —Å—Ç—Ä–æ–∫–∏ 58-81
**–ö–∞–∫**:
```python
# –ó–∞–º–µ–Ω–∏—Ç—å —Ö–∞—Ä–¥–∫–æ–¥ –Ω–∞ —á—Ç–µ–Ω–∏–µ –∏–∑ env_data:
agent.setVariableUInt("ll", int(self.env_data.get('mi17_ll_const', 1800000)))
agent.setVariableUInt("oh", int(self.env_data.get('mi17_oh_const', 270000)))
agent.setVariableUInt("br", int(self.env_data.get('mi17_br_const', 1551121)))
agent.setVariableUInt("repair_time", int(self.env_data.get('mi17_repair_time_const', 180)))
# –∏ —Ç.–¥.
```

---

### P2 ‚Äî –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (—É–ª—É—á—à–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏)

#### 2.1 –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∏–∞–ø–∞–∑–æ–Ω ACN –¥–ª—è spawn
**–ó–∞—á–µ–º**: –ò–∑–±–µ–∂–∞—Ç—å –∫–æ–ª–ª–∏–∑–∏–π, –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
**–ì–¥–µ**: `.cursor/rules/project.mdc`, `docs/spawn_architecture.md`
**–ö–∞–∫**:
```markdown
## –ü—Ä–∞–≤–∏–ª–∞ –Ω—É–º–µ—Ä–∞—Ü–∏–∏ Aircraft Number (ACN)

### –î–∏–∞–ø–∞–∑–æ–Ω—ã:
- **1-99999**: –†–µ–∞–ª—å–Ω—ã–µ –±–æ—Ä—Ç–∞ –∏–∑ MP3
- **100000-999999**: –ó–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è spawn (–Ω–æ–≤–æ—Ä–æ–∂–¥–µ–Ω–Ω—ã–µ)
- **1000000+**: –ó–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–æ (–±—É–¥—É—â–µ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ)

### –õ–æ–≥–∏–∫–∞ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è ACN –ø—Ä–∏ spawn:
1. `base_acn_spawn = max(100000, max(existing_acn) + 1)`
2. –ù–æ–≤–æ—Ä–æ–∂–¥–µ–Ω–Ω—ã–µ –ø–æ–ª—É—á–∞—é—Ç ACN –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ: base_acn, base_acn+1, ...
3. –ü—Ä–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–µ (existing_acn >= 100000) ‚Äî WARNING –≤ –ª–æ–≥
```

#### 2.2 –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤ –≤ Extract
**–ó–∞—á–µ–º**: –†–∞–Ω–Ω–µ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
**–ì–¥–µ**: `code/sim_env_setup.py` –∏–ª–∏ `code/extract_master.py`
**–ö–∞–∫**:
```python
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–µ env_data:
conflicting_acn = [acn for acn in ac_union if acn >= 100000]
if conflicting_acn:
    logging.warning(f"‚ö†Ô∏è  –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –±–æ—Ä—Ç–∞ –≤ spawn –¥–∏–∞–ø–∞–∑–æ–Ω–µ (>=100000): {conflicting_acn}")
    logging.warning(f"   –í–æ–∑–º–æ–∂–Ω—ã –∫–æ–ª–ª–∏–∑–∏–∏ –ø—Ä–∏ spawn. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–µ—Ä–µ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω—É–º–µ—Ä–∞—Ü–∏—é.")
```

---

### P3 ‚Äî –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

#### 3.1 –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏—è MAX_DAYS
**–ó–∞—á–µ–º**: –ì–∏–±–∫–æ—Å—Ç—å –¥–ª—è –æ—á–µ–Ω—å –¥–ª–∏–Ω–Ω—ã—Ö –ø—Ä–æ–≥–Ω–æ–∑–æ–≤ (>10 –ª–µ—Ç)
**–ì–¥–µ**: –í—Å–µ RTC –º–æ–¥—É–ª–∏
**–°—Ç–∞—Ç—É—Å**: –ù–µ –∫—Ä–∏—Ç–∏—á–Ω–æ, `4000` –¥–Ω–µ–π = 10.9 –ª–µ—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –∑–∞–¥–∞—á

#### 3.2 –ü–æ–¥–¥–µ—Ä–∂–∫–∞ spawn –¥–ª—è Mi-8
**–ó–∞—á–µ–º**: –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å
**–ì–¥–µ**: –í—Å–µ spawn –º–æ–¥—É–ª–∏
**–°—Ç–∞—Ç—É—Å**: –¢—Ä–µ–±—É–µ—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–π –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∏, –ø–æ–∫–∞ –Ω–µ –Ω—É–∂–Ω–æ

---

## ‚úÖ –í—ã–≤–æ–¥—ã

### –•–æ—Ä–æ—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ (—É–∂–µ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã):
1. ‚úÖ –í—Å–µ —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç–∏ –±–µ—Ä—É—Ç—Å—è –∏–∑ `env_data` —Å fallback
2. ‚úÖ –ù–æ—Ä–º–∞—Ç–∏–≤—ã LL/OH/BR –±–µ—Ä—É—Ç—Å—è –∏–∑ MP1 —á–µ—Ä–µ–∑ `env_data`
3. ‚úÖ Spawn –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Environment properties –¥–ª—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç Mi-17
4. ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è spawn –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —Å–æ–∑–¥–∞–Ω–∞

### –¢—Ä–µ–±—É–µ—Ç —É–ª—É—á—à–µ–Ω–∏—è:
1. üü° Partseqno Mi-17 –∑–∞—Ö–∞—Ä–¥–∫–æ–∂–µ–Ω –≤ RTC –∫–æ–¥–µ ‚Üí –≤—ã–Ω–µ—Å—Ç–∏ –≤ Environment
2. üü° `rtc_spawn_host.py` —á–∏—Ç–∞–µ—Ç —Ö–∞—Ä–¥–∫–æ–¥ ‚Üí —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å rtc_spawn_v2
3. üü° –î–∏–∞–ø–∞–∑–æ–Ω ACN 100000+ –Ω–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω ‚Üí –¥–æ–±–∞–≤–∏—Ç—å –≤ –ø—Ä–∞–≤–∏–ª–∞

### –ù–µ —Ç—Ä–µ–±—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π:
1. ‚úÖ MAX_DAYS=4000 ‚Äî –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞
2. ‚úÖ Fallback –∑–Ω–∞—á–µ–Ω–∏—è (180 –¥–Ω–µ–π –∏ —Ç.–ø.) ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞
3. ‚úÖ drain_rows_per_step=100000 ‚Äî –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä

---

## üìù –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π —á–µ–∫-–ª–∏—Å—Ç

- [x] ~~P0: –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤—Ä–µ–º–µ–Ω–∏ (repair/assembly/partout)~~ ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û 02-10-2025**
- [x] ~~P1.1: –í—ã–Ω–µ—Å—Ç–∏ partseqno_mi17 –≤ Environment properties~~ ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û 02-10-2025**
- [x] ~~P1.2: –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Ö–∞—Ä–¥–∫–æ–¥ –≤ rtc_spawn_host.py~~ ‚úÖ **–†–ï–®–ï–ù–û** (–º–æ–¥—É–ª—å –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω)
- [ ] P2.1: –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∏–∞–ø–∞–∑–æ–Ω—ã ACN
- [ ] P2.2: –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ ACN –≤ Extract
- [ ] P3.1: (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–∞—Ü–∏—è MAX_DAYS
- [ ] P3.2: (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ü–æ–¥–¥–µ—Ä–∂–∫–∞ spawn –¥–ª—è Mi-8

**–°—Ç–∞—Ç—É—Å –∞—É–¥–∏—Ç–∞**: üü¢ **–û–¢–õ–ò–ß–ù–û**
- ‚ùå –ö—Ä–∏—Ç–∏—á–Ω–æ–≥–æ —Ö–∞—Ä–¥–∫–æ–¥–∞ –Ω–µ—Ç
- ‚úÖ **–ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤—Ä–µ–º–µ–Ω–∏ –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è –∏–∑ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞** (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ 02-10-2025)
- ‚úÖ **Partseqno —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω** (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ 02-10-2025)
- ‚úÖ **–°—Ç–∞—Ä—ã–µ spawn –º–æ–¥—É–ª–∏ –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω—ã** (02-10-2025)
- –í—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —á–∏—Ç–∞—é—Ç—Å—è –∏–∑ `env_data` –∏–ª–∏ —è–≤–ª—è—é—Ç—Å—è –¥–æ–ø—É—Å—Ç–∏–º—ã–º–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º–∏
- –û—Å—Ç–∞–ª–∏—Å—å —Ç–æ–ª—å–∫–æ –∑–∞–¥–∞—á–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ (P2)

