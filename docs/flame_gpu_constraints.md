# FLAME GPU: –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

**–î–∞—Ç–∞:** 02-10-2025  
**–°—Ç–∞—Ç—É—Å:** –ë–∞–∑–æ–≤–∞—è –≤–µ—Ä—Å–∏—è ‚Äî —Ç–æ–ª—å–∫–æ –ø—Ä–∞–≤–∏–ª–∞  

---

## üö® 1. –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã —Å–æ—Å—Ç–æ—è–Ω–∏–π –≤ Layer

### –ü—Ä–∞–≤–∏–ª–æ –ø—Ä–æ–≤–µ—Ä–∫–∏ (–∏–∑ –∏—Å—Ö–æ–¥–Ω–æ–≥–æ –∫–æ–¥–∞ FLAME GPU)

–î–≤–µ —Ñ—É–Ω–∫—Ü–∏–∏ **–ù–ï –ú–û–ì–£–¢** –±—ã—Ç—å –≤ –æ–¥–Ω–æ–º —Å–ª–æ–µ, –µ—Å–ª–∏:

```cpp
// –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ —Å–ª–æ–π:
if (func_A.initial_state == func_B.initial_state ||  // ‚ùå –û–±—â–∏–π –í–•–û–î
    func_A.initial_state == func_B.end_state ||      // ‚ùå –ü–µ—Ä–µ–∫—Ä—ë—Å—Ç–Ω–æ–µ A‚ÜíB
    func_A.end_state == func_B.initial_state ||      // ‚ùå –ü–µ—Ä–µ–∫—Ä—ë—Å—Ç–Ω–æ–µ B‚ÜíA
    func_A.end_state == func_B.end_state) {          // ‚ùå –û–±—â–∏–π –í–´–•–û–î
    
    THROW exception::InvalidAgentFunc();
}
```

### –î–æ–ø—É—Å—Ç–∏–º–∞—è –∫–æ–º–±–∏–Ω–∞—Ü–∏—è

```cpp
// ‚úÖ –ú–û–ì–£–¢ –±—ã—Ç—å –≤ –æ–¥–Ω–æ–º —Å–ª–æ–µ:
if (–Ω–µ—Ç –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π –ø–æ initial_state –∏ end_state) {
    // –§—É–Ω–∫—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –Ω–∞ GPU
}
```

---

## ‚öôÔ∏è 2. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –º–µ–∂–¥—É —Å–ª–æ—è–º–∏

```
–°–ª–æ–π N:   [–§—É–Ω–∫—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ]
          ‚Üì
    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê GPU BARRIER ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
          ‚Üì –í—Å–µ –ø–æ—Ç–æ–∫–∏ –∂–¥—É—Ç
–°–ª–æ–π N+1: [–í–∏–¥—è—Ç –í–°–ï –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏–∑ —Å–ª–æ—è N]
```

**–ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã:**
- –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Å–ª–æ—è ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è GPU
- Overhead: ~0.1-1–º—Å –Ω–∞ –±–∞—Ä—å–µ—Ä

---

## üì¶ 3. MacroProperty

### Read/Write –≤ –æ–¥–Ω–æ–º —Å–ª–æ–µ

```cpp
‚úÖ –ß–∏—Ç–∞—Ç—å –∏–∑ MacroProperty (–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ, –±–µ–∑–æ–ø–∞—Å–Ω–æ)
‚úÖ –ü–∏—Å–∞—Ç—å –≤ MacroProperty (—Å –∞—Ç–æ–º–∞—Ä–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏)
‚ö†Ô∏è  –ß—Ç–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å –≤ –æ–¥–Ω—É —è—á–µ–π–∫—É ‚Üí race condition
‚ö†Ô∏è  –ù–µ—Å–∫–æ–ª—å–∫–æ –∞–≥–µ–Ω—Ç–æ–≤ –ø–∏—à—É—Ç –≤ –æ–¥–Ω—É —è—á–µ–π–∫—É ‚Üí –Ω—É–∂–Ω—ã –∞—Ç–æ–º–∏–∫–∏
```

### –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω

```python
–°–ª–æ–π 1: –û—á–∏—Å—Ç–∫–∞    ‚Üí mask[idx].exchange(0u)  (–∑–∞–ø–∏—Å—å)
–°–ª–æ–π 2: –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ ‚Üí mask[idx].exchange(1u)  (–∑–∞–ø–∏—Å—å)
–°–ª–æ–π 3: –ß—Ç–µ–Ω–∏–µ     ‚Üí value = mask[idx]       (—á—Ç–µ–Ω–∏–µ)
```

---

## üí¨ 4. Messages (–æ–±–º–µ–Ω —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏)

### –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±–º–µ–Ω–∞

```
–°–ª–æ–π N:   –û–¢–ü–†–ê–í–ö–ê —Å–æ–æ–±—â–µ–Ω–∏–π
          ‚Üì
    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê –ë–ê–†–¨–ï–† ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
          ‚Üì
–°–ª–æ–π N+1: –ß–¢–ï–ù–ò–ï —Å–æ–æ–±—â–µ–Ω–∏–π
```

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- ‚ùå –ß–∏—Ç–∞—Ç—å –∏ –ø–∏—Å–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –û–î–ù–û–ú —Å–ª–æ–µ
- ‚ùå –î–≤–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–∏—à—É—Ç –≤ –æ–¥–∏–Ω message list –≤ –æ–¥–Ω–æ–º —Å–ª–æ–µ

---

## üë∂ 5. Agent Birth/Death

### Agent Birth (—Å–æ–∑–¥–∞–Ω–∏–µ)

```cpp
‚ùå –ù–ï–õ–¨–ó–Ø –≤ –æ–¥–Ω–æ–º —Å–ª–æ–µ:
–§—É–Ω–∫—Ü–∏—è A: –°–æ–∑–¥–∞—ë—Ç –∞–≥–µ–Ω—Ç–æ–≤ –≤ state X
–§—É–Ω–∫—Ü–∏—è B: –ß–∏—Ç–∞–µ—Ç –∞–≥–µ–Ω—Ç–æ–≤ –∏–∑ state X
```

### Agent Death (—É–¥–∞–ª–µ–Ω–∏–µ)

```cpp
‚ùå –ù–ï–õ–¨–ó–Ø –≤ –æ–¥–Ω–æ–º —Å–ª–æ–µ:
–§—É–Ω–∫—Ü–∏—è A: –£–¥–∞–ª—è–µ—Ç –∞–≥–µ–Ω—Ç–æ–≤ (return DEAD)
–§—É–Ω–∫—Ü–∏—è B: –ß–∏—Ç–∞–µ—Ç —Ç–µ—Ö –∂–µ –∞–≥–µ–Ω—Ç–æ–≤
```

---

## üñ•Ô∏è 6. HostFunction

```python
‚ùå –ù–ï–õ–¨–ó–Ø: –ù–µ—Å–∫–æ–ª—å–∫–æ HostFunction –≤ –æ–¥–Ω–æ–º —Å–ª–æ–µ
‚ùå –ù–ï–õ–¨–ó–Ø: HostFunction + AgentFunction –≤ –æ–¥–Ω–æ–º —Å–ª–æ–µ

‚úÖ –ú–û–ñ–ù–û: HostFunction –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Å–ª–æ–µ
```

**–ü—Ä–∏—á–∏–Ω–∞:** HostFunction –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–∞ CPU, AgentFunction –Ω–∞ GPU

---

## üîß 7. RTC Function Conditions

```python
# Condition ‚Äî —ç—Ç–æ —Ñ–∏–ª—å—Ç—Ä, –∫–æ—Ç–æ—Ä—ã–π –ù–ï —Å–Ω–∏–º–∞–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ states!

func_A.setInitialState("operations")
func_A.setRTCFunctionCondition("intent == 4")

func_B.setInitialState("operations")  # ‚ùå –í—Å—ë —Ä–∞–≤–Ω–æ –∫–æ–Ω—Ñ–ª–∏–∫—Ç!
func_B.setRTCFunctionCondition("intent == 6")
```

**–í–∞–∂–Ω–æ:** FLAME GPU –ø—Ä–æ–≤–µ—Ä—è–µ—Ç initial/end state –î–û –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è condition

---

## üåç 8. Environment Properties

### PropertyArray vs MacroProperty

| –¢–∏–ø | –†–∞–∑–º–µ—Ä | –î–æ—Å—Ç—É–ø | –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è |
|-----|--------|--------|---------------|
| **PropertyArray** | <10K —ç–ª–µ–º–µ–Ω—Ç–æ–≤ | –ë—ã—Å—Ç—Ä—ã–π | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è CPU‚ÜîGPU |
| **MacroProperty** | >100K —ç–ª–µ–º–µ–Ω—Ç–æ–≤ | –ß–µ—Ä–µ–∑ getMacroProperty() | –¢–æ–ª—å–∫–æ GPU, –Ω—É–∂–µ–Ω —è–≤–Ω—ã–π copyout |

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è MacroProperty

```python
‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: –ß–µ—Ä–µ–∑ HostFunction (–Ω–∞ CPU)
‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û: –ß–µ—Ä–µ–∑ RTC (–Ω–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –¥–ª—è –±–æ–ª—å—à–∏—Ö –º–∞—Å—Å–∏–≤–æ–≤)
```

---

## üìã 9. –ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–ª–æ—ë–≤

```python
layer1 = model.newLayer("first")   # –í—ã–ø–æ–ª–Ω–∏—Ç—Å—è –ü–ï–†–í–´–ú
layer2 = model.newLayer("second")  # –í—ã–ø–æ–ª–Ω–∏—Ç—Å—è –í–¢–û–†–´–ú
layer3 = model.newLayer("third")   # –í—ã–ø–æ–ª–Ω–∏—Ç—Å—è –¢–†–ï–¢–¨–ò–ú
```

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- ‚ùå –ù–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä—è–¥–æ–∫ —Å–ª–æ—ë–≤ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è
- ‚ùå –ù–µ–ª—å–∑—è –≤—Å—Ç–∞–≤–∏—Ç—å —Å–ª–æ–π –º–µ–∂–¥—É —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏
- ‚úÖ –ü–æ—Ä—è–¥–æ–∫ = –ø–æ—Ä—è–¥–æ–∫ –≤—ã–∑–æ–≤–∞ `model.newLayer()`

---

## üîê 10. –û–±—ä—è–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ Environment

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –≤ –º–æ–¥–µ–ª–∏

```python
# ‚ùå –û–®–ò–ë–ö–ê: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–µ–æ–±—ä—è–≤–ª–µ–Ω–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
FLAMEGPU->getVariable<unsigned int>("new_var");  # Runtime error!

# ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: –°–Ω–∞—á–∞–ª–∞ –æ–±—ä—è–≤–∏—Ç—å –≤ –º–æ–¥–µ–ª–∏
agent.newVariableUInt("new_var", 0)  # –í Python –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –º–æ–¥–µ–ª–∏
# –ü–æ—Ç–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ RTC
FLAMEGPU->getVariable<unsigned int>("new_var");  # OK
```

### Environment Properties

```python
# ‚ùå –û–®–ò–ë–ö–ê: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–µ–æ–±—ä—è–≤–ª–µ–Ω–Ω–æ–≥–æ —Å–≤–æ–π—Å—Ç–≤–∞
FLAMEGPU->environment.getProperty<unsigned int>("some_prop");  # Runtime error!

# ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: –°–Ω–∞—á–∞–ª–∞ –æ–±—ä—è–≤–∏—Ç—å
env.newPropertyUInt("some_prop", 100)  # –í Python
# –ü–æ—Ç–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ RTC
FLAMEGPU->environment.getProperty<unsigned int>("some_prop");  # OK
```

**–ü—Ä–∞–≤–∏–ª–æ:** –í–°–ï –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∞–≥–µ–Ω—Ç–æ–≤ –∏ Environment properties –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–±—ä—è–≤–ª–µ–Ω—ã –≤ ModelDescription –¥–æ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ RTC

---

## üîí 11. –ó–∞–ø–∏—Å—å –≤ MacroProperty (—Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –∞—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏)

### –ü—Ä–∞–≤–∏–ª–æ –∑–∞–ø–∏—Å–∏

```cpp
// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û: –ü—Ä—è–º–∞—è –∑–∞–ø–∏—Å—å
auto mask = FLAMEGPU->environment.getMacroProperty<unsigned int, MAX_SIZE>("mask");
mask[idx] = 1u;  // Race condition –ø—Ä–∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –∑–∞–ø–∏—Å–∏!

// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: –ê—Ç–æ–º–∞—Ä–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è
auto mask = FLAMEGPU->environment.getMacroProperty<unsigned int, MAX_SIZE>("mask");
mask[idx].exchange(1u);  // –ê—Ç–æ–º–∞—Ä–Ω–∞—è –∑–∞–ø–∏—Å—å, –±–µ–∑–æ–ø–∞—Å–Ω–æ
```

### –ê—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

**–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π:**
```cpp
mask[idx].add(value);   // –ê—Ç–æ–º–∞—Ä–Ω–æ–µ —Å–ª–æ–∂–µ–Ω–∏–µ
mask[idx].sub(value);   // –ê—Ç–æ–º–∞—Ä–Ω–æ–µ –≤—ã—á–∏—Ç–∞–Ω–∏–µ
mask[idx].min(value);   // –ê—Ç–æ–º–∞—Ä–Ω—ã–π –º–∏–Ω–∏–º—É–º
mask[idx].max(value);   // –ê—Ç–æ–º–∞—Ä–Ω—ã–π –º–∞–∫—Å–∏–º—É–º
```

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –ø—Ä–æ–µ–∫—Ç–µ (—Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ FLAMEGPU2 source):**
```cpp
mask[idx].exchange(value);     // –ê—Ç–æ–º–∞—Ä–Ω–∞—è –∑–∞–º–µ–Ω–∞
mask[idx].inc();               // –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç –Ω–∞ 1
mask[idx].dec();               // –î–µ–∫—Ä–µ–º–µ–Ω—Ç –Ω–∞ 1
mask[idx].cas(compare, value); // Compare-and-swap
```

**–ü—Ä–∞–≤–∏–ª–æ:** –ê–≥–µ–Ω—Ç—ã –º–æ–≥—É—Ç –ø–∏—Å–∞—Ç—å –≤ MacroProperty –¢–û–õ–¨–ö–û —á–µ—Ä–µ–∑ –∞—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

**–ò—Å—Ç–æ—á–Ω–∏–∫:** –û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è ‚Äî "Agents can update macro properties of the environment with a limited set of atomic methods"

---

## ‚ö†Ô∏è 12. –ß—Ç–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å –≤ MacroProperty (—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è)

### Best Practice: –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Å–ª–æ—è–º

```cpp
// ‚ö†Ô∏è –ü–û–¢–ï–ù–¶–ò–ê–õ–¨–ù–ê–Ø –ü–†–û–ë–õ–ï–ú–ê –≤ –æ–¥–Ω–æ–º —Å–ª–æ–µ:
// –ê–≥–µ–Ω—Ç A –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç:
mask[idx].exchange(1u);

// –ê–≥–µ–Ω—Ç B —á–∏—Ç–∞–µ—Ç —Ç—É –∂–µ —è—á–µ–π–∫—É:
unsigned int value = mask[idx];  // –ú–æ–∂–µ—Ç –ø—Ä–æ—á–∏—Ç–∞—Ç—å —Å—Ç–∞—Ä–æ–µ –∏–ª–∏ –Ω–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ!
```

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ

```python
# ‚úÖ –†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø: –†–∞–∑–Ω—ã–µ —Å–ª–æ–∏
–°–ª–æ–π 1: –ó–∞–ø–∏—Å—å
  for agent in agents:
    mask[agent.idx].exchange(1u)

# ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê –ë–ê–†–¨–ï–† ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

–°–ª–æ–π 2: –ß—Ç–µ–Ω–∏–µ
  for agent in agents:
    value = mask[some_idx]  # –ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –≤–∏–¥–∏—Ç –≤—Å–µ –∑–∞–ø–∏—Å–∏ –∏–∑ –°–ª–æ—è 1
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è (Best Practice):** –†–∞–∑–¥–µ–ª—è–π—Ç–µ —á—Ç–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å –≤ MacroProperty –ø–æ —Ä–∞–∑–Ω—ã–º —Å–ª–æ—è–º –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è race conditions –∏ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –¥–µ—Ç–µ—Ä–º–∏–Ω–∏–∑–º–∞

**–ò—Å–∫–ª—é—á–µ–Ω–∏–µ:** –ó–∞–ø–∏—Å—å –≤ —Ä–∞–∑–Ω—ã–µ —è—á–µ–π–∫–∏ –≤ –æ–¥–Ω–æ–º —Å–ª–æ–µ –±–µ–∑–æ–ø–∞—Å–Ω–∞:
```cpp
‚úÖ OK: mask[agent.idx].exchange(1u);  // –ö–∞–∂–¥—ã–π –∞–≥–µ–Ω—Ç –ø–∏—à–µ—Ç –≤ —Å–≤–æ–π idx
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ù–µ –Ω–∞–π–¥–µ–Ω–æ —è–≤–Ω–æ–≥–æ –∑–∞–ø—Ä–µ—Ç–∞ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏, –Ω–æ –ø—Ä–∞–∫—Ç–∏–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —ç—Ç–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞

---

## üìê 13. –†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç–∏ –º–∞—Å—Å–∏–≤–æ–≤

### –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç–µ–π

```python
# ‚ùå –û–®–ò–ë–ö–ê: –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤
env.newMacroPropertyUInt32("mp5_lin", 1000)  # –û–±—ä—è–≤–∏–ª–∏ 1000

# –í RTC:
const unsigned int idx = 1500;  # –í—ã—Ö–æ–¥ –∑–∞ –≥—Ä–∞–Ω–∏—Ü—ã!
auto mp5 = FLAMEGPU->environment.getMacroProperty<unsigned int, 1000>("mp5_lin");
value = mp5[idx];  # SEGFAULT –∏–ª–∏ undefined behavior
```

### –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è

```python
# ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: –†–∞–∑–º–µ—Ä –≤ RTC = —Ä–∞–∑–º–µ—Ä –≤ –º–æ–¥–µ–ª–∏
env.newMacroPropertyUInt32("mp5_lin", MAX_SIZE)  # MAX_SIZE = (DAYS+1)*FRAMES

# –í RTC –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ—Ç –∂–µ MAX_SIZE:
auto mp5 = FLAMEGPU->environment.getMacroProperty<unsigned int, ${MAX_SIZE}u>("mp5_lin");
//                                                            ^^^^^^^^^^^
//                                                   –ü–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –∏–∑ Python
const unsigned int idx = day * ${MAX_FRAMES}u + frame_idx;
if (idx < ${MAX_SIZE}u) {  // –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä–∞–Ω–∏—Ü
    value = mp5[idx];
}
```

### –ö–æ–Ω—Ç—Ä–æ–ª—å –≥—Ä–∞–Ω–∏—Ü

```cpp
// ‚úÖ –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –≥—Ä–∞–Ω–∏—Ü—ã:
const unsigned int safe_idx = (idx < MAX_SIZE) ? idx : 0u;
value = mp5[safe_idx];
```

**–ü—Ä–∞–≤–∏–ª–æ:** –†–∞–∑–º–µ—Ä MacroProperty –≤ RTC –¥–æ–ª–∂–µ–Ω –¢–û–ß–ù–û —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Ä–∞–∑–º–µ—Ä—É, –æ–±—ä—è–≤–ª–µ–Ω–Ω–æ–º—É –≤ –º–æ–¥–µ–ª–∏

---

## üë• 14. –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∞–≥–µ–Ω—Ç–æ–≤

### –û–¥–∏–Ω–∞–∫–æ–≤—ã–π –Ω–∞–±–æ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

```python
# ‚ùå –û–®–ò–ë–ö–ê: –†–∞–∑–Ω—ã–µ –∞–≥–µ–Ω—Ç—ã —Å —Ä–∞–∑–Ω—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏
agent_heli = model.newAgent("heli")
agent_heli.newVariableUInt("idx", 0)
agent_heli.newVariableUInt("sne", 0)

agent_plane = model.newAgent("plane")
agent_plane.newVariableUInt("idx", 0)
# –ù–ï–¢ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π "sne" ‚Üí –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–∏
```

### –ü—Ä–∞–≤–∏–ª–æ —Ç–∏–ø–∞ –∞–≥–µ–Ω—Ç–∞

```python
# ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: –û–¥–∏–Ω —Ç–∏–ø –∞–≥–µ–Ω—Ç–∞ —Å –µ–¥–∏–Ω—ã–º –Ω–∞–±–æ—Ä–æ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
agent = model.newAgent("heli")
agent.newVariableUInt("idx", 0)
agent.newVariableUInt("aircraft_number", 0)
agent.newVariableUInt("sne", 0)
agent.newVariableUInt("ppr", 0)
# ... –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –í–°–ï–• –∞–≥–µ–Ω—Ç–æ–≤ —ç—Ç–æ–≥–æ —Ç–∏–ø–∞

# –í—Å–µ –∞–≥–µ–Ω—Ç—ã —Ç–∏–ø–∞ "heli" –±—É–¥—É—Ç –∏–º–µ—Ç—å –í–°–ï —ç—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
```

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

```python
# –ï—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–µ –Ω—É–∂–Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É –∞–≥–µ–Ω—Ç—É:
agent.setVariableUInt("optional_var", 0)  # ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤ 0 –∏–ª–∏ default –∑–Ω–∞—á–µ–Ω–∏–µ

# ‚ùå –ù–ï–õ–¨–ó–Ø: –ù–µ –æ–±—ä—è–≤–ª—è—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –¥–ª—è —á–∞—Å—Ç–∏ –∞–≥–µ–Ω—Ç–æ–≤
```

**–ü—Ä–∞–≤–∏–ª–æ:** –í—Å–µ –∞–≥–µ–Ω—Ç—ã –æ–¥–Ω–æ–≥–æ —Ç–∏–ø–∞ –î–û–õ–ñ–ù–´ –∏–º–µ—Ç—å –û–î–ò–ù–ê–ö–û–í–´–ô –Ω–∞–±–æ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, –æ–±—ä—è–≤–ª–µ–Ω–Ω—ã—Ö –≤ AgentDescription

---

## üîç 15. –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –º–µ–∂–¥—É –æ–±—ä–µ–∫—Ç–∞–º–∏

### –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö

```python
# ‚ùå –û–®–ò–ë–ö–ê: –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç–∏–ø–æ–≤
env.newMacroPropertyUInt32("mask", MAX_SIZE)  # –û–±—ä—è–≤–∏–ª–∏ UInt32

# –í RTC:
auto mask = FLAMEGPU->environment.getMacroProperty<int, MAX_SIZE>("mask");  # ‚ùå int –≤–º–µ—Å—Ç–æ unsigned int!
```

### –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤

```python
# ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: –¢–∏–ø—ã —Å–æ–≤–ø–∞–¥–∞—é—Ç
# –í –º–æ–¥–µ–ª–∏:
env.newMacroPropertyUInt32("mask", MAX_SIZE)

# –í RTC:
auto mask = FLAMEGPU->environment.getMacroProperty<unsigned int, MAX_SIZE>("mask");  # ‚úÖ
```

### –¢–∞–±–ª–∏—Ü–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è —Ç–∏–ø–æ–≤

| Python (Model) | C++ (RTC) | –†–∞–∑–º–µ—Ä |
|---------------|-----------|--------|
| `newPropertyUInt` | `unsigned int` | 32 –±–∏—Ç |
| `newPropertyInt` | `int` | 32 –±–∏—Ç |
| `newPropertyFloat` | `float` | 32 –±–∏—Ç |
| `newPropertyDouble` | `double` | 64 –±–∏—Ç |
| `newPropertyUInt64` | `uint64_t` | 64 –±–∏—Ç |
| `newPropertyInt64` | `int64_t` | 64 –±–∏—Ç |

### –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã –∏–º—ë–Ω –º–µ–∂–¥—É –æ–±—ä–µ–∫—Ç–∞–º–∏

```python
# ‚ùå –û–®–ò–ë–ö–ê: –û–¥–∏–Ω–∞–∫–æ–≤—ã–µ –∏–º–µ–Ω–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
env.newPropertyUInt("counter", 0)              # Environment property
agent.newVariableUInt("counter", 0)            # Agent variable
env.newMacroPropertyUInt32("counter", 100)     # MacroProperty

# –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –ø—É—Ç–∞–Ω–∏—Ü–∞ –≤ RTC –∫–æ–¥–µ!
```

### –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ

```python
# ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞ —Å –ø—Ä–µ—Ñ–∏–∫—Å–∞–º–∏
env.newPropertyUInt("env_counter", 0)          # Environment property
agent.newVariableUInt("agent_counter", 0)      # Agent variable
env.newMacroPropertyUInt32("mp_counter", 100)  # MacroProperty

# –ò–ª–∏ —á—ë—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—é:
env.newPropertyUInt("days_total", 365)
agent.newVariableUInt("repair_days", 0)
env.newMacroPropertyUInt32("mp5_lin", MAX_SIZE)
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏

```python
# ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –∏–º—ë–Ω
declared_names = set()

def safe_declare_property(env, name, value):
    if name in declared_names:
        raise ValueError(f"–ö–æ–Ω—Ñ–ª–∏–∫—Ç –∏–º–µ–Ω–∏: '{name}' —É–∂–µ –æ–±—ä—è–≤–ª–µ–Ω–æ!")
    declared_names.add(name)
    env.newPropertyUInt(name, value)
```

### –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã –º–µ–∂–¥—É –∞–≥–µ–Ω—Ç–∞–º–∏ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏

```python
# ‚ùå –û–®–ò–ë–ö–ê: –°–æ—Å—Ç–æ—è–Ω–∏–µ –∞–≥–µ–Ω—Ç–∞ —Å –∏–º–µ–Ω–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
agent.newState("idx")              # –°–æ—Å—Ç–æ—è–Ω–∏–µ "idx"
agent.newVariableUInt("idx", 0)    # –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è "idx"
# –ú–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø—É—Ç–∞–Ω–∏—Ü–µ!

# ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: –†–∞–∑–Ω—ã–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –∏–º—ë–Ω
agent.newState("repair")           # –°–æ—Å—Ç–æ—è–Ω–∏—è: repair, operations, etc.
agent.newVariableUInt("idx", 0)    # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ: idx, sne, ppr, etc.
```

**–ü—Ä–∞–≤–∏–ª–æ:** –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –æ–±—ä—è–≤–ª–µ–Ω–∏–µ–º –≤ –º–æ–¥–µ–ª–∏ (Python) –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –≤ RTC (C++). –ò–∑–±–µ–≥–∞–π—Ç–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –∏–º—ë–Ω –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏ –º–æ–¥–µ–ª–∏.

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤

### –ü–µ—Ä–µ–¥ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ–º —Ñ—É–Ω–∫—Ü–∏–π –≤ –æ–¥–∏–Ω —Å–ª–æ–π:

```python
# –§—É–Ω–∫—Ü–∏—è A: state_X -> state_Y
# –§—É–Ω–∫—Ü–∏—è B: state_W -> state_Z

–ü—Ä–æ–≤–µ—Ä–∫–∞ 1: state_X == state_W?     # ‚ùå –û–±—â–∏–π initial_state
–ü—Ä–æ–≤–µ—Ä–∫–∞ 2: state_Y == state_Z?     # ‚ùå –û–±—â–∏–π end_state
–ü—Ä–æ–≤–µ—Ä–∫–∞ 3: state_Y == state_W?     # ‚ùå –ü–µ—Ä–µ–∫—Ä—ë—Å—Ç–Ω–æ–µ A‚ÜíB
–ü—Ä–æ–≤–µ—Ä–∫–∞ 4: state_X == state_Z?     # ‚ùå –ü–µ—Ä–µ–∫—Ä—ë—Å—Ç–Ω–æ–µ B‚ÜíA

–ï—Å–ª–∏ –í–°–ï –ø—Ä–æ–≤–µ—Ä–∫–∏ == False ‚Üí ‚úÖ –ú–æ–∂–Ω–æ –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å
```

### –ü–µ—Ä–µ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –Ω–æ–≤–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π/—Å–≤–æ–π—Å—Ç–≤–∞:

```python
–ü—Ä–æ–≤–µ—Ä–∫–∞ 1: –ò–º—è —É–Ω–∏–∫–∞–ª—å–Ω–æ —Å—Ä–µ–¥–∏ –≤—Å–µ—Ö –æ–±—ä–µ–∫—Ç–æ–≤?
–ü—Ä–æ–≤–µ—Ä–∫–∞ 2: –¢–∏–ø –¥–∞–Ω–Ω—ã—Ö Python —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç C++ —Ç–∏–ø—É?
–ü—Ä–æ–≤–µ—Ä–∫–∞ 3: –†–∞–∑–º–µ—Ä –º–∞—Å—Å–∏–≤–∞ —Å–æ–≤–ø–∞–¥–∞–µ—Ç –º–µ–∂–¥—É –º–æ–¥–µ–ª—å—é –∏ RTC?
–ü—Ä–æ–≤–µ—Ä–∫–∞ 4: –ù–µ—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ —Å –∏–º–µ–Ω–∞–º–∏ states/functions?

–ï—Å–ª–∏ –í–°–ï –ø—Ä–æ–≤–µ—Ä–∫–∏ == True ‚Üí ‚úÖ –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å
```

### –ü–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º MacroProperty:

```python
–ü—Ä–æ–≤–µ—Ä–∫–∞ 1: –û–±—ä—è–≤–ª–µ–Ω–æ –≤ –º–æ–¥–µ–ª–∏?
–ü—Ä–æ–≤–µ—Ä–∫–∞ 2: –†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å —Å–æ–≤–ø–∞–¥–∞–µ—Ç?
–ü—Ä–æ–≤–µ—Ä–∫–∞ 3: –¢–∏–ø –¥–∞–Ω–Ω—ã—Ö —Å–æ–≤–ø–∞–¥–∞–µ—Ç?
–ü—Ä–æ–≤–µ—Ä–∫–∞ 4: –ó–∞–ø–∏—Å—å —á–µ—Ä–µ–∑ –∞—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏?
–ü—Ä–æ–≤–µ—Ä–∫–∞ 5: –ß—Ç–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å –≤ —Ä–∞–∑–Ω—ã—Ö —Å–ª–æ—è—Ö?

–ï—Å–ª–∏ –í–°–ï –ø—Ä–æ–≤–µ—Ä–∫–∏ == True ‚Üí ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
```

---

## üìä –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –≤—Å–µ—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π

| # | –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ | –ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å | –°—Ç–∞—Ç—É—Å –ø—Ä–æ–≤–µ—Ä–∫–∏ |
|---|-----------|-------------|-------------|-----------------|
| 1 | States | –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã –≤ Layer | ‚ùå –ö—Ä–∏—Ç–∏—á–Ω–æ | ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ |
| 2 | GPU | –ë–∞—Ä—å–µ—Ä—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ | ‚ö†Ô∏è –í–∞–∂–Ω–æ | ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ |
| 3 | MacroProperty | Read/Write –ø–∞—Ç—Ç–µ—Ä–Ω | ‚ö†Ô∏è –í–∞–∂–Ω–æ | ‚úÖ Best practice |
| 4 | Messages | –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±–º–µ–Ω–∞ | ‚ùå –ö—Ä–∏—Ç–∏—á–Ω–æ | ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ |
| 5 | Agents | Birth/Death | ‚ùå –ö—Ä–∏—Ç–∏—á–Ω–æ | ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ |
| 6 | Host | HostFunction | ‚ö†Ô∏è –í–∞–∂–Ω–æ | ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ |
| 7 | RTC | Conditions | ‚ÑπÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è | ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ |
| 8 | Environment | PropertyArray vs Macro | ‚ÑπÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è | ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ |
| 9 | Layer | –ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è | ‚ö†Ô∏è –í–∞–∂–Ω–æ | ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ |
| 10 | Model | –û–±—ä—è–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö | ‚ùå –ö—Ä–∏—Ç–∏—á–Ω–æ | ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ |
| 11 | MacroProperty | –ê—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ | ‚ùå –ö—Ä–∏—Ç–∏—á–Ω–æ | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ |
| 12 | MacroProperty | Read/Write –≤ —Å–ª–æ–µ | ‚ö†Ô∏è –í–∞–∂–Ω–æ | üü° Best practice |
| 13 | Arrays | –†–∞–∑–º–µ—Ä–Ω–æ—Å—Ç–∏ | ‚ùå –ö—Ä–∏—Ç–∏—á–Ω–æ | ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ |
| 14 | Agents | –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö | ‚ùå –ö—Ä–∏—Ç–∏—á–Ω–æ | ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ |
| 15 | Types | –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç–∏–ø–æ–≤ | ‚ùå –ö—Ä–∏—Ç–∏—á–Ω–æ | ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ |

**–õ–µ–≥–µ–Ω–¥–∞:**
- ‚ùå –ö—Ä–∏—Ç–∏—á–Ω–æ ‚Äî –Ω–∞—Ä—É—à–µ–Ω–∏–µ ‚Üí –æ—à–∏–±–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –∏–ª–∏ runtime error
- ‚ö†Ô∏è –í–∞–∂–Ω–æ ‚Äî –Ω–∞—Ä—É—à–µ–Ω–∏–µ ‚Üí race conditions, –Ω–µ–¥–µ—Ç–µ—Ä–º–∏–Ω–∏–∑–º
- ‚ÑπÔ∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è ‚Äî —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

---

## üìö –ò—Å—Ç–æ—á–Ω–∏–∫–∏

1. **–ö–æ–¥ –ø—Ä–æ–µ–∫—Ç–∞:** `docs/flame_gpu_state_restrictions.md`, `docs/flame_gpu_factcheck.md`
2. **FLAME GPU 2:** https://docs.flamegpu.com/
3. **GitHub:** https://github.com/FLAMEGPU/FLAMEGPU2
4. **–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** https://docs.flamegpu.com/guide/environment/

---

**–í–µ—Ä—Å–∏—è:** 1.1 (–æ–±–Ω–æ–≤–ª–µ–Ω–æ —Å —É—á—ë—Ç–æ–º —Ñ–∞–∫—Ç-—á–µ–∫–∞)  
**–î–∞—Ç–∞:** 02-10-2025  
**–°—Ç–∞—Ç—É—Å:** –ê–∫—Ç—É–∞–ª—å–Ω–æ, —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤–∏–ª–∞ 11 –≤ –∏—Å—Ö–æ–¥–Ω–æ–º –∫–æ–¥–µ FLAMEGPU2

